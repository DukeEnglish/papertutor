IBGP: Imperfect Byzantine Generals Problem for Zero-Shot
Robustness in Communicative Multi-Agent Systems
YihuanMaoâˆ—,YipengKangâˆ—,PeilunLi,NingZhang,WeiXu,ChongjieZhang
*EqualContribution
maoyh20@mails.tsinghua.edu.cn,fringsoo@hotmail.com,peilun.li@confluxnetwork.org,
zhang.ning@wustl.edu,weixu@tsinghua.edu.cn,chongjie@wustl.edu
ABSTRACT models,theyarenotspecificallydesignedformessagesynchro-
Aslargelanguagemodel(LLM)agentsincreasinglyintegrateinto nization.Therefore,wecanreasonablyassumethatagentslack
ourinfrastructure,theirrobustcoordinationandmessagesynchro- areliablepredefinedbroadcastmoduletoensureconsistentmes-
nizationbecomevital.TheByzantineGeneralsProblem(BGP)isa sagingduringsynchronization.Discrepanciesmayarisebetween
criticalmodelforconstructingresilientmulti-agentsystems(MAS) theirmessagesandfinalactionsfortworeasons:(1)theagentsâ€™
underadversarialattacks.Itdescribesascenariowheremalicious outputsmaybeaffectedbyhallucinations,and(2)agentsmaybe
agentswithunknownidentitiesexistinthesystem-situationsthat, compromisedandactmaliciously.Overall,themessagesandac-
inourcontext,couldresultfromLLMagentsâ€™hallucinationsorex- tionsofgeneral-purposeagentsareoftenbasedonnaturallanguage
ternalattacks.InBGP,theobjectiveoftheentiresystemistoreach ratherthanpredefinedprotocols,makingabnormalbehaviorlikely
aconsensusontheactiontobetaken.TraditionalBGPrequires duringsynchronizationtasks.Maliciousagentscanleadtodisas-
globalconsensusamongallagents;however,inpracticalscenarios, trousconsequences;forinstance,tamperingwithvehicle-to-vehicle
globalconsensusisnotalwaysnecessaryandcanevenbeinefficient. (V2V)messagescanresultinmiscoordination,potentiallycausing
Therefore,thereisapressingneedtoexplorearefinedversionof significantpropertydamageandlossoflife.Thissecurityconcern
BGPthatalignswiththelocalcoordinationpatternsobservedin extendsbeyondautonomousvehiclestovariousapplicationsre-
MAS.WerefertothisrefinedversionasImperfectBGP(IBGP)in quiringreliablecoordination.Forinstance,variousapplications
ourresearch,aimingtoaddressthisdiscrepancy. necessitatethecoordinationofagentswithdifferentfunctionalities,
To tackle this issue, we propose a framework that leverages such as in video generation [3], software development [7], and
consensusprotocolswithingeneralMASsettings,providingprov- problem-solving[22].
ableresilienceagainstcommunicationattacksandadaptabilityto Traditionally,thisissuerelatestotheconsensusproblemindis-
changingenvironments,asvalidatedbyempiricalresults.Addition- tributedsystems,suchastheByzantineGeneralsProblem(BGP)
ally,wepresentacasestudyinasensornetworkenvironmentto [11],wheretheprimaryobjectiveistosynchronizecontentacross
illustratethepracticalapplicationofourprotocol. all benign nodes and achieve system-wide consistency, even in
thepresenceofnodefailures.Inthiscontext,aperfectprotocol
isessential.However,inthecoordinationofmulti-agentsystems,
KEYWORDS
consensusservesasameanstoachieveteamgoals,allowingforare-
Multi-agentSystems,Zero-shotRobustness,safety,ByzantineGen-
laxationofstringentrequirements;often,itsufficestosynchronize
eralsProblem
onlyaminimalnumberofbenignagents.
Forexample,inaPredator-Preyenvironment[18],wherepreda-
1 INTRODUCTION torsneedtocooperatetohunt,miscoordinationcouldbefatal,as
WiththeadvancementofAItechnology,theworldisenteringa asinglepredatormightbekilledbytheprey.However,aglobal
newerainwhichAIagentswillconstituteasignificantportion consensusisunnecessary,asnotallpredatorsneedtoparticipatein
ofourinfrastructure.Intheforeseeablefuture,spontaneouslyas- thehunt.Anotherexampleisthethresholdpublicgoodsgame[10]
sembledgroupsofheterogeneousAIagentsâ€”ofvarioustypesand inexperimentaleconomics,whichmirrorsglobalcooperationon
functions,developedbydifferentmanufacturersâ€”willfrequently climateorenergyissues:agentscontributefundstoasharedpot,
interacttosolvetemporarydailytasks.Thecoexistenceandco- andpositiveutilityisonlyachievedwhencontributionsexceeda
ordinationofdiverseagentswillbecrucial,muchliketraditional threshold,necessitatingclosecollaboration.
humancoordination. Totacklethecoordinationchallengesinmulti-agentsystems,
Akeycategoryofcoordinationinvolvesthesynchronizationof wefirstformalizetheissue,referringtoitastheImperfectByzan-
messagesamongagents.Thisisexemplifiedinapplicationssuch tine Generals Problem (IBGP). While it shares similarities with
assensornetworks[14]andUAVcontrol[4].Whentheagents theclassicBGP,IBGPfundamentallydiffersinitscoordinationre-
areheterogeneous,suchasautonomousvehicles[26]withcom- quirements,emphasizingpartialconsensus.Wethenintroducea
munication modules driven by general-purpose large language protocolspecificallydesignedfortheIBGP.AsshowninFigure1,
ourIBGPprotocoldemandslessredundancyandaccommodatesa
higherpercentageofmaliciousagentscomparedtoexistingBGP
Proc.ofthe24thInternationalConferenceonAutonomousAgentsandMultiagentSystems
protocols.
(AAMAS2025),A.ElFallahSeghrouchni,Y.Vorobeychik,S.Das,A.Nowe(eds.),May19
â€“23,2025,Detroit,Michigan,USA.Â©2025InternationalFoundationforAutonomous IntherealmofAGI,theimplementationofourprotocoldoesnot
AgentsandMultiagentSystems(www.ifaamas.org).Thisworkislicencedunderthe
requireadditionaldevelopmentsteps;instead,itcanbeintegrated
CreativeCommonsAttribution4.0International(CC-BY4.0)licence.
4202
tcO
12
]AM.sc[
1v73261.0142:viXraFigure1:AnillustrationofthemotivationforproposingIBGP.(a)Agentscoordinateonataskthatrequiresfourparticipants.
(b)Thepresenceofmaliciousagentscapableofsendingmisleadingmessagesmayleadtothefailureofcoordinationamong
theoriginalfouragents.Asaresult,someredundancyisnecessarytoensuresafecoordinationthroughconsensusprotocols.(c)
TraditionalmethodsforachievingoverallconsensusinvolvedevelopingBGPprotocols,buttheseareinefficientandrequire
excessiveredundancyincoordinationcontextsbecausetheyâ€™respecificallydesignedforoverallconsensusscenarios.The
graphshowsthatBGPbecomesinfeasiblewhenmaliciousagentsexceed33%.(d)Wedefinethecoordinationproblemunder
communicativeattackasIBGPandproposetailoredprotocolsforit.Ourprotocolissuitableforcoordinationsettingsand
requireslessredundancy,accommodatingahigherpercentageofmaliciousagents(upto50%).Detailsabout(c)and(d)is
providedinAppendixA.6.
into agents through simple prompt instructions, leveraging the theByzantineGeneralsProblemthatisdesignedforpracticaluse
agentsâ€™ inherent capabilities. If an agent fails to understand or indistributedsystems.Rabinâ€™swork[16]providedasolutionto
execute this protocol, or if it intentionally disrupts the process theByzantineGeneralsProblemthatdidnotrequireacentralized
followinganattack,itwillbeclassifiedasamaliciousnode.Aslong authorityoratrustedthirdparty.Instead,itintroducedtheideaof
asthenumberofsuchnodesremainslow,ourprotocolcancontinue arandomizedprotocolwhereeachnodechoosesarandomvalue
tofunctioneffectively.Experimentsdemonstratetheeffectiveness thatisusedtobreaktiesintheeventofconflictingmessages.The
ofourconsensusprotocolsinbothIBGPandmorepracticaltasks. randomizationensuresthatByzantinenodescannotpredicttheout-
Our technical contributions are two-fold: (i) we define IBGP, comeoftheprotocol,makingitmoredifficultforthemtointerfere
highlightingthechallengesofpartialcoordinationinMulti-Agent withtheconsensusprocess.
Systems,and(ii)wedeviseaninnovativeconsensusprotocolthat InthecontextofMASresearch,oneimportantresearchbranch
ensuressecurecoordination,validatedthroughtheoreticalanalysis of MAS involves learning a communications system to achieve
andpracticalexperimentation. acommongoal.Someuseexplicitcommunicationsystemswith
discreteorcontinuoussignals,mainlytoconveyinformativelocal
observations to each other, to deal with partial observation [8,
2 RELATEDWORK 21]. Some use communication for global value optimization [1,
TheByzantineGeneralsProblem[11]describesascenariowherea 9].Differentfromthesecategories,inMASresearch,consensus
groupofByzantinegeneralsmustagreeonacommonplanofac- referstoachievingaglobalagreementoveraparticularfeatureof
tion,eventhoughsomeofthegeneralsmaybetraitors.Thismodels interest[4â€“6,12â€“14,25].Ithasbeenwidelystudiedasitaffects
alargetypeofdistributedconsistencyproblemincomputerscience. communicationandcollaborationbetweenagents.However,very
Byzantineconsensusprotocolsinadistributednetworkcanbeused fewofthempaidattentiontoadversarialattacks.Recentlysome
toreachanagreementonasinglevalue,eveninthepresenceof researchershaveinvestigatedalgorithmstomitigatetheimpact
faultyormaliciousnodes.ImportantworksofByzantineconsensus ofmaliciousagents[20,23].However,theirmethodologieslack
protocolsincludePracticalByzantineFaultTolerance(PBFT)[2] zero-shotadaptionabilitytotheattackersandtheenvironment.
andRandomizedByzantineGenerals[16].PBFTisasolutiontoğ‘€ ğ‘–0 âˆˆ{0,1},ğ‘
ğ‘–
âˆˆ{0,1}
BGP IBGP
ğ‘›benignagents ğ‘›benignagents,coordinationthresholdğ‘˜
ğ‘…=ï£±ï£´ï£´ï£² 1 1( (# #( (ğ‘ ğ‘ğ‘–
ğ‘–
= =1 1) )= =ğ‘› 0)) i if f# #( (ğ‘€ ğ‘€ğ‘– ğ‘–0 0= =1 1) )= =ğ‘› 0,, ğ‘…=ï£±ï£´ï£´ï£² 1 1( (# #( (ğ‘€ ğ‘€ğ‘– ğ‘–0 0= =1 1, ,ğ‘ ğ‘ğ‘–
ğ‘–
= =1 1) )=â‰¥ 0ğ‘˜ )) ii ff ## (( ğ‘€ğ‘€ ğ‘–ğ‘– 00 == 11 ))= <ğ‘› ğ‘˜,
,
ï£´ï£´ 1(#(ğ‘ ğ‘– =1)=ğ‘›)+1(#(ğ‘ ğ‘– =1)=0) otherwise. ï£´ï£´ 1(#(ğ‘€ ğ‘–0 =1,ğ‘ ğ‘– =1) â‰¥ğ‘˜)+1(#(ğ‘€ ğ‘–0 =1,ğ‘ ğ‘– =1)=0) otherwise.
ï£³ ï£³
Table1:ThedifferenceofdefinitionbetweenBGPandIBGP.
3 IMPERFECTBYZANTINEGENERALS observationğ‘€0 =1arepermittedtotakethecooperativeactionğ‘=
PROBLEM(IBGP) 1.ThetwopropertiesofAgreementandConsistencyareredefined
to align with the partial coordination prevalent in Multi-Agent
3.1 Preliminaries:BGP
Systems.Table1illustratesthedistinctionsbetweenIBGPandthe
InBGP,thereareğ‘›benignagentsandğ‘¡ attackeragentscommu- originalBGP.
nicatingwitheachother.Theattackerscansendfalsemessages
todisturbcoordination.Eachagentbeginswithaninitialmessage Definition2. AsystemsolvesIBGPififitmeetsthefollowing
ğ‘€0 âˆˆ{0,1}asitsinitialproposalandfinallymakesadecisionac- requirementsunderanyattack:
tionğ‘âˆˆ{0,1}.Generally,avalueof1indicatescooperation,while â€¢ Agreement:#(ğ‘€ ğ‘–0 =1,ğ‘ ğ‘– =1) âˆˆ{0}âˆª[ğ‘˜,ğ‘›].(Atleastğ‘˜agents
0indicatesgivingup.TheformaldefinitionofBGPisprovidedin thatobserveğ‘€0 =1arerequiredtocooperate;otherwiseno
Definition1.Forclarity,wealsopresentanequivalentdefinition
agentshouldact.)
w rei wth ai rn dt fh ue nc co tin ot nex into tf hR ee lein ftfo pr oc re tm ioe nn ot fL Tea ar bn lein 1g ,, was hid ce hp oic ut te ld inb ey stt hh ee â€¢ Consistency:If#(ğ‘€ ğ‘–0 =1)=ğ‘›,then#(ğ‘€ ğ‘–0 =1,ğ‘ ğ‘– =1) â‰¥ğ‘˜.(If
thenumberofavailableagentsissuper-sufficient,cooperation
optimalactionbasedoncertainobservations.
musthappen.)
Definition1. AsystemsolvesBGPifitmeetsthefollowingre- Similarly,mis-coordinationisdefinedasthesituation0<#(ğ‘€0
=
quirementsunderanyattack: ğ‘–
1,ğ‘ ğ‘– = 1) < ğ‘˜,whereAgreement isviolated.Itmeansthatsome
â€¢ Agreement:ğ‘1=ğ‘2=Â·Â·Â·=ğ‘ ğ‘› âˆˆ{0,1}.(Allğ‘›benignagents agentstrytocoordinatebutfail.JustlikeBGP,thegoalofIBGPis
mustagreeonthesameaction,either0or1.) toavoidmis-coordinationaltogether,andalthoughweuseRein-
â€¢ Consistency:Ifğ‘€ 10 = ğ‘€ 20 = Â·Â·Â· = ğ‘€ ğ‘›0 = ğ‘¥,thenğ‘1 = ğ‘2 = forcementLearningtoformulateBGPandIBGPinthefollowing
Â·Â·Â·=ğ‘ ğ‘› =ğ‘¥.(Whenallğ‘›agentshaveidenticalinitialobser- section,ourfocusisonrobustnessratherthanexpectedreturn.
vations,theiractionsmustalsobeidentical.)
Didacticexample. TounderstandthechallengeofIBGP,we
Alltheagents,includingboththeagentsandtheattackers,can
illustratethatasingle-rounddecisionprocessisinadequateforad-
communicatethroughacompletenetworkforafewrounds.Agents
dressingsuchissuesthroughadidacticexamplefeaturingaspecific
decidewhatmessagestosendattheendofeachroundafterreading
attackingpattern.
messagesfromotheragents.InBGP,theattackersaimtobreakthe
First,itâ€™sobviousthatareasonablesingle-rounddecisionprocess
consensusofagents,buttheagentsareunawareoftheidentityof
foragentğ‘–istotakeğ‘
ğ‘–
=1ifthenumberofreceivedsignalsexceeds
thecommunicatingagents(benignormalicious).
agiventhreshold,i.e.,#(ğ‘€
Â·â†’ğ‘–
=1) â‰¥ğœ†,whereğœ†isthethresholdof
Mis-coordinationdescribesthesituationwhereAgreement is
thedecisionprocess.Forsimplicity,weassumethestrategyshares
violated,andresearchershavedesignedconsensusprotocolsproven
withallagents.
topreventmis-coordinationunderanycommunicativeattacks.
InFigure3,theIBGPwithğ‘› = 5,ğ‘¡ = 1,ğ‘˜ = 3includes5be-
nignagentsand1attacker.Figure3ashowsanexampleofmis-
3.2 IBGP coordinationwhenthethresholdofthesingle-roundprocessis
BGPservesasafundamentalconceptofextensiveresearchwithin settoğœ† = 4.Thenumberofinitialactivehonestagents#(ğ‘€0 =
ğ‘–
theareaofDecentralizedSystems,embodyingthecrucialattributes 1) =3.Aftersendingmessages,agentssumupthereceivedmes-
ofagreementandconsistencywithinadecentralizedframework. sages,andsomeget3messageswhileothersget4messages.This
Nevertheless,thesepropertiesmaynotalwaysapplyinmanyMulti- results in that the agent who receives 3 messages give up and
AgentSystems(MAS),wherepartialcoordinationisacommonpat- causes mis-coordination. The example in Figure 3b shows that
ternratherthanuniversalcoordination.Forexample,inapredator- mis-coordinationcouldstillhappenevenifweraisethethreshold.
preyenvironment[19],onlyasubsetofpredatorsmayberequired Whenthethresholdissettoğœ†=5,thefailedexamplehappensina
tocollaborateinhuntingaparticularprey,ratherthaninvolving differentinitialization,wherethereare4activehonestagents.After
allpredatorsinthepursuit. sendingmessages,thesumofreceivedmessagesare4and5respec-
TocapturethiscoordinationpatternwithinMAS,weintroduce tively.Sincetheagentsreceiving4messagesgiveupandtheagents
IBGPinDefinition2,wheresuccessfulagreementnecessitatesthe receiving5messagesstilltrytocoordinate,themis-coordination
cooperation of onlyğ‘˜. Besides, only the agents with the initial happensagain.ğ‘€10 broadcast ğ‘€11 ğ‘€21 ğ‘€31 Agent
â€¦
1 input ğ‘€ğ‘1 ğ‘€1 ğ‘€11 ğ‘1
ğ‘€20 broadcast ğ‘€12 ğ‘€22 ğ‘€32 Agent
â€¦
2 input ğ‘€ğ‘2 ğ‘€2 ğ‘€21 ğ‘2
ğ‘€30 broadcast ğ‘€13 ğ‘€23 ğ‘€33 Agent
â€¦
3 input ğ‘€ğ‘3
#jMji=1
ğ‘€3 ğ‘€31
â€¦
ğ‘3
â‰¥ğ‘˜+Î»ğ‘œğ‘Ÿğ‘˜ â€¦
â€¦ â€¦ â€¦ â€¦
ğ‘€N0 broadcast ğ‘€1ğ‘ ğ‘€2ğ‘ğ‘€3ğ‘ Agent â€¦N input ğ‘€ğ‘ğ‘ ğ‘€N ğ‘€N1 ğ‘N
Protocol Protocol Protocol
ğ‘´0 ğ‘´à·©1 ğ‘´1 Round Round Round
Protocol Round 1 2 3 r
Terminate = 0 Terminate = 0 Terminate = 0 Terminate = 1
Figure2:Ageneralframeworkforconsensusprotocol.
(1) Theglobalrandomizerinitializesthenumberofroundsfrom
adistributionğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
âˆ¼R.(Risthesampledistributionofthe
totalnumberofroundsğ‘Ÿ intheIBGPProtocol.ğ‘Ÿ isnâ€™t
ğ‘¡ğ‘œğ‘¡ ğ‘¡ğ‘œğ‘¡
revealeduntilthelastroundarrives.)
(2) Initialround:Eachagentğ‘–broadcastsitsinitialproposalğ‘€0
ğ‘–
toeachagentsğ‘—.
(3) Roundğ‘Ÿ âˆˆ {1Â·Â·Â·ğ‘Ÿ ğ‘¡ğ‘œğ‘¡}:Eachagentğ‘– âˆˆ {ğ‘–|ğ‘€ ğ‘–ğ‘Ÿâˆ’1 =1}broad-
castsğ‘€ ğ‘–ğ‘Ÿ =1(# ğ‘—âˆˆ[ğ‘](ğ‘€ğ‘Ÿ ğ‘—â†’âˆ’1
ğ‘–
=1) â‰¥ğ‘˜+ğœ†).
(a)Anexampleofmis-coordinationwhenğœ†=4. (4) Decisionmakinground:Eachagentğ‘– âˆˆ{ğ‘–|ğ‘€ ğ‘–ğ‘Ÿğ‘¡ğ‘œğ‘¡ =1}select
actionğ‘ ğ‘– =1(# ğ‘—âˆˆ[ğ‘](ğ‘€ğ‘Ÿ ğ‘—â†’ğ‘¡ğ‘œğ‘¡ ğ‘– =1) â‰¥ğ‘˜).
Whenassigningğœ†=ğ‘¡,wehavethefollowingtheoremwithits
proofinAppendixA.2:
Theorem1. (ğ‘˜,ğ‘¡)-protocolisrobustwithahighlevelofconfidence
1âˆ’max ğ‘Ÿ{ğ‘(ğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=ğ‘Ÿ)}underanyattackonIBGP(t,k).
NotethattheiterativeroundsofIBGPcommunicationwonâ€™t
bottlenecktheefficiencyofoursystem,becauseofthesimplicity
ofthecommunicationcomputation.Thereâ€™sjustbasicpairwisebit
(b)Anexampleofmis-coordinationwhenğœ†=5.
communicationamongagentsandastraightforwardlineardecision-
Figure3:Examplesofmis-coordinationunderdifferentğœ†s, makingprocessforeachagent.Thissimplicitystandsincontrastto
themorecomplexprocessesfoundelsewhereintheMARLsystem.
showingthelimitationofsingle-rounddecisionprocess.
Additionally,inreal-worldmulti-agentcommunicationcontexts,
usingmultipleroundsofcommunicationforsendingonepieceof
contentistypicalandthecostisaffordable.
4 METHOD
Didacticexample. Weprovideadidacticexampletoillustrate
4.1 ConsensusProtocolforIBGP howtheprotocoloperates.Provingtherobustnessofamethod
TosolveIBGP,weproposeaconsensusprotocolasillustratedin requiresconsideringallpotentialscenarios,whichcanbespace-
Figure2.Thisprotocolemploysamulti-roundbroadcastpattern intensive,orrelyingonthemathematicalproofofTheorem1.There-
andincorporatestheconceptofanindependentglobalrandomizer fore,wefocusonhowtheprotocolpreventsthemis-coordination
(implementedsimilarlywith[16]).Ineachround,arandomized showninthedidacticexampleofIBGPinSection3.2.Acomprehen-
bitvariabledetermineswhetheritisthelastround(withavalue siveexplorationofallpossiblescenariosisdiscussedinAppendix
of1indicatingthefinalroundand0indicatingthattheprocess A.1.
shouldcontinue).Agentsbroadcasttheirproposalsanddealwith ThefollowinggameisanIBGPwithğ‘›=5,ğ‘¡ =1,ğ‘˜ =3,including
thereceivedproposalsundertheeffectoftherandomizedbit.The 5benignagentsand1attacker,andweshowhowthe(ğ‘˜,ğ‘¡)-protocol
resultsserveastheproposalsforthenextroundorasthefinal worksunderdifferentinitializations.InFigure4a,theintialnumber
decisionsinthelastround.Thedefaultproposalsanddecisionsare ofactivehonestagents#(ğ‘€0 =1) =3.Thethresholdofasingle
ğ‘–
bothinitializedto0ifnotspecified.Theframeworkamountstothe roundisdynamicallydecidedbytheglobalrandomizer(from3and
(ğ‘˜,ğœ†)-protocollistedbelow: 4),andthereforetheagentreceiving3messagesisprobablybothto(a)Whenthenumberofinitialactivehonestagents#(ğ‘€ ğ‘–0=1)=3,theiterationdoesnâ€™tcausefinalmis-coordination.
(b)Whenthenumberofinitialactivehonestagents#(ğ‘€ ğ‘–0=1)=4,theiterationdoesnâ€™tcausefinalmis-coordination.
Figure4:Examplesoftheiterationsoftheprotocol.
continueorgiveup.Ifitcontinues,theactiveagentsremainsthe
same.Ifitgiveup(thethirdsubfigure),thenumberofactiveagents
decreasesto2,whichisatemporarymis-coordination.Luckily,
suchtemporarymis-coordinationonlylastsfor1round,andin
thenextround,allagentswillgiveupduetothefewerreceived
messages.Inconclusion,undertheiterativeprotocol,thetemporary
mis-coordinationcanonlyexistsforasingleround,andsincethe
realnumberofroundsisunknowntotheattacker,thesuccessful
attackcanonlyhappenwithalowprobability.InFigure4b,since
thethresholdis3or4,theywillalwayscoordinate.
4.2 IntegratingIBGPwithMulti-Agent Figure5:Thelearnableactionselectionwiththeconsensus
protocol.
ReinforcementLearning
TomanifesttheeffectivenessoftheIBGPconsensusprotocol,we
invokeitasacoordinationmoduleinthedecentralizedmulti-agent historyğœ
ğ‘–
âˆˆTâ‰¡(Î©Ã—ğ´)âˆ—Ã—Î©.Duringtheactionselectionprocess,
partially-observableMDP(Dec-POMDP)task.Thetaskconsistsof theagentdeciceswhethertoselectanormalactionorproposea
atupleğº=âŸ¨ğ¼,ğ‘†,ğ´,ğ‘ƒ,ğ‘…,Î©,ğ‘‚,ğ‘›,ğ‘¡,ğ›¾âŸ©,whereğ¼ isthefinitesetofğ‘›+ğ‘¡ coordinationconsensusonacertaintarget.
agentsinteractingandcommunicatingwitheachother.ğ‘›ofthe Forinstance,considerapredator-preygame,ğ‘œ encapsulatesthe
ğ‘–
agentsarebenign,andğ‘¡ ofthemaremaliciouswhosecommuni- statesofneighboringgridsrelativetoagentğ‘–;andğ‘ includespos-
ğ‘–
cationchannels(insteadofactions)areattacked.InDec-POMDP, siblemovementslikegoup,godown,goleftandgoright,alongside
ğ‘†,ğ´,Î©arethestate,actionandobservationspace.ğ‘‚istheobserva- theconsensus-awareactionproposetocatch.Withintheconsen-
tionfunction,andğ‘ƒ isthetransitionfunctionoftheenvironment. susprocess,ğ‘€ ğ‘–0 =1ifğ‘
ğ‘–
issettoproposetocatch,indicatingthe
ğ‘…istheglobalrewardfunction,andğ›¾ âˆˆ [0,1)isthediscountfactor. intentiontopursuetheprey,asdepictedinFigure5byanagent
ThewholesystemistrainedbyQ-learning,wherethegoalisto emittingbothadashedgreenlineandasolidblueline.Incontrast,
collectivelymaximizetheglobalreturnE ğ‘[(cid:205) ğ‘¡âˆ =0ğ›¾ğ‘¡ğ‘… ğ‘¡]. ğ‘€ ğ‘–0 =0underotheractions,meaningthatthereâ€™snopropose,as
ThewholepipelineisshowninFigure5.Theconsensusprocess depictedinFigure5byanagentemittingbothasolidgreenlineand
serves as a subprocess within the broader POMDP framework. adashedblueline.Anagentwouldselectanğ‘ thatmaximizesits
ğ‘–
At each time step,ğ‘  âˆˆ ğ‘† is the state of the environment. Each localQ-valuebasedonğ‘œ ğ‘–.Whentheagentâ€™sobservationindicates
agentğ‘– receivesapartialobservationofthestateğ‘œ drawnfrom apotentialforcoordination(e.g.,ğ‘œ revealsproximitytotheprey),
ğ‘– ğ‘–
Î©,accordingtotheobservationfunctionğ‘‚(ğ‘ ,ğ‘–).Thentheagent theactionproposetocatchischosenbythepolicynetwork,and
selectsanactionğ‘ fromğ´,basedonitslocalaction-observation ğ‘€0switchesto1,participatingintheconsensusprocess.Ifagents
ğ‘– ğ‘–â€¢ Predator-prey:Itismodifiedfromthewell-knownpredator-
preyenvironment[19],requiringseveralpredatorstohunt
thepreytogether.Wetestsingle-targetPredator-prey(4,1,2,1),
multi-targetPredator-prey(5,2,2,1),andlarge-scalePredator-
prey(20,4,2,2)andPredator-prey(20,1,4,2).
â€¢ Hallway:Itisintroducedin[21],requiringseveralagentsto
reachthedestinationsimultaneously.Besidestheenviron-
mentwiththeoriginalparametersHallway(3,1,2,1),wealso
testitsscalabilitywithmoreagentsandalargercoordination
thresholdinHallway(10,1,5,2).
â€¢ 4bane_vs_1hM:ItisbuiltontheSMACbenchmark(Star-
CraftMulti-agentChallenge)[17].4bane_vs_1hMisanen-
vironmentmodifiedfrom3bane_vs_1hM,whichisusedin
(a)4bane_vs_1hM previouscommunicativeMARLresearch.Weaddanagent
becauseoftheadditionalcommunicativeattack.Itrequires
theagents(3banelings)toattacktheenemysimultaneously;
otherwise,theenemywillhealitselfandnolongercanbe
killed.
â€¢ 3z_vs_1r:WealsocreateanewSC2environment,inwhich
two agents (zealots) are required to attack the enemy (a
roach)simultaneously.Iftheyfailtodoso,theenemyâ€™slong-
distancefirepowerwillsuccessivelyeliminatetheagents,
resultingininsufficientdamagetodefeattheenemy.This
taskrequiresbothresilienceagainstattacksandefficiency.
Waitingforcoordinatedactionputstheagentsindanger
ofbeingkilledbytheenemy.Therefore,itisessentialto
findabalancebetweencoordinationwiththefewestagents
(b)3z_vs_1r
possible and defense against attacks. This task serves as
achallengingbenchmarkandhighlightsthepotentialfor
Figure6:Thescreenshotof2StarCraftIIenironments.
improvingefficiencyandrobustnesssimultaneously.
Weconductexperimentstodemonstratethezero-shotrobust-
reachconsensusoncatchafterthecommunicationaccordingto nessoftheIBGPprotocolintheenvironments.AlthoughtheIBGP
theprotocol,theagentwillthencatchtheprey.Ifagentsreach protocoldefineshowtocommunicate,theagentsstillneedtolearn
consensusonnotcatching,theagentswithcatchproposalsjust awell-performingpolicy,whichincludesdecisionsonhowtomove
giveupcooperativecatchingatthisstepanddonothing. andwhentoproposeaconsensus.Toevaluatethezero-shotrobust-
nessofalgorithms,wedefinetherobustnesspercentageastheratio
ofperformancewithattackers(duringthetestingphase)toperfor-
5 EXPERIMENTS
mancewithnoattackers(duringthetrainingphase).Specifically,
WhileTheorem1ensuresthattheproposedprotocolguarantees
wetrainattackersâ€™communicationtoharmthebenignagentsâ€™per-
safecoordinationintheImperfectByzantineGeneralsProblem
formancetothegreatestextentinthetestingphase,thusdisplaying
(IBGP),itraisesintriguingquestions:(i)IstheIBGPprotocolappli-
zero-shotrobustnessagainstanyattackscheme.Ifthealgorithmis
cabletotheMARLsetting,asdiscussedinSection4.2,anddoesit
notrobustagainstcommunicativeattacks,theresultofthetesting
outperformbaselinesintermsofrobustness?(ii)Howcanweutilize
phasewillsignificantlydecay.
theprotocolinreal-worldapplications?InSection5.1,wecompare
Table2indicatestherobustnesspercentageoftheIBGPprotocol
theconsensus-basedmethodâ€”integratingtheIBGPprotocolinto
inthefirstcolumn,whilethesecondcolumndisplaystheratio
theMARLpipelineâ€”withexistingRL-basedapproachestoevaluate
of recursive training, which means that the training process of
robustnessunderattack.Toaddressthesecondquestion,Section
agentsandattackersisrepeated.Recursivetrainingisoneofthe
5.2presentsacasestudyinwhichweapplyaconsensus-based
contributionsofthealgorithmin[23].Thelasttwocolumnprovides
algorithmtoaddresstheSensorNetworkproblem.Implementation
acomparisonwithAME[20]andADMAC[24].
detailsandhyperparametersareincludedintheAppendixA.5.
AnalysisofTable2revealsthattheIBGPProtocolmaintainsits
performancefromtrainingtotestingphases.However,recursive
5.1 MainResults trainingisnotconsistentlyrobustwhentransitioningtotesting
Theexperimentincludesfourkindsofenvironments,denotedas insomeenvironments.Thisisreasonablesincethebaselinepaper
Env(ğ‘›,ğ‘š,ğ‘˜,ğ‘¡).Here,ğ‘›representsthenumberofbenignagents,ğ‘š [23]prioritizesadaptiontoattackersratherthanzero-shotrobust-
isthenumberoftargets,ğ‘˜isthecoordinationthreshold,andğ‘¡ is ness.TheAMEalgorithmperformswellinsomeenvironments
thenumberofattackers. duringtesting,althoughitexperiencesdegradationinperformanceIBGPProtocol Recursivetraining AME ADMAC
Predator-prey(4,1,2,1) 96.1Â±5.4% 0% 62.4Â±20.4% 25.6Â±13.2%
Predator-prey(5,2,2,1) 97.9Â±2.9% 3.7Â±3.5% 42.6Â±13.0% 14.0Â±7.7%
Predator-prey(20,4,2,2) 100.0Â±0% 0% 79.3Â±12.1% /
Predator-prey(20,1,4,2) 100.0Â±0% 16.5Â±16.4% 100.0Â±0% 54.1Â±20.3%
Hallway(3,1,2,1) 96.7Â±4.7% 0% 6.3Â±6.3% 6.4Â±4.8%
Hallway(10,1,5,2) 100.0Â±0% / 13.1Â±7.2% 7.4Â±10.4%
4bane_vs_1hM(4,1,3,1) 98.4Â±2.2% 20.4Â±6.4% 92.9Â±4.7% 64.5Â±13.6%
3z_vs_1r(3,1,2,1) 51.5Â±2.6% 6.2Â±0.8% / /
Table2:Thetableillustratestherobustnesspercentagesandtheirstandarddeviationofdifferentenvironmentsandalgorithms.
Ahigherrobustnesspercentageindicatesahigherlevelofresilienceagainstzero-shotcommunicativeattacks.Algorithmsthat
failtoconvergeduringtrainingaremarkedwithâ€™/â€™.
if it is close to the target (ğ‘‘ğ‘–ğ‘ ğ‘¡(ğ‘ (ğ‘¡),ğ‘ğ‘œğ‘  ğ‘–) < ğœ‚). ğœ– is the noise
function. Theagentsâ€™ goalis tosafelysharethetarget position
amongthesensornetwork,whiletheattackersaimtobreakthe
systemâ€™srobustness.Wedenotetheagentâ€™sbeliefonthestate(tar-
getposition)asğ‘ ğ‘–(ğ‘¡),andtheconsistencyofthewholesystemas
ğ‘1(ğ‘¡)=ğ‘2(ğ‘¡)=Â·Â·Â·=ğ‘ ğ‘›(ğ‘¡).
Consensus-based algorithm. We propose a decentralized algo-
rithmbasedontheIBGPprotocolforthesensornetworkproblem.
Eachsensorisactivatedifitobservesthetargetorisinvolvedin
theprotocolandreachesanewconsensusonthetargetposition.
Sincetheobservedtargetpositionincludesanoiseterm,wefirst
discretizetheobservedpositiontoavoidobservationdisagreement
withothersensors.Whenasensorisactivated,itnotifiesitsneigh-
borhoodandproposesanIBGPprotocolonthenewtargetposition.
In the consensus, the agreement on the scope and value of the
protocolisguaranteedbyBGP-relatedprotocols,whichisnotthe
Figure7:ThesimulationresultoftheSensorNetworksProb-
emphasisofthispart.ByrecursivelyaccomplishingtheIBGPproto-
lem.
colsuntiltherearenomoreactivatingsensors,thesharingprocess
iscompleted,andtheentiresensornetworkagreesonthetarget
position.Thethreerecursivestepsarelistedbelow,andFigure8
inothers.SincetheAMEalgorithmisdesignedtoberobustthrough
showsthethreesteps.
itsnoveldesignoftakingthemajority,wethinkthattheperfor-
mancedecayisduetothefactthattheactioninthemajoritymay
(1) Firststep:Ineachtimestepğ‘¡,agentğ‘–observesanewobserva-
bemultiple,makingattacksstillpossible.TheADMACalgorithm
tionğ‘œ ğ‘–(ğ‘¡)=ğ‘ (ğ‘¡)+ğœ–,whereğ‘ 
ğ‘¡
isthestate(thetruepositionof
alsoexhibitsalowlevelofrobustnessinourenvironments,likely
thetarget),andğœ–isanoiseterm.Theagentthendiscretizes
becauseitsreliabilityestimatorwastrainedonspecifictypesofat-
thissignaltoformanewbeliefğ‘
ğ‘–,ğ‘¡
=discretize(ğ‘œ ğ‘–(ğ‘¡)).Ifthe
tacks,withonlyminordisturbancesevaluatedintheoriginalpaper.
newsignalupdatestheagentâ€™sbeliefonthetargetposition,
However,inthiswork,wefocusonrobustnessagainstarbitrary
itproceedstothesecondstep.
attacks,whichleadstoADMACunderperforming.Insummary,pol-
(2) Secondstep:Theagentproposesaneighborhoodconsensus
icylearningwiththeIBGPProtocoliseffectiveinfosteringrobust
usingthe(1,1)-protocol.
coordinationagainstzero-shotcommunicativeattacks.
(3) Thirdstep:Ifotheragentsintheconsensusupdatetheirbe-
lief,theagentproposesaconsensusinitsownneighborhood.
5.2 ApplicationinSensorNetworks Thisprocessisoperatediterativelyuntiltherearenonew
Inthispaper,weaddressthesensornetworkproblemwithcom- consensusproposals.
municativeattacks,buildingonthecontinuoussensornetwork
problemdiscussedin[15].Webeginbydefiningthestate(position) InFigure7,thesimulationshowsthatthebeliefofallagentsis
ofthetargetasğ‘ (ğ‘¡),whereğ‘¡ isthetime.Forsimplicity,weassume consistentwiththetruesignal.Asthetargetpositionchanges,the
aone-dimensionalstateğ‘ (ğ‘¡) âˆˆR,asmulti-dimensionalcasesare believedpositionmovesalongwithit,indicatingthatconsensus
extensionsofthis.Thesensornetworkconsistsofğ‘›sensorslocated onthetargetpositionismaintainedthroughout.Moredetailscan
atğ‘ğ‘œğ‘ 1,ğ‘ğ‘œğ‘ 2,Â·Â·Â·,ğ‘ğ‘œğ‘  ğ‘›, with sensorğ‘– observingğ‘œ ğ‘–(ğ‘¡) = ğ‘ (ğ‘¡) +ğœ– befoundinAppendixA.5.4.Figure8:Thepipelineofapplyingaconsensus-basedalgorithmonthesensornetworkproblem.
6 CONCLUSION [16] Michael O. Rabin. 1983. Randomized byzantine generals. In 24th Annual
Inthisstudy,weintroducetheImperfectByzantineGeneralsProb-
SymposiumonFoundationsofComputerScience(sfcs1983).403â€“409. https:
//doi.org/10.1109/SFCS.1983.48
lem (IBGP) as a framework for multi-agent coordination in the [17] MikayelSamvelyan,TabishRashid,ChristianSchrÃ¶derdeWitt,GregoryFarquhar,
presenceofcompromisedagents.Theconsensusprotocolwehave NantasNardelli,TimG.J.Rudner,Chia-ManHung,PhilipH.S.Torr,JakobN.
Foerster,andShimonWhiteson.2019. TheStarCraftMulti-AgentChallenge.
developedforIBGPeffectivelyensureszero-shotrobustness.While
CoRRabs/1902.04043(2019).arXiv:1902.04043 http://arxiv.org/abs/1902.04043
ouranalysisandexperimentsdemonstratesitspotentialapplicabil- [18] KyunghwanSon,DaewooKim,WanJuKang,DavidEarlHostallero,andYung
itytopracticaltasks,theproposedIBGPprotocolisonlyeffective Yi.2019. QTRAN:LearningtoFactorizewithTransformationforCoopera-
tiveMulti-AgentReinforcementLearning.InProceedingsofthe36thInterna-
inenvironmentswhereaspecifictargetexists,ratherthanarbi-
tionalConferenceonMachineLearning(ProceedingsofMachineLearningResearch,
traryRLenvironments.Infutureresearch,weintendtoaddressthis Vol.97),KamalikaChaudhuriandRuslanSalakhutdinov(Eds.).PMLR,5887â€“5896.
https://proceedings.mlr.press/v97/son19a.html
limitationbyexploringtheadaptabilityofageneralizedtrainable
[19] PeterStoneandManuelaVeloso.2000. Multiagentsystems:Asurveyfroma
frameworkforconsensusprotocolstomorecomplexandrealistic machinelearningperspective.AutonomousRobots8(2000),345â€“383.
settings. [20] YanchaoSun,RuijieZheng,ParisaHassanzadeh,YongyuanLiang,SoheilFeizi,
SumitraGanesh,andFurongHuang.2023. CertifiablyRobustPolicyLearn-
ingagainstAdversarialMulti-AgentCommunication.InTheEleventhInterna-
REFERENCES tionalConferenceonLearningRepresentations. https://openreview.net/forum?id=
dCOL0inGl3e
[1] WendelinBÃ¶hmer,VitalyKurin,andShimonWhiteson.2020.Deepcoordination [21] TonghanWang*,JianhaoWang*,ChongyiZheng,andChongjieZhang.2020.
graphs.InProceedingsofthe37thInternationalConferenceonMachineLearning. LearningNearlyDecomposableValueFunctionsViaCommunicationMinimiza-
[2] MiguelCastroandBarbaraLiskov.1999. PracticalByzantineFaultTolerance. tion.InInternationalConferenceonLearningRepresentations. https://openreview.
InProceedingsoftheThirdSymposiumonOperatingSystemsDesignandImple- net/forum?id=HJx-3grYDB
mentation(NewOrleans,Louisiana,USA)(OSDIâ€™99).USENIXAssociation,USA, [22] QingyunWu,GaganBansal,JieyuZhang,YiranWu,ShaokunZhang,Erkang
173â€“186. Zhu,BeibinLi,LiJiang,XiaoyunZhang,andChiWang.2023.Autogen:Enabling
[3] XiaoranWu;ZienHuang;ChonghanYu;.[n.d.].AnimatingthePast:Reconstruct next-genllmapplicationsviamulti-agentconversationframework.arXivpreprint
TrilobiteviaVideoGeneration.([n.d.]). https://doi.org/10.12074/202410.00084 arXiv:2308.08155(2023).
[4] AliDorri,SalilSKanhere,andRajaJurdak.2018.Multi-agentsystems:Asurvey. [23] WanqiXue,WeiQiu,BoAn,ZinoviRabinovich,SvetlanaObraztsova,and
IeeeAccess6(2018),28573â€“28593. ChaiKiatYeo.2022.Mis-SpokeorMis-Lead:AchievingRobustnessinMulti-Agent
[5] Ming-CanFan,Hai-TaoZhang,andMiaomiaoWang.2014.Bipartiteflocking CommunicativeReinforcementLearning(AAMASâ€™22).InternationalFoundation
formulti-agentsystems. CommunicationsinNonlinearScienceandNumerical forAutonomousAgentsandMultiagentSystems,Richland,SC.
Simulation19,9(2014),3313â€“3322. [24] LebinYu,YunboQiu,QuanmingYao,YuanShen,XudongZhang,andJianWang.
[6] JunjieFuandJinzhiWang.2014.Adaptivecoordinatedtrackingofmulti-agent 2024.RobustCommunicativeMulti-AgentReinforcementLearningwithActive
systemswithquantizedinformation.Systems&ControlLetters74(2014),115â€“125. Defense.ProceedingsoftheAAAIConferenceonArtificialIntelligence38,16(Mar.
[7] SiruiHong,XiawuZheng,JonathanChen,YuhengCheng,JinlinWang,Ceyao 2024),17575â€“17582. https://doi.org/10.1609/aaai.v38i16.29708
Zhang,ZiliWang,StevenKaShingYau,ZijuanLin,LiyangZhou,etal.2023. [25] WenwuYu,GuanrongChen,MingCao,andJÃ¼rgenKurths.2009.Second-order
Metagpt:Metaprogrammingformulti-agentcollaborativeframework. arXiv consensusformultiagentsystemswithdirectedtopologiesandnonlineardynam-
preprintarXiv:2308.00352(2023). ics.IEEETransactionsonSystems,Man,andCybernetics,PartB(Cybernetics)40,
[8] YipengKang,TonghanWang,andGerarddeMelo.2020. Incorporatingprag- 3(2009),881â€“891.
maticreasoningcommunicationintoemergentlanguage. AdvancesinNeural [26] MingZhou,JunLuo,JulianVillella,YaodongYang,DavidRusu,JiayuMiao,
InformationProcessingSystems33(2020),10348â€“10359. WeinanZhang,MontgomeryAlban,IMANFADAKAR,ZhengChen,Chongxi
[9] YipengKang,TonghanWang,QianlanYang,XiaoranWu,andChongjieZhang. Huang,YingWen,KimiaHassanzadeh,DanielGraves,ZhengbangZhu,Yi-
2022.Non-LinearCoordinationGraphs.AdvancesinNeuralInformationProcessing hanNi,NhatNguyen,MohamedElsayed,HaithamAmmar,AlexanderCowen-
Systems35(2022),25655â€“25666. Rivers,SanjeevanAhilan,ZhengTian,DanielPalenicek,KasraRezaee,Pey-
[10] DaikiKishishitaandHiroyukiOzaki.2020.Publicgoodsgamewithambiguous manYadmellat,KunShao,dongchen,BaokuanZhang,HongboZhang,Jianye
threshold.EconomicsLetters191(2020),109165. https://doi.org/10.1016/j.econlet. Hao,WulongLiu,andJunWang.2021. SMARTS:AnOpen-SourceScalable
2020.109165 Multi-AgentRLTrainingSchoolforAutonomousDriving.InProceedingsofthe
[11] LeslieLamport,RobertShostak,andMarshallPease.1982. TheByzantine 2020ConferenceonRobotLearning(ProceedingsofMachineLearningResearch,
GeneralsProblem. ACMTrans.Program.Lang.Syst.4,3(jul1982),382â€“401. Vol.155),JensKober,FabioRamos,andClaireTomlin(Eds.).PMLR,264â€“285.
https://doi.org/10.1145/357172.357176 https://proceedings.mlr.press/v155/zhou21a.html
[12] ShuaiLiu,LihuaXie,andHuanshuiZhang.2014.Containmentcontrolofmulti-
agentsystemsbyexploitingthecontrolinputsofneighbors.InternationalJournal
ofRobustandNonlinearControl24,17(2014),2803â€“2818.
[13] RezaOlfati-Saber.2006.Flockingformulti-agentdynamicsystems:Algorithms
andtheory.IEEETransactionsonautomaticcontrol51,3(2006),401â€“420.
[14] RezaOlfati-SaberandRichardMMurray.2004. Consensusproblemsinnet-
worksofagentswithswitchingtopologyandtime-delays.IEEETransactionson
automaticcontrol49,9(2004),1520â€“1533.
[15] R.Olfati-SaberandJ.S.Shamma.2005.ConsensusFiltersforSensorNetworks
andDistributedSensorFusion.InProceedingsofthe44thIEEEConferenceon
DecisionandControl.6698â€“6703. https://doi.org/10.1109/CDC.2005.1583238A APPENDIX/SUPPLEMENTALMATERIAL Howeverifğ‘Ÿ =ğ‘Ÿ1â†’2bycoincidence,itispossiblethatthemis-
coordinationhappens.Butsincethenumberofroundsğ‘Ÿ isran-
A.1 Diagram
domlydrawnbytheglobalrandomizer,whichisindependentof
Weprovidethediagramabouttheresultsunderallkindsofattack-
theattackers.Theattackercanonlyguessthefinalround,andthe
ingstrategiesinTable3,givenğ‘› = 5,ğ‘¡ = 1,ğ‘˜ = 3.Itillustrates mis-coordinationprobabilityisatmostmax ğ‘Ÿ{ğ‘(ğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=ğ‘Ÿ)}. â–¡
that,nomatterwhattheattackis,theIBGPprotocolguarantees
robustnesswithhighprobability1âˆ’max ğ‘Ÿ{ğ‘(ğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=ğ‘Ÿ)}
A.3 Multi-agentEnvironments
A.2 ProofofTheorem1 A.3.1 RobustnessinMulti-targetEnvironments. Inmulti-targeten-
vironmentsdefinedinTable4,theIBGPprotocolrunsindepen-
Proof. Beforestartingtheproof,wecomeupwithalemma.
dentlyforeachtarget.Ifthereareğ‘štargets,theprotocolrunsğ‘š
timesforeachtarget,andthefinaldecisionisstillrobust.However,
Lemma1. Thenumberofactivatingagents#(ğ‘š ğ‘–( :ğ‘Ÿ0) =1)decreases
thissolutionhasadrawback:theprotocolforeachtargetisascon-
monotonicallywhentheroundğ‘Ÿ0increases.
servativeasthesingle-agentsituation(still(ğ‘˜,ğ‘¡)-protocol),evenif
theğ‘šislarge.Thismeansthatğ‘¡ attackershavefullinfluenceon
Lemma1istruebecauseonceanagentgiveup(i.e.,ğ‘š(Â·) =0),it
ğ‘–: eachtarget.Ideally,wewanttodividetheinfluenceofattackers
willneverbeactivatedagainbythedefinitionoftheprotocol.
acrossmultipletargets,asexcessiveconservativenesswouldresult
WeprovetherobustnessoftheIBGPProtocolbyenumerating
inlowefficiency.Toalleviatethisproblem,weproposeaddinga
allprobabilities.InIBGP,thereare3typesofinitialization:
newround,calleddispersiondefense,afterthefirstroundofthe
(1) #(ğ‘œ ğ‘– =1) <ğ‘˜(ğ‘– âˆˆ [ğ‘›]) protocol.
(2) ğ‘˜ â‰¤#(ğ‘œ ğ‘– =1) <ğ‘˜+ğ‘¡ (ğ‘– âˆˆ [ğ‘›])
(3) #(ğ‘œ ğ‘– =1) â‰¥ğ‘˜+ğ‘¡ (ğ‘– âˆˆ [ğ‘›]) Dispersion defense. Acquire a list of ğ‘ random permutations
1)+Un ğ‘¡d <er ğ‘˜th +e ğ‘¡fi (r es vt ei nni it fia al li lza thti eon a, tti an ct kh ee rsse sc eo nn dd 1r to oun thd e,s ai gn ec ne t# s,(ğ‘œ itğ‘– i=
s
ğ‘ ag1, eğ‘ n2 t, dÂ· eÂ· fiÂ· n, eğ‘ sğ‘ thâˆˆ e[ rğ‘› ec+ eğ‘¡ iv] eâ†’ dm[ eğ‘› s+ sağ‘¡ g] ef aro sm
ğ‘š
ğ‘–(t ğ‘—1h )e =gl Mob aa jl or ra itn yd ğ‘¢o âˆˆm [ğ‘iz ]e {r ğ‘š. ËœE
ğ‘–(
ğ‘1a ğ‘¢)c (h
ğ‘–)}.
stilllowerthanthethreshold),themessagesinthesecondround (ğ‘šËœ(1) istheoriginalmessageinthefirstround.)
ğ‘š(2) = 0definitely.Andthefinalactionofeachagentmustbe The main idea of the dispersion defense is to disarrange the
ğ‘=0. sentmessages,makingitdifficultforattackerstodeterminethe
Underthethirdinitialization,weprovebyinduction.Ifinround intendedreceiver.Toachievethis,arandompermutingprocessis
ğ‘Ÿ0,thenumberofactivatingagents#(ğ‘š ğ‘–( :ğ‘Ÿ0) = 1) â‰¥ ğ‘˜ +ğ‘¡,inthe addedafterthefirstround(wecallittheproposingroundforbetter
nextroundğ‘Ÿ0+1,thenumberofactivatingagentsstillsatisfies understanding).Inthedispersiondefense,thefunctionMajority{Â·}
#(ğ‘š(ğ‘Ÿ0+1) = 1) â‰¥ ğ‘˜ +ğ‘¡.Therefore,sinceinthefirstround,the returnsthemajority(morethanhalf)ofallelementsandreturns0
ğ‘–:
propositionistrue,inthedecisionroundthenumberofactivating ifthereisnomajority.
agents is still greater thanğ‘˜ +ğ‘¡, and the activating agents will Apparently,thebenignagentsbroadcasttheirobservationsin
cooperatesafely. thefirstproposinground,andtheaddeddispersiondefensedoesnâ€™t
Underthesecondinitialization,thereâ€™snofurtherconclusion changethemessagesfrombenignagents.However,theattackers
on the number of activating agents in the intermediate rounds. donâ€™tknowthepermutationğ‘1,Â·Â·Â·,ğ‘ ğ‘ whensendingmessages
WedescribetheactivationstatusofeachroundbyCase1/Case2 inthefirstproposingroundandthuscannotadaptthemessage
definedasfollows. accordingtothereceiver.Asaresult,mis-coordinationonlyoccurs
onasmallratiooftargetswithhighprobability,asdemonstrated
â€¢ Case1:ğ‘˜ â‰¤#(ğ‘š ğ‘–( :ğ‘Ÿ0) =1) <ğ‘˜+ğ‘¡ inTheorem2.RefertoAppendixA.4.1forproofofTheorem2.
â€¢ Case2:#(ğ‘š(ğ‘Ÿ0) =1) â‰¤ğ‘˜
ğ‘–:
Theorem2. Inağ‘š-targetenvironment,operatingwiththeğ‘˜+ğœ†-
FromtheLemma1,theroundsswitchfromCase1toCase2only
3ğ‘¡
protocolwillcauseatmost targetstomis-coordinate,withproba-
once.DenotetheroundthatswitchesfromCase1toCase2as ğœ†
roundğ‘Ÿ1â†’2.Wehavethefollowinglemma. bility1âˆ’(ğ‘šâˆ’3)ğ‘¡Â·ğ‘˜ ğ‘šğ‘ğ‘¥ğ‘’ğ‘¥ğ‘(âˆ’2ğ‘(1 6âˆ’ ğ‘›ğ‘¡ +ğ‘¡)2).(Naturalassumptions:
ğ‘“ â‰ªğ‘›,ğ‘¡ â‰ªğ‘š)
Lemma2. Ifğ‘Ÿ1â†’2exists,âˆ€ğ‘Ÿ0 >ğ‘Ÿ1â†’2, #(ğ‘š ğ‘–( :ğ‘Ÿ0) =1)=0.
Thereasonisthatsince#(ğ‘š ğ‘–( :ğ‘Ÿ1â†’2) =1) â‰¤ğ‘˜,intheroundğ‘Ÿ1â†’2+1, Proof. First,themainproblemofIBGP,themis-coordination
#(ğ‘š(ğ‘Ÿ1â†’2) =1)=0. (somevalidagentscoordinatebutotherdonâ€™t),wonâ€™thappenwith
ğ‘–: highprobabilityduetothestructureofIBGPprotocol,evenifthe
Ifthelastroundğ‘Ÿ happensinCase1,alltheactivatingagents
thresholdchanges.However,theproblemofğœ†<ğ‘¡isthattheattack-
wouldactğ‘ = 1becausenomatterwhatmessagestheattackers
ersmaymisleadagentstocoordinateeveniftherearenâ€™tenough
send,#(ğ‘š(ğ‘Ÿ0) =1)+#attackersâ‰¥ğ‘˜.Ifthelastroundğ‘Ÿ happensin
ğ‘–: validagents,whichwecallfalsecoordinationinthefollowingproof.
Case2,alltheactivatingagentswouldactğ‘=1becausenomatter
whatmessagestheattackerssend,#(ğ‘š(ğ‘Ÿ0) =1)+#attackers â‰¥ğ‘˜.
Ifğ‘‘ğ‘–ğ‘ ğ‘¡(ğ´ğ‘¡ğ‘˜,ğ´ğ‘¡ğ‘˜ ğ‘ğ‘™ğ‘™âˆ’1) â‰¥ğ‘¡âˆ’ğœ†,bydefinitionâˆ€ğ‘– âˆˆ [ğ‘›],
ğ‘–:
I #f (ğ‘šth ğ‘–(e :ğ‘Ÿ)la =st 1r )ou =n 0d ,ğ‘Ÿ th> eyğ‘Ÿ w1â†’ il2 l, as ci tn ğ‘ce =th 0e wn itu hm oub ter mo isf -a cc ot oiv rda it nin ag tioa ng .ents | ğ‘—=ğ‘›+âˆ‘ï¸ 1..ğ‘›+ğ‘˜ğ‘š ğ´ğ‘¡ğ‘˜,ğ‘—â†’ğ‘– âˆ’ ğ‘—=ğ‘›+âˆ‘ï¸ 1..ğ‘›+ğ‘˜ğ‘š ğ´ğ‘¡ğ‘˜ğ‘ğ‘™ğ‘™âˆ’1,ğ‘—â†’ğ‘–| â‰¥ğ‘¡âˆ’ğœ†,(b)Attackingstrategiesthatcausesthenumberofactiveagents<ğ‘˜+ğ‘¡at
(a)Attackingstrategiesthatdirectlycausesthenumberofactiveagents<ğ‘˜. round1.
Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=1 Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=1
Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=2 Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=2
Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=3 Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=3
(c)Attackingstrategiesthatcausesthenumberofactiveagents<ğ‘˜+ğ‘¡at (d)Attackingstrategiesthatcausesthenumberofactiveagents<ğ‘˜+ğ‘¡at
round2. round3.
Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=1 Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=1
Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=2 Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=2
Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=3 Ifğ‘Ÿ
ğ‘¡ğ‘œğ‘¡
=3
Table3:Theresultsunderallkindsofattackingstrategies,witharandomizednumberofroundsğ‘Ÿ ğ‘¡ğ‘œğ‘¡.
Single-targetIBGP Multi-targetIBGP
ğ‘œ
ğ‘–
âˆˆ{0,1},ğ‘
ğ‘–
âˆˆ{0,1} ğ‘œ
ğ‘–
âˆˆ{0,1,2,Â·Â·Â·,ğ‘š},ğ‘
ğ‘–
âˆˆ{0,1,2,Â·Â·Â·,ğ‘š}
ğ‘›agents,1target ğ‘›agents,ğ‘štargets
coordinationthresholdğ‘˜ coordinationthresholdsğ‘˜1,ğ‘˜2,Â·Â·Â·,ğ‘˜
ğ‘š
ğ‘…=ï£±ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£² 1 1( (# #( (ğ‘œ ğ‘œğ‘–
ğ‘–
= =1
1i if
f, ,ğ‘
ğ‘#
#ğ‘–
ğ‘–( (ğ‘œ
ğ‘œ=
=ğ‘–
ğ‘–1
1=
=)
)1
1=â‰¥
)
)0ğ‘˜
=
<))
ğ‘›
ğ‘˜
ğ‘…=ï£±ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£² (cid:205)(cid:205) ğ‘—ğ‘— âˆˆâˆˆ [[ ğ‘šğ‘š ]] 11
ii
((
ff
##
##
(( ğ‘œğ‘œ
(( ğ‘œğ‘œ
ğ‘–ğ‘–
ğ‘–ğ‘–
==
==
ğ‘—ğ‘— ,,
11
ğ‘ğ‘
))
ğ‘–ğ‘–
=
<==
ğ‘›
ğ‘˜ğ‘—ğ‘— ğ‘—)) =â‰¥ 0ğ‘˜ )ğ‘—)
ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ 1 +1(# (( #ğ‘œ (ğ‘–
ğ‘œ
ğ‘–= =1 o,
1
tğ‘ h,ğ‘–
ğ‘
eğ‘–= rw=1 i)
s1
e)â‰¥ =ğ‘˜ 0)
)
ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ï£´ (cid:205) +1ğ‘— (âˆˆ #[ğ‘š (ğ‘œ] ğ‘–1
=
o(#
tğ‘—
h,( ğ‘ğ‘œ eğ‘–ğ‘– rw== isğ‘—ğ‘— e, )ğ‘ =ğ‘– = 0)ğ‘—) â‰¥ğ‘˜ ğ‘—)
ï£³ ï£³
Table4:Thedifferenceofdefinitionbetweensingle-targetandmulti-targetIBGP.
whichmeansthat If#(ğ‘œ
ğ‘–
=1) â‰¤ğ‘˜âˆ’1(falsecoordinationmayhappen),thetotalvotes
anagentcanreceiveisatmostğ‘˜âˆ’1+ğœ†,sothefalsecoordination
neverhappens. â–¡
âˆ‘ï¸ ğ‘š
ğ´ğ‘¡ğ‘˜,ğ‘—â†’ğ‘–
â‰¤ğœ†. A.3.2 TargetSelectioninMulti-targetenvironments. Inpractical
tasks, multiple targets are available for the agents. Luckily, the
ğ‘—=ğ‘›+1..ğ‘›+ğ‘˜consensusisstillapplicabletoeachtarget,andthusthekeyproblem highestpossibletargetğ‘ 1 âˆˆğ‘†
ğ‘”ğ‘Ÿğ‘’ğ‘’ğ‘‘ğ‘¦
isselected,ifğ‘ 1 âˆ‰ğ‘† ğ‘œğ‘ğ‘¡ğ‘–ğ‘šğ‘ğ‘™,it
istodecidewhichtargettoobtain.Iftheconsensusprotocolfor caninfluenceatmostğ‘˜
ğ‘šğ‘ğ‘¥
othersetsinğ‘† ğ‘œğ‘ğ‘¡ğ‘–ğ‘šğ‘ğ‘™.Butsinceğ‘ 1is
eachtargetisconductedindependently,anagentattendingafailed ofthehighestreward,therewardofğ‘ 1isatleast1/ğ‘˜ thereward
targetwillnotentertheconsensusofanothertarget,whichisa ofalltheinfluencedtargets.Similarly,therewardofğ‘ 2isalsoat
wasteifthesecondtargetactuallyhasenoughcooperators.We least1/ğ‘˜
ğ‘šğ‘ğ‘¥
therewardoftheinfluencedtargets(theinfluenced
proposeagreedytargetselectionalgorithmtohandlethisproblem. targetsarenâ€™tdoublecounted).Therefore,thegreedyalgorithmis
a1/ğ‘˜ ğ‘šğ‘ğ‘¥-approximationoftheoptimalsolution. â–¡
Algorithm1:GreedyTargetSelectionAlgorithm
A.4 AdaptiontotheDynamics
Input:thenumberofagentsğ‘›,thenumberoftargetsğ‘š,the
Inpracticaltasks,althoughthegoalisthesame,i.e.,tokeepaway
rewardsoftargetsğ‘Ÿ1,ğ‘Ÿ2,Â·Â·Â·,ğ‘Ÿ ğ‘š,thecooperation
frommis-coordinationandgetrewards,therealrewardsandcosts
thresholdğ‘˜1,ğ‘˜2,Â·Â·Â·,ğ‘˜ ğ‘š,theavailablesetofeach
targetğ‘ 1,ğ‘ 2,Â·Â·Â·,ğ‘ 
ğ‘š
âˆˆ{0,1}ğ‘› couldbecompletelydifferent.Asaresult,theyâ€™rebasicallydifferent
problems,however,wecouldstillmakeuseofthenicepropertyof
Output:selectedtargetssetğ‘‡
ourimperfectconsensusprotocol,asitisprobablysafeunderany
1
Sortğ‘štargetsbytherewardğ‘–1,ğ‘–2,Â·Â·Â·,ğ‘–
ğ‘š
frombiggestto
attacks.
smallest;
Theoriginalthresholdğ‘˜+ğ‘¡ canbeloosenedtoğ‘˜+ğœ†tobemore
2
Initializetheoccupiedagentsetğ‘ˆ =âˆ…;
aggressive,i.e.,morelikelytosucceedwithalower#(ğ‘œ
ğ‘–
=1),but
3
Initializetheselectedtargetsetğ‘‡ =âˆ…;
failwithsomeprobability.Buthowtochooseğœ†ishighlyrelated
4
forğ‘— =1Â·Â·Â·ğ‘šdo
totheenvironmentdynamics,aswellastheattackers.Tobemore
5 if ||ğ‘  ğ‘–ğ‘— \ğ‘ˆ|| â‰¥ğ‘˜ ğ‘–ğ‘— then detailed,wegivesomeexamplesbelow.
Addğ‘– toğ‘‡;
6 ğ‘— (1) (Environmentdynamics)Insomeenvironments,thecostis
7
Addarbitraryğ‘˜
ğ‘–ğ‘—
agentsfromğ‘ 
ğ‘–ğ‘—
\ğ‘ˆ toğ‘‡;
notnegativerewards,butthefactthatthefailingagents
8 end woulddie.Itâ€™simpossibletovaluethecostofdeathdirectly.
9 end (2) (Environmentdynamics)Thedynamicsisinitializedunder
someprobabilitydistribution.Thedistributionaffectsthe
Infact,theoptimaltargetselectionproblemisNP-Complete,
optimalpolicy.E.g.,if#(ğ‘œ
ğ‘–
=1) >ğ‘˜ withhighprobability,
aggressiveprotocolsuffices.
meaningthattheredoesnâ€™texistanefficienttargetselectionalgo-
(3) (Attacker)Differentattackingpoliciesposedifferentlevels
rithmeveninthecentralizedsetting.Althoughitisunabletoobtain
ofchallenges.
theoptimalsolution,ourGreedyTargetSelectionAlgorithmserves
Tobetterillustratethefactthatenvironmentdynamicsandattack-
asa1/ğ‘˜ ğ‘šğ‘ğ‘¥-approximationoftheoptimalsolution.
erswouldinfluencetherewardandtheoptimalcommunicating
NP-completenessofthetargetselectionproblem. protocol.Weintroduceatypeofenvironmentandtrydifferent
thresholds under three kinds of challenging attackers. We also
Proof. Wefirstgiveastrictdefinitionofthetargetselection
comparetheworstsuccessrateunderdifferentthresholds.The
problem.
conclusionisthatinpracticaltasks,theoptimalprotocoldepends
TargetSelectionProblem. ğ‘›agentsarepursuingğ‘štargets,whose ontheactualsituation.
rewardsareğ‘Ÿ1,ğ‘Ÿ2,Â·Â·Â·,ğ‘Ÿ ğ‘š.Thecooperationthresholdsareğœƒ1,ğœƒ2,Â·Â·Â·,ğœƒ ğ‘š,
andtheavailablesetofeachtargetisğ‘ 1,ğ‘ 2,Â·Â·Â·,ğ‘ 
ğ‘š
âˆˆ{0,1}ğ‘›.The
ğœ†=0 ğœ†=1 ğœ†=2
targetselectionproblemrequiresğœƒ availableagentstocooperate
ğ‘–
ontargetğ‘–toobtaintherewardğ‘Ÿ . ğ‘ =0 0.460 0.312 0.162
ğ‘–
Wefindthatthesimplifiedtargetselectionproblemisequivalent ğ‘ =0.1 0.462 0.308 0.159
totheSetPackingproblem,whichisaclassicNP-completeproblem. ğ‘ =0.2 0.461 0.310 0.163
ğ‘ =0.3 0.459 0.314 0.162
Simplified Target Selection Problem. ğ‘› agents are pursuingğ‘š ğ‘ =0.4 0.459 0.316 0.166
targetswiththesamereward.Thecooperationthresholdisğœƒ,and ğ‘ =0.5 0.456 0.331 0.183
theavailablesetofeachtargetisğ‘ 1,ğ‘ 2,Â·Â·Â·,ğ‘  ğ‘š âˆˆ{0,1}ğ‘›. ğ‘ =0.6 0.448 0.361 0.220
SetPackingProblem. Supposethereâ€™safinitesetğ‘†andalistof ğ‘ =0.7 0.445 0.404 0.266
ğ‘˜se sts etğ‘  s1, tğ‘  h2 a, tÂ· aÂ·Â· re,ğ‘  dğ‘š is. jT oih ne t.setpackingproblemaskswhetherthereexist ğ‘ ğ‘ = =0 0. .8 9 0 0. .4 44 31 4 0 0. .4 44 54 4 0 0. .3 30 54 2
Thesimplifiedtargetselectionproblemisjustequivalenttothe ğ‘ =1 0.433 0.437 0.461
setpackingproblem,whichisNP-complete. â–¡
Table6:Takingdifferentğœ†swhentheprobabilityoftheran-
domattackerdiffers.
Proofof1/ğ‘˜ ğ‘šğ‘ğ‘¥-approximation.
Proof. Denotetheselectedtargetsofthegreedyalgorithmand
the optimal algorithm asğ‘† ğ‘”ğ‘Ÿğ‘’ğ‘’ğ‘‘ğ‘¦,ğ‘† ğ‘œğ‘ğ‘¡ğ‘–ğ‘šğ‘ğ‘™. Consider the greedy A.4.1 AdaptiontotheAttacker. Theoptimalğœ†alsovarieswhen
selectionprocessfromthehighestrewardtothelowest.Whenthe theattackerchanges.Forexample,accordingtoTable6,whentheattackerisarandomattackerwithprobability0,0.1,0.2,Â·Â·Â·,1,the (1) Theglobalrandomizerinitializesthenumberofroundsğ‘Ÿ
optimalğœ†varies. fromadistributionğ‘Ÿ âˆ¼R
Inpracticalscenarios,theattackermayfollowadistributionthat (2) Firstround:Eachagentbroadcastsitsobservationğ‘š ğ‘–( :1) =ğ‘œ
ğ‘–
d cao nes an do jut sp to ts he ea ns eig twni ofi rc ka â€™n st ht ih dr de ea ntt lo ayo eu rr pc ao rn as men es teu rs s. .T Mhe or re efo spre e, cw ifie
-
(3) Roundğ‘Ÿ ğ‘›ğ‘œğ‘¤ âˆˆ {2Â·Â·Â·ğ‘Ÿ}: Each agentğ‘– âˆˆ {ğ‘–|ğ‘š ğ‘–(ğ‘Ÿğ‘›ğ‘œğ‘¤) = 1}
c thal ely r, ew que ir re el dax nuğœ† mto beso rm ofe av va alu ile abs lm ea al gle er nt th sa #n (ğ‘œğ‘¡ ğ‘–.T =h 1is ),c ih na cn rg eae sr ie nd gu tc he es
broadcastsğ‘š ğ‘–( :2)
=ï£±ï£´ï£´ï£´ï£´ï£²00 ğ‘˜ (cid:205)â‰¤ ğ‘—âˆˆ[(cid:205) ğ‘›+ğ‘— ğ‘¡âˆˆ ][ğ‘› 1+ (ğ‘¡ ğ‘š]1
(
ğ‘—ğ‘–1( )ğ‘š =( ğ‘—ğ‘–1 1) )= <1 ğ‘˜) <ğ‘˜+ğœ† ğ‘–
likelihoodofsuccess.Weprovideaguarantee(Theorem3)forthe ï£´ï£´ï£´ï£´1 (cid:205) ğ‘—âˆˆ[ğ‘›+ğ‘¡]1(ğ‘š( ğ‘—ğ‘–1) =1) â‰¥ğ‘˜+ğœ†
ğ‘–
Tre ola bx ee gd inp ,r wot eoc do el fi, na ess tu hm ei dn ig stc ae nr ct eai bn ec to wn ed ei ntio twns oa ab to tau ct kt ih ne ga st ct hac ek me er ss ,. (4) Decisionmakingrï£³ ound:Eachagentğ‘– âˆˆ {ğ‘–|ğ‘š ğ‘–(ğ‘Ÿğ‘›ğ‘œğ‘¤) = 1}
ğ‘‘ (cid:205)ğ‘–ğ‘  ğ‘—ğ‘¡ =( ğ‘›ğ´ +1ğ‘¡ğ‘˜ ..ğ‘›1 +,ğ´ ğ‘˜ğ‘¡ ğ‘šğ‘˜ ğ´2) ğ‘¡ğ‘˜= 2,ğ‘—m â†’i ğ‘–n |ğ‘’ }ğ‘› .ğ‘£min ğ‘–âˆˆ[ğ‘›]{|(cid:205) ğ‘—=ğ‘›+1..ğ‘›+ğ‘˜ğ‘š ğ´ğ‘¡ğ‘˜1,ğ‘—â†’ğ‘– âˆ’
selectactionğ‘ ğ‘–
=ï£±ï£´ï£´ï£´ï£´ï£²1
0
ğ‘˜ (cid:205)â‰¤ ğ‘—âˆˆ[(cid:205) ğ‘›+ğ‘— ğ‘¡âˆˆ ][ğ‘› 1+ (ğ‘¡ ğ‘š]1
(
ğ‘—ğ‘–1( )ğ‘š =( ğ‘—ğ‘–1 1) )= <1 ğ‘˜) <ğ‘˜+ğœ† ğ‘–
Theorem3. Ifğ‘‘ğ‘–ğ‘ ğ‘¡(ğ´ğ‘¡ğ‘˜,ğ´ğ‘¡ğ‘˜ ğ‘ğ‘™ğ‘™âˆ’1) â‰¥ğ‘¡âˆ’ğœ†,thenewprotocolwith ï£´ï£´ï£´ï£´1 (cid:205) ğ‘—âˆˆ[ğ‘›+ğ‘¡]1(ğ‘š( ğ‘—ğ‘–1) =1) â‰¥ğ‘˜+ğœ† ğ‘–
athresholdğ‘˜+ğœ†wouldnotfailwithhighprobability.(ğ´ğ‘¡ğ‘˜ ğ‘ğ‘™ğ‘™âˆ’1is ï£³
anattackerthatsends1allthetime.)
(ğ‘›,ğ‘˜,ğ‘¡ =6,4,2) ğœ†=0 ğœ†=1 ğœ†=2 varyingğœ†
Proof. Forclarity,wefocusonlyonthenumberofinfluenced ğ‘ =0 0.052 0.005 0.000 0.000
targetsintheproof.Thesmallprobabilityoftheconsensusfailure ğ‘ =0.1 0.051 0.005 0.000 0.000
keepsthesame,sowedonâ€™tcoverthispartinouranalysis. ğ‘ =0.2 0.051 0.005 0.000 0.001
Inthefirstproposinground,eachattackerğ‘–sendmessagesğ‘šËœ(1) ğ‘ =0.3 0.051 0.005 0.000 0.002
ğ‘šw agh eâˆ’e nr
|
tğ‘ˆe s|t inh tae trr oge
te
aa
t ls
,re
|s
ğ‘ˆ.t|ğ‘ˆ
. |âˆ€
â‰¤| ğ‘¢t (a
âˆ‰
ğ‘›rg
ğ‘ˆ
+e
,
ğ‘¡t #s )/(s
ğ‘š
ğ‘›Ëœ.t 3+ğ‘–.
?
ğ‘¡âˆ€
=
=ğ‘¢
ğ‘¢
3âˆˆ
)
.
<ğ‘ˆ, ğ‘›# 3+( ğ‘¡ğ‘š .Ëœ ğ‘– S? in= ceğ‘¢ th) eâ‰¥ reağ‘› r3+ eğ‘¡ ğ‘›ağ‘– +n: d
ğ‘¡
ğ‘ ğ‘
ğ‘
ğ‘
= =
=
=0 0
0
0. .
.
.4 5
6
7
-0 0
0
0. .
.
.0 0
0
04 3
1
27 6
3
6
00 0
0
.. .
.
00 0 00 0
0
25 5
8
0
0 0
0
0. .
.
.0 0
0
00 0
0
00 0
0
2
0 0
0
0. .
.
.0 0
0
00 0
0
00 0
2
5
Foreachagentğ‘—,denote#(ğ‘šËœ ğ‘–?=ğ‘œ ğ‘—)=ğœ.Undersuchğœ,
ğ‘ =0.8 -0.068 0.030 0.004 0.008
ğ‘ƒ(ğ‘š ğ‘–( ğ‘—1) =ğ‘œ ğ‘—)=ğ‘ƒ(Majority ğ‘¢âˆˆ[ğ‘]{ğ‘šËœ ğ‘–( ğ‘1 ğ‘¢) (ğ‘–)}=ğ‘œ ğ‘—) ğ‘ ğ‘= =0 1.9 - -0 0. .1 10 99
1
-0 0. .0 03 81
7
00 .. 001 53
2
0 0. .0 02 53
0
ğ‘
â‰¤ğ‘ƒ(#(ğ‘šËœ ğ‘–( ğ‘1 ğ‘¢) (ğ‘–) =ğ‘œ ğ‘—) â‰¥ 2) Avg -0.008 0.002 0.006 0.008
ğ‘
=ğ‘ƒ ğµğ‘–ğ‘›ğ‘œğ‘šğ‘–ğ‘ğ‘™(ğ‘, ğ‘›ğœ+ +ğ‘¡ ğ‘¡)(ğ‘‹ â‰¥ 2) Table7:Optimalğœ†settingfordifferentattackersettings.
If ğ‘›ğœ+ +ğ‘¡
ğ‘¡
< 1 2,ğ‘ƒ(ğ‘š ğ‘–( ğ‘—1) =ğ‘œ ğ‘—) â‰¤ ğ‘’ğ‘¥ğ‘(âˆ’2ğ‘(1
2
âˆ’ ğ‘›ğœ+ +ğ‘¡ ğ‘¡)2) becauseofHo- Foreachagentğ‘–0,wedefinethedistancebetweentwoattack-
effdingInequality. ingschemes,ğ‘‘ğ‘–ğ‘ ğ‘¡(ğ´ğ‘¡ğ‘˜1,ğ´ğ‘¡ğ‘˜2)=min ğ‘’ğ‘›ğ‘£{(cid:205) ğ‘—=ğ‘›+1..ğ‘›+ğ‘˜ğ‘š ğ´ğ‘¡ğ‘˜1,ğ‘—â†’ğ‘–0âˆ’
inflğ‘ƒ u( eğ‘š ncğ‘–( ğ‘— e1) db= yğ‘œ ağ‘— t) tai cs ku ernd ğ‘—e ur ns dto eo rd ğœ.a Fs orth ae tap rr go eb ta ğ‘¢b ,il ğ‘ƒit (y âˆƒt ğ‘—h âˆˆat [ğ‘›ag ],e ğ‘šn ğ‘–t
(
ğ‘—1ğ‘— )i =s (cid:205) t nh oeğ‘— t= n fğ‘› ae+ iw1 l. w.ğ‘› p+ ir tğ‘˜ o hğ‘š t hoğ´ c igoğ‘¡ hğ‘˜ l2 w p,ğ‘— râ†’ i oth bğ‘–0 at} bh. irI lef itsâˆ€ yh .ğ‘– o (âˆˆ ğ´ld ğ‘¡s[ ğ‘˜ğ‘› ğ‘˜ ğ‘] ğ‘™, + ğ‘™ğ‘‘ âˆ’ğœ†ğ‘– 1ğ‘  1ğ‘¡ i, s( ğ‘˜ğ´ a+ğ‘¡ nğ‘˜ ğœ† ağ‘– 2, tğ´ , taÂ·ğ‘¡ cÂ·ğ‘˜ kÂ·ğ‘ e,ğ‘™ rğ‘™ ğ‘˜âˆ’ t+1 h) ağœ† tâ‰¥ ğ‘› sw eğ‘¡ noâˆ’ du sğœ† ldğ‘– 1,
ğ‘œ
ğ‘—
=ğ‘¢) â‰¤ğ‘˜ ğ‘šğ‘ğ‘¥ğ‘ƒ(ğ‘š ğ‘–( ğ‘—1) =ğ‘œ ğ‘—)isunderstoodastheprobabilitythat allthetime.)
targetğ‘¢isinfluencedbyattackerğ‘—. InTable7,wecomparetheperformanceofusingthesameğœ†and
Ifğ‘œ ğ‘— âˆ‰ ğ‘ˆ,ğ‘ƒ(âˆƒğ‘— âˆˆ [ğ‘›],ğ‘š ğ‘–( ğ‘—1) = ğ‘œ ğ‘— = ğ‘¢) â‰¤ ğ‘˜ ğ‘šğ‘ğ‘¥ğ‘’ğ‘¥ğ‘(âˆ’2ğ‘(1 2 âˆ’ Wva ery uin seg ağœ† st io ngde lea -l taw ri gth etr ta an sd ko am ndat mta ec ak se urs rew ti hth ev aa vr ei ro au gs ep rr eo wba ab rdili it nie as.
ğ‘› 3+ğ‘¡+ğ‘¡
)2)â‰¡ğœ–. singlestep.Weseethatvaryingğœ†leadstothemostadaptiveprotocol
ğ‘›+ğ‘¡
Ifatargetmis-coordinate,theremustbemorethanğœ†attackersin- onaverage,indicatingthebenefitofmicroscopiccomplexity.
fluencingit.Therefore,ifmorethan3ğ‘¡ targetsmis-coordinate,there
ğœ†
mustbeatleast 3ğ‘¡ Â·ğœ†influencingpairs.(Theinfluencepair(ğ‘–,ğ‘—) âˆˆ A.5 Implementationdetails
ğœ†
[ğ‘¡]Ã—[ğ‘š]meansthatattackerğ‘–influencetargetğ‘—.)Buttheprobabil- A.5.1 Algorithms. Sincethispaperfocusonthecommunicative
ityupperboundofallinfluencingpairsis{1,1,Â·Â·Â·,1,ğœ–,ğœ–,Â·Â·Â·,ğœ–}. attacksandalsocommunicativedefense,webuildouralgorithms
(cid:32)(cid:32)(cid:32)(cid:32)(cid:32) (cid:32)(cid:32)(cid:32)(cid:32)(cid:32) (cid:32)(cid:32)(cid:32)(cid:32)(cid:32) (cid:32)(cid:32)(cid:32)(cid:32)(cid:32)
(cid:124) (cid:123)(cid:122) (cid:125) (cid:124) (cid:123)(cid:122) (cid:125) basedonthecodebasein[21].Forsimplicity,weremoveallthe
3ğ‘¡ (ğ‘šâˆ’3)ğ‘¡ losses on communication learning except the downstream loss,
Sotheprobablityofmorethan 3ğ‘¡ mis-coordinationislessthan
ğœ† making the codebase only a multi-agent QMIX algorithm with
(ğ‘šâˆ’3)ğ‘¡ğœ–. â–¡
learnablecommunications.
ThefirstbaselineAME[20]publishesitscode,butisthecontinuous-
Thisconclusionalsogeneralizestovaryingğœ† valuesforeach
actionversion.Therefore,were-implementAMEinourcodefor
agentinAppendixA.4.2.
faircomparison.Thesecondbaseline[23]isnotopen-source,and
A.4.2 Varyingğœ†foreachagent. Whendifferentagentshaveadif- oneofitscontributionsisbasedonanimpracticalassumptionthat
ferentğœ† ,theprotocolisasfollows. thedisturbanceonmessagesisonlyasmallnoise.Soweimplement
ğ‘–recursivetraining,whichisitssecondcontribution,tocomparein A.5.3 Training-testingphasedetails. Tobetterillustratehowwe
theexperimentsection. evaluate the robustness of algorithms, we include the learning
OuralgorithmandAMEincludestwophases,thetrainingand curves(Figure10)offourenvironmentsinthemainresults(Section
testingphase.Intheexperiment,thetestingphasemeansthatwe 5.1).Tocomparethezero-shotrobustnessofalgorithms,wedisplay
freezetheagentsâ€™policyandcommunicationandtraintheattackers theexperimentresultsbycoloringthecurveinthetrainingphase
tosimulatetherealattackingscheme.Thetrainingphaselastsfor inblueandcoloringthecurveinthetestingphaseinorange.Also,
ğ‘¡ stepsandthetestingphase(theattackerlearningphase)lasts thetestingphaseisactuallythetrainingprocessoftheattackers.
ğ‘¡ğ‘Ÿğ‘ğ‘–ğ‘›
forğ‘¡ steps.Andintherecursivetraining,werecursivelytrain Therefore,ifthealgorithmisnâ€™trobustenoughagainstcommunica-
ğ‘¡ğ‘’ğ‘ ğ‘¡
theagentsandattackerswithafixedintervalofstepsğ‘¡. tiveattacks,thelearningcurveinthetestingphasewoulddecay
Thetraining/testingstepsandhyperparametersareshownin significantly.
Table8.Thestepsarenâ€™ttunableparameters,asweadopttheproper TheleftcolumnshowsthelearningcurveoftheIBGPprotocol.
stepwherethelearningprocessisconverged.ğ‘Ÿ isthemaximum Andthemiddlecolumnisthelearningcurveofrecursivetrain-
ğ‘šğ‘ğ‘¥
roundsinIBGPProtocol,andtheğ‘˜ isthebuilt-inhyperparam- ing,meaningthatthetrainingprocessofagentsandattackersis
AME
eterinAMEalgorithms. repeated.Recursivetrainingisoneofthecontributionsofthealgo-
Thereâ€™snoexactrequirementofcomputingsources,becausethe rithmin[23].WealsocomparetheAMEalgorithmin[20]shown
algorithmandenvironmentarenotcomputationallyintensive. intherightcolumn.
FromthelearningcurvesinFigure10,theIBGPProtocolmain-
A.5.2 Environment. Wemakemodificationstothepredator-prey tainstheperformancefromthetrainingphasetothetestingphase.
environmenttomakeiteasiertolearninthetrainingphase.Specif-
Buttherecursivetrainingfailstoberobustwhenswitchedtothe
ically, we use fixed preysso agents can coordinate in an easier
testingphase.TheAMEalgorithmperformswellinpartofthe
pattern.Weusethemapsize5inthemainresultsandmapsize10
environmentsinthetestingphasebutstillenduresaperformance
intheadaptionprocess,becausethemapsize10ismorechallenging
decayinthetestingphase.
andtheğ‘˜+ğ‘¡ protocolwillnot100%succeedandhasapotentialto
improveintheadaptionprocess.Wealsoaddanauxiliaryreward A.5.4 Details of the Sensor Network problem. In Figure 11, the
basedonthedistancetothetargettoencourageexplorationin averagebeliefofallagentsisconsistentwiththetruesignal,and
Predator-prey(4,1,2,1) andPredator-prey(5,2,2,1) tomakethe thestandarddeviationisnearlyzero,indicatingthatallagentsshare
trainingphaseconvergetoagoodsolution. thesamebelief.
Thecorrectnessofthealgorithmisbecausethefollowingtheo-
rem.
Theorem4. Ifthereisatmostoneattackerinanyneighborhood
thatholdsconsensus,theconsensus-basedalgorithmisrobusttobroad-
castthesignal.(Assumptions:atleasttwoadjacentagentsobservethe
newsignal;eachneighborhoodcontainsmorethanthreeagents.)
TheproofofTheorem4isasfollows.
Proof. Onlythecorrectsignalcanpasstheconsensus,because
oftherobustnessoftheprotocol.Andeachagentisupdatedonly
once,sothealgorithmwillfinallyterminateateachtimestepğ‘¡.Due
totheconnectivityofthesensornetwork,thenewsignalwillalso
bebroadcastedtoalltheagents. â–¡
Ancounterexamplewithouttheconsensus-basedalgorithm. Tobet-
terillustratewhytheconsensusprotocolisessentialinsuchSensor
Networkproblems,wegiveancounterexamplewherevanillabroad-
castingisusedtotransferthesignalinFigure12.Inthiscase,the
sensornetworkisina1-dimensionarray.Onceanewtargetisob-
servedatsomeposition,thesensorswithnewobservations(blue)
trytobroadcastthenewsignaloftargetposition.However,the
existenceoftheattackersendsfakemessagesandmayblockthe
broadcasting,causingin-consistencyofthewholesystem.
A.6 DetaileddescriptionaboutFigure1
Figure9:Thescreenshotof2StarCraftIIenironments.
Denotethewholenumberofagentsasğ‘›,thepercentageofma-
licious agents asğ‘Ÿ, and the coordination threshold asğ‘˜. The x-
WeattachthefiguresoftheStarCraftIIenvironment4bane_vs_1hM axisandy-axisareğ‘Ÿ andğ‘›(1âˆ’ğ‘Ÿ)âˆ’ğ‘˜.TherequirementofBGPis
and3z_vs_1rinFigure9. ğ‘›>3(1âˆ’ğ‘Ÿ)+1duetotheğ‘›>3ğ‘¡+1requirement.TherequirementIBGPProtocol Recursivetraining AME
ğ‘¡ ğ‘¡ ğ‘Ÿ ğ‘¡ ğ‘¡ ğ‘¡ ğ‘˜
ğ‘¡ğ‘Ÿğ‘ğ‘–ğ‘› ğ‘¡ğ‘’ğ‘ ğ‘¡ ğ‘šğ‘ğ‘¥ ğ‘¡ğ‘Ÿğ‘ğ‘–ğ‘› ğ‘¡ğ‘’ğ‘ ğ‘¡ AME
Predator-prey(4,1,2,1) 1ğ‘’7 1ğ‘’7 5 1ğ‘’7 5ğ‘’6 5ğ‘’6 1
Predator-prey(5,2,2,1) 1ğ‘’7 1ğ‘’7 5 5ğ‘’6 5ğ‘’6 5ğ‘’6 1
Predator-prey(20,4,2,2) 8ğ‘’6 4ğ‘’6 5 1ğ‘’7 5ğ‘’6 5ğ‘’6 4
Predator-prey(20,1,4,2) 4ğ‘’6 4ğ‘’6 5 3ğ‘’6 5ğ‘’6 5ğ‘’6 4
Hallway(3,1,2,1) 1ğ‘’7 1ğ‘’7 5 3ğ‘’6 5ğ‘’6 5ğ‘’6 1
Hallway(10,1,5,2) 5ğ‘’5 5ğ‘’5 5 5ğ‘’6 5ğ‘’6 5ğ‘’6 4
4bane_vs_1hM(4,1,3,1) 1ğ‘’7 1ğ‘’7 5 3ğ‘’6 5ğ‘’6 5ğ‘’6 1
3z_vs_1r(3,1,2,1) 4ğ‘’6 4ğ‘’6 5 5ğ‘’6 5ğ‘’6 5ğ‘’6 1
Table8:Thetraining/testingstepsandhyperparametersusedintheexperiments.
ofIBGPisğ‘›âˆ—ğ‘Ÿ >ğ‘˜+ğ‘›âˆ—(1âˆ’ğ‘Ÿ)duetotherequirementthatthe
numberofgoodagents>ğ‘˜+ğ‘¡.Figure10:Thelearningcurvesoffourenvironments,comparingIBGPProtocol,recursivetrainingandAME.Figure11:ThesimulationresultincludingmeanandstandarddeviationofSensorNetworksProblembasedonIBGPProtocol.
Figure12:Onecounterexampleofthevanillabroadcasting.