EFX Exists for Three Types of Agents
VishwaPrakashH.V. PratikGhosal
ChennaiMathematicalInstitute IndianInstituteofTechnologyPalakkad
vishwa@cmi.ac.in pratik@iitpkd.ac.in
PrajaktaNimbhorkar NithinVarma
ChennaiMathematicalInstitute MaxPlanckInstituteforInformatics,Saarland
prajakta@cmi.ac.in nithvarma@gmail.com
Abstract
Inthispaper,westudytheproblemoffindinganenvy-freeallocationofindivisiblegoods
amongmultipleagents. EFX,whichstandsforenvy-freenessuptoanygood,isawell-studied
relaxationoftheenvy-freeallocationproblemandhasbeenshowntoexistforspecificscenarios.
Forinstance,EFXisknowntoexistwhenthereareonlythreeagents[9],andforanynumberof
agentswhenthereareonlytwotypesofvaluations[17].
Inthispaper,weshowthatEFXallocationsexistforanynumberofagentswhenthereareat
mostthreetypesofadditivevaluations.
1 Introduction
Fairdivisionofindivisibleresourcesisawell-researchedproblemattheintersectionoftheoretical
computer science and economics. The problem arises in a variety of practical settings, from
allocatingslotsorassetstodistributingaidorsharedgoods. Oneofthemostintuitivenotionsof
fairnessisenvy-freeness(EF)[12],whereeachindividualiscontentwiththeirsharecomparedto
others. However,whentheresourcesareindivisible-suchasphysicalobjects,housingunits,or
assetslikeartworkâ€”achievingtrueenvy-freenessbecomesimpossibleinmanycases. WhileEF
providesanaturalmeasureoffairness,thecombinatorialnatureofindivisiblegoodsoftenrenders
EFallocationsunattainable,highlightingthenecessityformorenuancedfairnesscriteria.
OnesuchrefinementisEnvy-FreenessuptoanyGood(EFX),proposedbyCaragiannisetal.
[7],whichhasgainedprominenceduetoitsminimalrelaxationofEF.UnderEFX,anagentmay
envyanother,butsuchenvycanalwaysberesolvedbyremovinganysinglegoodfromtheenvied
agentâ€™sbundle. Despiteitsapparentsimplicity,theexistenceofEFXallocationsforanarbitrary
numberofagentsremainsanunresolvedquestion. Thisistrueeveninmanyrestrictedsettings,
whereonlypartialresultsareknownforspecificcases[7,9,17,18,14,6].
To discuss EFX allocations in more detail, let us consider the formal framework for discrete
fairdivision. Here,wehaveasetğ’© = {ğ‘ ,ğ‘ ,...,ğ‘ }ofğ‘›agentsandasetâ„³ = {ğ‘” ,ğ‘” ,...,ğ‘” }
1 2 ğ‘› 1 2 ğ‘š
ofğ‘šindivisiblegoods. Eachagentğ‘ âˆˆ ğ’© hasavaluationfunctionğ‘£ : 2ğ’© â†’ R thatquantifies
ğ‘– ğ‘– â‰¥0
the amount of utility derived by agent ğ‘ from any given subset of goods. We focus on additive
ğ‘–
valuations,whichimplythatthetotalvaluederivedbyasubsetofgoodsissimplythesumofthe
valuesoftheindividualgoodswithinthatsubset. Formally,foranysubsetğ‘† âŠ† â„³,thevaluation
1
4202
tcO
71
]TG.sc[
1v08531.0142:viXraâˆ‘ï¸€
function can be expressed as: ğ‘£ (ğ‘†) = ğ‘£ ({ğ‘”}). An allocation ğ‘‹ = âŸ¨ğ‘‹ ,ğ‘‹ ,...,ğ‘‹ âŸ© is a
ğ‘– ğ‘”âˆˆğ‘† ğ‘– ğ‘1 ğ‘2 ğ‘ğ‘›
partitionofthegoodsintoğ‘›parts,calledasbundles,suchthatagentğ‘ receivesbundleğ‘‹ .
ğ‘– ğ‘ğ‘–
EFX Allocations: Given an allocation ğ‘‹, an agent ğ‘ envies agent ğ‘ if ğ‘£ (ğ‘‹ ) < ğ‘£ (ğ‘‹ ). This
ğ‘– ğ‘— ğ‘– ğ‘ğ‘– ğ‘– ğ‘ğ‘—
envyiscalledweakenvyifitdisappearsafterremovinganysinglegoodfromğ‘‹ . Otherwise,the
ğ‘ğ‘—
envyisconsideredstrong. Anallocationissaidtobeenvy-freeuptoanygood(EFX)ifnoagent
hasstrongenvytowardsanyotheragent. ItisnotknownwhetherEFXallocationsalwaysexist
forğ‘›agentswitharbitraryadditivevaluations. However, overtheyears, severalpartialresults
haveemerged. FollowingitsintroductionbyCaragiannisetal. [7],PlautandRoughgarden[18]
showedthatEFXallocationsexistintwospecificcases: (ğ‘–)whenthereareonlytwoagents,and
(ğ‘–ğ‘–)foranynumberofagents,providedallagentshaveidenticalvaluations. Mahara[17]extended
thistoshowthatEFXallocationalwaysexistswheneachagentisofoneoftwogiventypes,where
agentsofthesametypehaveidenticaladditivevaluations. Inabreakthroughpaper,Chaudhuryet
al. [9]showedthatEFXallocationsalwaysexistforinstanceswiththreeagents. Ghosaletal. [14]
extendedthisresulttoğ‘›agentswhenğ‘›âˆ’2ofthemhaveidenticalvaluations.
1.1 OurContributions
TheexistenceofEFXallocationsforthreetypesofagentshasbeenanopenproblem(see,e.g.,[16]).
Inthiswork,weresolvethisbyprovidingaconstructiveproofofthefollowingtheorem.
Theorem1. EFXallocationalwaysexistsforğ‘›agentswhentherearethreetypesofagents,whereagentsof
thesametypehaveidenticaladditivevaluations.
1.2 RelatedWork
The literature on the fair division of indivisible goods is extensive. This section highlights the
worksmostrelevanttoourstudy-EFXallocationsofgoods;forfurtherdetails,wereferthereader
toarecentsurveybyAmanatidisetal. [2].
InadditiontothestudiesoncompleteEFXallocationsdiscussedabove,therehavebeenseveral
results on almost complete EFX allocations, where the objective is to minimize the number of
unallocatedgoods. AnotablecontributionbyChaudhuryetal. [10]showthatEFXallocationsexist
withatmostğ‘›âˆ’1unallocatedgoods,ensuringthatnoagentenviesthesetofunallocatedgoods.
Followingthis,Bergeretal.[6]andMahara[16]showthatEFXallocationscanbeachievedwith
atmostğ‘›âˆ’2unallocatedgoods. Moreover,theyshowthatforfouragents,EFXallocationscan
alwaysbecomputedwithatmostoneunallocatedgood.
Aninterestingconstraintistorestrictthenumberofpossiblevaluesagentscanhaveforthe
goods. Amanatidisetal. [3]showthatEFXallocationsexistforbi-valuedinstances,whereeach
agentassignsoneoftwopossiblevaluestoeachgood. GargandMurhekar[13]extendedthisresult
byshowingParetooptimalEFXallocationsalwaysexistsforbi-valuedinstances. Inarecentarticle,
Amanatidisetal. [4]showthatEFXallocationsexistfortri-valuedinstances.
TherehavebeenseveralmorestudiesonapproximatenotionsofEFXallocations. Anallocation
is said to be ğ›¼-EFX, if for every pair of agents ğ‘ and ğ‘ , agent ğ‘ finds her bundle ğ‘‹ to be at
ğ‘– ğ‘— ğ‘– ğ‘ğ‘–
leastasvaluableasğ›¼Â·ğ‘£ (ğ‘‹ âˆ–ğ‘”)foranyğ‘” âˆˆ ğ‘‹ . Chanetal. [8]showedtheexistenceof 1-EFX
ğ‘ğ‘– ğ‘ğ‘— ğ‘ğ‘— 2
allocations. Followingthis,Amanatidisetal. [5]showedthat0.618-EFXallocationsalwaysexists.
Inarecentwork,Amanatidisetal.[4]showthat 2-EFXallocationsexistwhenthereareatmost
3
sevenagents.
22 Preliminaries
Let ğ’© = {ğ‘ ,ğ‘ ,...,ğ‘ } be a set of ğ‘› agents and â„³ = {ğ‘” ,ğ‘” ,...,ğ‘” } be a set of ğ‘š indi-
1 2 ğ‘› 1 2 ğ‘š
visible goods. A discrete fair division instance is represented by the tuple âŸ¨ğ’©,â„³,ğ’±âŸ©, where
ğ’± = âŸ¨ğ‘£ ,ğ‘£ ,...,ğ‘£ âŸ© comprises the valuation functions. For each agent ğ‘ âˆˆ ğ’©, the function
ğ‘1 ğ‘2 ğ‘ğ‘› ğ‘–
ğ‘£ : 2â„³ â†’ R specifiestheutilitythatagentğ‘ derivesfromanygivensubsetofgoods.
ğ‘– â‰¥0 ğ‘–
Weusethetermbundletodenoteasubsetofgoods. Anallocationğ‘‹ = âŸ¨ğ‘‹ ,ğ‘‹ ,...,ğ‘‹ âŸ©isa
ğ‘1 ğ‘2 ğ‘ğ‘›
tupleofğ‘›mutuallydisjointbundlessuchthatbundleğ‘‹ isassignedtoagentğ‘ forallğ‘ âˆˆ ğ’©. We
ğ‘ğ‘– ğ‘– ğ‘–
â‹ƒï¸€
sayanallocationğ‘‹ iscompleteif ğ‘‹ = â„³.
ğ‘ğ‘–âˆˆğ’© ğ‘ğ‘–
Letğ‘ âˆˆ ğ’©; ğ‘” âˆˆ â„³; ğ‘†,ğ‘‡ âŠ† â„³andğ‘£ bethevaluationfunctionofğ‘ . Tosimplifynotation,we
ğ‘– ğ‘ğ‘– ğ‘–
writeğ‘£ (ğ‘”)todenoteğ‘£ ({ğ‘”})anduseğ‘† âˆ–ğ‘”,ğ‘† âˆªğ‘” todenoteğ‘† âˆ–{ğ‘”},ğ‘† âˆª{ğ‘”},respectively. Wealso
ğ‘ğ‘– ğ‘ğ‘–
writeğ‘† > ğ‘‡ todenoteğ‘£ (ğ‘†) > ğ‘£ (ğ‘‡)andsimilarlyfor< ,â‰¥ ,â‰¤ and= . Weusemin (ğ‘†,ğ‘‡)
ğ‘ğ‘– ğ‘ğ‘– ğ‘ğ‘– ğ‘ğ‘– ğ‘ğ‘– ğ‘ğ‘– ğ‘ğ‘– ğ‘ğ‘–
andmax (ğ‘†,ğ‘‡)todenoteargmin ğ‘£ (ğ‘Œ)andargmax ğ‘£ (ğ‘Œ)respectively.
ğ‘ğ‘– ğ‘Œâˆˆ{ğ‘†,ğ‘‡} ğ‘ğ‘– ğ‘Œâˆˆ{ğ‘†,ğ‘‡} ğ‘ğ‘–
Definition 1 (Pareto domination). An allocation ğ‘Œ Pareto dominates an allocation ğ‘‹, denoted by
ğ‘Œ â‰» ğ‘‹,Ifforeveryagentğ‘ âˆˆ ğ’© herbundleinğ‘Œ isatleastasgoodasherbundleinğ‘‹ andforatleastone
ğ‘–
agent,herbundleinğ‘Œ isstrictlybetterthantheoneinğ‘‹. Formally,ğ‘Œ â‰» ğ‘‹ if
âˆ€ğ‘ âˆˆ ğ’©,ğ‘Œ â‰¥ ğ‘‹ and âˆƒğ‘ âˆˆ ğ’©,ğ‘Œ > ğ‘‹
ğ‘– ğ‘ğ‘– ğ‘ğ‘– ğ‘ğ‘– ğ‘— ğ‘ğ‘— ğ‘ğ‘— ğ‘ğ‘—
Given an allocation ğ‘‹ = âŸ¨ğ‘‹ ,ğ‘‹ ,...,ğ‘‹ âŸ©, we say that agent ğ‘ envies another agent ğ‘ if
ğ‘1 ğ‘2 ğ‘ğ‘› ğ‘– ğ‘—
ğ‘‹ > ğ‘‹ . Weoftenalsosaythatagentğ‘ enviesthebundleğ‘‹ . Foranallocationğ‘‹, theenvy
ğ‘ğ‘— ğ‘ğ‘– ğ‘ğ‘– ğ‘– ğ‘ğ‘—
relationamongtheagentsisgraphicallyrepresentedasfollows.
Definition2(EnvyGraph). Givenanallocationğ‘‹,letğ¸ = (ğ’©,ğ¸)beadirectedgraphwherethesetof
ğ‘‹
agentsğ’© isthesetofverticesandforeverypair(ğ‘ ,ğ‘ )ofagents,(ğ‘ ,ğ‘ ) âˆˆ ğ¸ iffagentğ‘ enviesagentğ‘
ğ‘– ğ‘— ğ‘– ğ‘— ğ‘– ğ‘—
undertheallocationğ‘‹.
Theenvyfromanagentcanbefurthercategorizedintostrongandweakenvyasfollows.
Definition3(Strongenvy). Givenanallocationğ‘‹,anagentğ‘ stronglyenviesanagentğ‘ ifğ‘‹ <
ğ‘– ğ‘— ğ‘ğ‘– ğ‘ğ‘–
ğ‘‹ âˆ–ğ‘” forsomeğ‘” âˆˆ ğ‘‹ .
ğ‘ğ‘— ğ‘ğ‘—
Anenvythatisnotstrongiscalledasaweakenvy. Giventhedefinitionsofstrongandweak
envies,anEFXallocationcanbedefinedasfollows.
Definition 4 (EFX). An allocation ğ‘‹ = âŸ¨ğ‘‹ ,ğ‘‹ ,...,ğ‘‹ âŸ© is said to be envy free upto any good
ğ‘1 ğ‘2 ğ‘ğ‘›
(EFX)ifnoagentstronglyenviesanyotheragent. Thatis:
âˆ€ğ‘ ,ğ‘ âˆˆ ğ’©,âˆ€ğ‘” âˆˆ ğ‘‹ , ğ‘‹ â‰¥ ğ‘‹ âˆ–ğ‘”.
ğ‘– ğ‘— ğ‘ğ‘— ğ‘ğ‘– ğ‘ğ‘– ğ‘ğ‘—
Non-degenerate instances [9, 1] An instance â„ = âŸ¨ğ’©,â„³,ğ’±âŸ© is said to be non-degenerate if and
onlyifnoagentvaluestwodifferentbundlesequally. Thatis,âˆ€ğ‘ âˆˆ ğ’© wehaveğ‘£ (ğ‘†) Ì¸= ğ‘£ (ğ‘‡)for
ğ‘– ğ‘ğ‘– ğ‘ğ‘–
allğ‘† Ì¸= ğ‘‡, whereğ‘†,ğ‘‡ âŠ† â„³. Akramietal. [1]showedthatitsufficestodealwithnon-degenerate
instanceswhenthereareğ‘›agentswithgeneralvaluationfunctions, i.e., ifeachnon-degenerate
instancehasanEFXallocation,eachgeneralinstancehasanEFXallocation.
In the rest of the paper, we only consider non-degenerate instances. This implies that all
goods are positively valued by all agents as value of the empty bundle is assumed to be zero.
Non-degenerateinstanceshavethefollowingproperty.
3Proposition1. Givenanyallocationğ‘‹,foranytwoagentsğ‘andğ‘â€²withidenticalvaluation,eitherğ‘envies
ğ‘â€² orviceversa.
Ifanagentğ‘ enviesabundleğ‘†,wecandefineaminimallyenviedsubsetasfollows.
ğ‘–
Definition 5 (Minimally envied subset [11]). Given an allocation ğ‘‹, if an agent ğ‘ with bundle ğ‘‹
ğ‘– ğ‘ğ‘–
envies a bundle ğ‘†, we call ğ‘‡ âŠ† ğ‘† a minimally envied subset of ğ‘† for agent ğ‘ if both the following
ğ‘–
conditionshold.
1. ğ‘‹ < ğ‘‡
ğ‘ğ‘– ğ‘ğ‘–
2. ğ‘‹ â‰¥ ğ‘‡ âˆ–â„ âˆ€â„ âˆˆ ğ‘‡
ğ‘ğ‘– ğ‘ğ‘–
For an agent ğ‘ and two subsets ğ‘†,ğ‘‡ âŠ† â„³ such that ğ‘† < ğ‘‡, we define ğ‘… as the minimally
ğ‘– ğ‘ğ‘–
enviedsubsetofğ‘‡ withrespecttoğ‘†,denotedğ‘… = MES (ğ‘‡,ğ‘†),ifğ‘…isthesubsetofğ‘‡ thatwould
ğ‘ğ‘–
beminimallyenviedbyğ‘ assumingğ‘† isagentğ‘ â€™sbundle. Whenğ‘† issameasğ‘‹ ,wesimplyrefer
ğ‘– ğ‘– ğ‘ğ‘–
toMES (ğ‘‡,ğ‘†)asMES (ğ‘‡).
ğ‘ğ‘– ğ‘ğ‘–
Definition6(Champion[10]). Letğ‘‹ beanallocationandğ‘‡ âŠ† â„³beabundlesuchthatatleastoneagent
enviesğ‘‡. Anagentğ‘ issaidtochampionthebundleğ‘‡ ifnoagentstronglyenviestheminimallyenvied
ğ‘–
subsetMES (ğ‘‡,ğ‘‹ ).
ğ‘ğ‘– ğ‘ğ‘–
Definition7(ğ‘”-champion[10]). Givenapartialallocationğ‘‹ andanunallocatedgoodğ‘”,anagentğ‘ is
ğ‘–
saidtoğ‘”-championagentğ‘ ifğ‘ championsthebundleğ‘‹ âˆªğ‘”. Ifğ‘ = ğ‘ ,wesayagentğ‘ selfğ‘”-champions.
ğ‘— ğ‘– ğ‘ğ‘— ğ‘– ğ‘— ğ‘–
Similartotheenvygraphğ¸ ,wecandefineachampiongraphwithrespecttoanunallocated
ğ‘‹
goodasfollows.
Definition 8 (Champion Graph). Given a partial allocation ğ‘‹ along with an unallocated good ğ‘”, a
championgraph,denotedbyğ‘€ = (ğ’©,ğ¸ ),isadirectedgraphwiththesetofagentsğ’© asthevertices
ğ‘‹ ğ‘€
andforeverypairofagentsğ‘ ,ğ‘ ,theedge(ğ‘ ,ğ‘ ) âˆˆ ğ¸ ifğ‘ ğ‘”-championsğ‘ .
ğ‘– ğ‘— ğ‘– ğ‘— ğ‘€ ğ‘– ğ‘—
Throughoutthispaper,â€œchampionedgesâ€referstoğ‘”-championedgesforsomeunallocated
good ğ‘”, unless otherwise specified. The following is a simple observation about the champion
graphs.
Proposition2. Foranypartialallocationğ‘‹ andcorrespondingchampiongraphğ‘€ withrespecttoan
ğ‘‹
unallocatedgoodğ‘”,ğ‘€ isalwayscyclic.
ğ‘‹
Proof. Recallthateveryagentvalueseverygoodnon-zero. Foreachagentğ‘ ,asğ‘ enviesğ‘‹ âˆªğ‘”
ğ‘– ğ‘– ğ‘ğ‘–
over ğ‘‹ , some agent (possibly ğ‘ ) must ğ‘”-champion ğ‘ . Thus, every agent has an incoming
ğ‘ğ‘– ğ‘– ğ‘–
ğ‘”-championedge,makingğ‘€ cyclic.
ğ‘‹
Pareto Improvements: Given an EFX allocation ğ‘‹, which is not necessarily complete, several
techniquescanbeappliedtofindnewEFXallocationsthatParetodominateğ‘‹. Wewilldiscuss
someofthesetechniquesbelow.
Firstly,wecaneliminateenvycycles.
Lemma1([15]). Ifğ‘‹ isanEFXallocationsuchthattheenvygraphğ¸ ofğ‘‹ hasadirectedcycle,then
ğ‘‹
thereexistsanotherEFXallocationğ‘Œ suchthatğ‘Œ â‰» ğ‘‹.
4Chaudhuryetal. generalizedthisideaasfollows.
Lemma 2 ([10]). Let ğ‘‹ be a partial EFX allocation. If there exists two agents ğ‘ and ğ‘ such that ğ‘
ğ‘– ğ‘— ğ‘–
ğ‘”-championsğ‘ andğ‘ isreachablefromğ‘ intheenvygraphğ¸ ,thenthereexistsanotherEFXallocation
ğ‘— ğ‘– ğ‘— ğ‘‹
ğ‘Œ such that ğ‘Œ â‰» ğ‘‹. Moreover, all the agents in the path from ğ‘ to ğ‘ , including ğ‘ and ğ‘ , get strictly
ğ‘– ğ‘— ğ‘– ğ‘—
betterbundlesinğ‘Œ.
Asacorollaryoftheabovelemma,wecanmakethefollowingtwoobservations.
Corollary1([10]). Letğ‘‹ beapartialEFXallocation. Ifatleastoneofthefollowingholds,thenthereexists
anotherEFXallocationğ‘Œ suchthatğ‘Œ â‰» ğ‘‹.
1. Envygraphğ¸ hasasinglesourcevertex.
ğ‘‹
2. Thereexistsanagentğ‘ whoselfğ‘”-champions.
ğ‘–
Givenanallocationğ‘‹,ifagentğ‘ doesnotenvyagentğ‘ butğ‘ ğ‘”-championsğ‘ ,itfollowsthat
ğ‘– ğ‘— ğ‘– ğ‘—
ğ‘” âˆˆ MES (ğ‘‹ âˆªğ‘”,ğ‘‹ ). Inthiscase,wesaythatagentğ‘ decomposesthebundleğ‘‹ intotopand
ğ‘ğ‘– ğ‘ğ‘— ğ‘ğ‘– ğ‘– ğ‘ğ‘—
bottomhalves. Thetophalfisdefinedasğ‘‡ ğ‘ğ‘ ğ‘—ğ‘– = MES ğ‘ğ‘–(ğ‘‹ ğ‘ğ‘— âˆªğ‘”,ğ‘‹ ğ‘ğ‘–)âˆ–ğ‘”, whilethebottomhalfis
given by ğµ ğ‘ğ‘ ğ‘—ğ‘– = ğ‘‹ ğ‘ğ‘— âˆ–ğ‘‡ ğ‘ğ‘ ğ‘—ğ‘–. This decomposition allows us to compare the top halves of different
agentsâ€™bundles,leadingtothefollowingobservation.
Proposition3. Consideranallocationğ‘‹. Supposeagentğ‘ ğ‘”-championsagentğ‘ anddoesnotğ‘”-champion
ğ‘– ğ‘—
ğ‘ â„“. Suppose agent ğ‘ ğ‘˜, for ğ‘˜ Ì¸= ğ‘–, ğ‘”-champions agent ğ‘ â„“. The bundle ğ‘‹ ğ‘ğ‘– is decomposed as ğ‘‡ ğ‘ğ‘ ğ‘—ğ‘– and ğµ ğ‘ğ‘ ğ‘—ğ‘–.
Similarly,ğ‘‹ ğ‘
â„“
isdecomposedintoğ‘‡ ğ‘ğ‘ â„“ğ‘˜ andğµ ğ‘ğ‘ â„“ğ‘˜. Thenğ‘‡ ğ‘ğ‘ ğ‘—ğ‘– > ğ‘ğ‘– ğ‘‡ ğ‘ğ‘ â„“ğ‘˜.
Proof. Agentğ‘ ğ‘– ğ‘”-championsğ‘ ğ‘— butnotğ‘ â„“. Therefore,ğ‘‡ ğ‘ğ‘ ğ‘—ğ‘– âˆªğ‘” > ğ‘ğ‘– ğ‘‹ ğ‘ğ‘– > ğ‘ğ‘– ğ‘‡ ğ‘ğ‘ â„“ğ‘˜ âˆªğ‘”,whichimplies
ğ‘‡ ğ‘ğ‘ ğ‘—ğ‘– > ğ‘ğ‘– ğ‘‡ ğ‘ğ‘ â„“ğ‘˜.
2.1 ThreeTypesofAgents
GivenaninstanceâŸ¨ğ’©,â„³,ğ’±âŸ©ofdiscretefairdivision,wesaythattheagentsareofthreetypesifthe
setofagentscanbepartitionedasğ’© = AâŠBâŠC ,whereagentsineachofthesetsA ,B ,andC have
identicalvaluationfunctions. Werefertotheseasthethreegroupsofagents. Inparticular,wedenote
the agents in group A as A = {ğ‘ ,ğ‘ ,ğ‘ ,...,ğ‘ }, all of whom have the same additive valuation
1 2 3 ğ‘
functionğ‘£ . Similarly,theagentsingroupB = {ğ‘ ,ğ‘ ,...,ğ‘ }andgroupC = {ğ‘ ,ğ‘ ,...,ğ‘ }have
ğ‘ 1 2 ğ‘ 1 2 ğ‘Ÿ
identicaladditivevaluationfunctionsğ‘£ andğ‘£ ,respectively. Letğ‘,ğ‘ andğ‘Ÿbethenumberofagents
ğ‘ ğ‘
ingroupsA,B andC respectively. Thus,|ğ’©| = ğ‘› = ğ‘+ğ‘+ğ‘Ÿ.
Givenanallocationğ‘‹ foranon-degenerateinstancewiththreetypesofagents,foranytwo
agentsğ‘ andğ‘ ofthesametype,weknowthateitherğ‘‹ > ğ‘‹ orğ‘‹ < ğ‘‹ . Therefore,w.l.o.g.
ğ‘– ğ‘— ğ‘ğ‘– ğ‘ğ‘— ğ‘ğ‘– ğ‘ğ‘—
weassumethatthebundlesaresortedamongtheagentsineachgroupandthereforetheagents
ğ‘ ,ğ‘ and ğ‘ have the least valued bundles of their respective groups. We call them the leading
1 1 1
agents,denotedbyğ¿ = {ğ‘ ,ğ‘ ,ğ‘ }. Throughoutthispaper,wewillmaintainthispropertyasan
1 1 1
invariantforeachEFXallocation.
Definition 9 (Ordering Invariant ). Let ğ‘‹ be an EFX allocation. For any group ğ‘‡ âˆˆ {A,B,C} with
valuationğ‘£ ,ifâˆƒğ‘– > ğ‘— suchthatğ‘£ (ğ‘‹ğ‘–) < ğ‘£ (ğ‘‹ğ‘—)thenweinterchangethebundlesofthetwoagents. Thus,
ğ‘¡ ğ‘¡ ğ‘¡ ğ‘¡ ğ‘¡
wemaintaintheinvariantthatğ‘£ (ğ‘‹ğ‘–) â‰¥ ğ‘£ (ğ‘‹ğ‘—)wheneverğ‘– > ğ‘—,foreachgroupğ‘‡ withvaluationfunction
ğ‘¡ ğ‘¡ ğ‘¡ ğ‘¡
ğ‘£ . Inparticular,theleadingagentwithineachgrouphastheminimumvaluedbundlewithinthatgroup.
ğ‘¡
5Foraninstancewiththreetypesofagents,Proposition2canberefinedasfollows.
Proposition4. Givenaninstancewith3typesofagents,andanallocationğ‘‹,onlyleadingagentscanbe
thesourcesintheenvygraphğ¸ . Henceğ¸ hasatmost3sources. Moreover,thefollowinghold:
ğ‘‹ ğ‘‹
1. Ifanynon-leadingagentğ‘¥envies(respectivelyğ‘”-champions)anotheragentğ‘¦,thentheleadingagent
inthegroupofğ‘¥alsoenvies(respectivelyğ‘”-champions)ğ‘¦.
2. Inthechampiongraphğ‘€ ,theremustbeacycleoflengthatmost3,andthecycleinvolvesonlythe
ğ‘‹
leadingagents.
Proof. BytheOrderingInvariant(Definition9),ifğ‘¥enviesğ‘¦,theleadingagentinthesamegroup
asğ‘¥hasthesamevaluationfunctionandasmallervaluedbundlethanğ‘¥. HencePart1follows.
To see Part 2, consider allocation of ğ‘” to each of the leading agents. From Proposition 4, we
knowthatğ‘€ iscyclic. Ifaleadingagentself-ğ‘”-champions,thenğ‘€ hasacycleoflength1. Ifno
ğ‘‹ ğ‘‹
leadingagentself-ğ‘”-champions,thenbyPart1,noagentinanygroupğ‘”-championstheleading
agentinthesamegroup. Sotheleadingagentofeachgroupmustbeğ‘”-championedbyaleading
agentofanothergroup,therebycreatinga2-cycleora3-cycle.
2.2 ProgressMeasures
AcommonapproachtoprovingtheexistenceofEFXallocationsistobeginwithanempty,trivially
EFXallocation,anditerativelyextendit. Toensuretermination,variousprogressmeasureshavebeen
proposed. Paretodominanceisonesuchwell-studiedmeasure,whereeachpartialEFXallocation
Paretodominatesthepreviousone. Chaudhuryetal. [9]introducedthelexicographicimprovement
toprovetheexistenceofEFXforthreeagents.
ToproveTheorem1,weuseacombinationofParetodominanceandanewpotentialfunction
asdefinedbelow.
Definition10(Potentialfunction: ). Forany,possiblypartial,allocationğ‘‹,potentialofğ‘‹ isdefinedtobe
ğœ‘(ğ‘‹) = minğ‘£ (ğ‘‹ )
ğ‘ğ‘–âˆˆA
ğ‘ ğ‘ğ‘–
Notethatthefunctionğœ‘iscompatiblewithParetodominance. Thatis,
Proposition5. Forallocationsğ‘‹,ğ‘Œ,ifğ‘Œ â‰» ğ‘‹,thenğœ‘(ğ‘Œ) â‰¥ ğœ‘(ğ‘‹).
Ifğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹),wesayğ‘Œ ğœ‘-dominatesğ‘‹. WestartwithatriviallyEFXallocationanditeratively
findnewEFXallocationsthateitherParetodominateorğœ‘-dominatethepreviousone. AsPareto
dominanceisapartialorderonthesetofallocations,andğœ‘formsatotalorder,thisproceduremust
terminate.
GivenapartialEFXallocationğ‘‹,wediscussafewsimplemethodstoobtainağœ‘-dominating
EFXallocation.
Firstly,ifagentğ‘ istheonlysourceintheenvygraphğ¸ ,thenasacorollaryofLemma2,we
1 ğ‘‹
getağœ‘-dominatingEFXallocation. Thisistrueasthebundlevalueofagentğ‘ strictlyincreases.
1
Corollary2. GivenapartialEFXallocationğ‘‹,ifğ‘ istheonlysourceinğ¸ ,thenthereexistsanEFX
1 ğ‘‹
allocationğ‘Œ,possiblypartial,suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
We generalize this idea to cases where there is no actual cycle among the agents, but rather
amongthegroups. Wecallthistheğœ‘-improvingexchanges,asdiscussedinthefollowingsection.
62.3 ğœ‘-improvingexchanges
Similar to Pareto Improving Cycles in [6], we define ğœ‘-improving exchanges for instances with
threetypesofagents. Thesearenotnecessarilycyclesamongtheagents,butrathercyclesamong
thegroups. Someexamplesofağœ‘-improvingexchangesaregiveninFigure1.
Â·Â·Â· ğ‘1 ğ‘1 ğ‘ğ‘–Â·Â·Â· Â·Â·Â·ğ‘1 ğ‘1 ğ‘ğ‘– Â·Â·Â·
â„
ğ‘” ğ‘”
ğ‘1 ğ‘ğ‘—Â·Â·Â· ğ‘1 Â·Â·Â·
(a)âŸ¨(ğ‘ 1,ğ‘ ğ‘–),(ğ‘ 1,ğ‘ ğ‘—),(ğ‘ 1,ğ‘ 1)âŸ©isağœ‘-improvingexchangein- (b)âŸ¨(ğ‘ 1,ğ‘ ğ‘–),(ğ‘ 1,ğ‘ 1),(ğ‘ 1,ğ‘ 1)âŸ©isağœ‘-improvingexchangein-
volvingtwocompatiblechampionedges. volvingoneğ‘”-championedge
Â·Â·Â· ğ‘1 ğ‘1 ğ‘ğ‘– Â·Â·Â· Â·Â·Â· ğ‘1
ğ‘”
ğ‘1 ğ‘ğ‘— Â·Â·Â·
ğ‘1 ğ‘ğ‘–Â·Â·Â·
(c)âŸ¨(ğ‘ 1,ğ‘ ğ‘–),(ğ‘ 1,ğ‘ ğ‘—),(ğ‘ 1,ğ‘ 1)âŸ©isağœ‘-improvingexchangewith
onlyenvyedges (d)âŸ¨(ğ‘ 1,ğ‘ ğ‘–),(ğ‘ 1,ğ‘ 1)âŸ©isağœ‘-improvingexchange
Figure1: Someexamplesofğœ‘-improvingexchanges
Definition11(ğœ‘-improvingexchange). GivenanEFXallocationğ‘‹,possiblypartial,ağœ‘-improvingex-
changeinvolvingthreegroupsisatupleofedgeseitheroftheformâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©orâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©,
1 ğ‘– 1 ğ‘— 1 1 1 ğ‘— 1 ğ‘– 1 1
whereğ‘ âˆˆ Bandğ‘ âˆˆ C,suchthatthefollowingholds:
ğ‘– ğ‘—
(i) everyedgeinthetupleiseitheranenvyedgeorağ‘”-championedgeforsomeunallocatedgoodğ‘”.
(ii) Foranyunallocatedgoodğ‘”,thetuplecanhaveatmostoneğ‘”-championedge.
Similarly, a ğœ‘-improving exchange involving two groups is a tuple of the form âŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ© (or
1 ğ‘– 1 1
âŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©)suchthattheaboveconditionshold.
1 ğ‘— 1 1
Toperformağœ‘-improvingexchange,withineachgroup,thebundlethatisbeingenvied(orchampioned)
isgiventotheenvying(orchampioning)group. Withineachgroup,theincomingbundleisthenallocatedto
theagentwhowasbeingenvied(orchampioned)intheexchange. Iftheedgeisachampionedge,theMES
bundleistransferredinsteadofthewholebundle.
Performingağœ‘-exchangeonanEFXallocationğ‘‹ immediatelygivesağœ‘-dominantEFXallocation
ğ‘Œ. ThisisstatedinthefollowingLemma3.
Lemma 3. A ğœ‘-improving exchange on an EFX allocation ğ‘‹ gives another EFX allocation ğ‘Œ such that
ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Proof. ConsideranEFXallocationğ‘‹. Ağœ‘-improvingexchangeinğ‘‹ caneitherinvolveagentsfrom
twogroups,orfromallthethreegroups.
7Ifitinvolvestwogroups,sayâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©,weformanewallocationğ‘Œ byassigningğ‘‹ to
1 ğ‘– 1 1 ğ‘1
ğ‘ (orMES (ğ‘‹ âˆªğ‘”)if(ğ‘ ,ğ‘ )isağ‘”-championedge)andğ‘‹ (orMES (ğ‘‹ âˆªâ„)foranâ„-champion
ğ‘– ğ‘ ğ‘1 1 ğ‘– ğ‘ğ‘– ğ‘ ğ‘ğ‘–
edge)toğ‘ .
ğ‘–
Ifitinvolvesthreegroups,w.l.o.gletâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©beağœ‘-improvingexchange. The
1 ğ‘– 1 ğ‘— 1 1
newallocationğ‘Œ isobtainedbytransferringthebundleofğ‘ toğ‘ ,thatofğ‘ toğ‘ ,andthebundle
ğ‘– 1 ğ‘— 1
ofğ‘ toğ‘ . Ifanyofthesearechampionedges,weallocateMESbundlesaccordingly.
1 1
Thebundlesarethenre-sortedtorestoretheOrderingInvariant. Letğ‘‹(ğ´)bethesetofbundles
ofagentsinA intheallocationğ‘‹. Inallocationğ‘Œ,thevalueoftheminimumvaluedbundleinA
increasessincethenewbundlesinA i.e. ğ‘Œ(ğ´) = (ğ‘‹(ğ´)âˆ–{ğ‘‹ )}âˆª{ğ‘‹ },andğ‘£ (ğ‘‹ ) > ğ‘£ (ğ‘‹ ).
ğ‘1 ğ‘ğ‘– ğ‘ ğ‘ğ‘– ğ‘ ğ‘1
SothenewminimumvaluedbundleinA ismin{ğ‘‹ ,ğ‘‹ }.
ğ‘2 ğ‘ğ‘–
Nowweprovethatğ‘Œ isanEFXallocation. Foreachagent,thebundleinğ‘Œ iseitherthesame
asthatinğ‘‹,orabetterbundlethanthatinğ‘‹. Also,theexchangedbundlesareeitherthesame
bundlesasinğ‘‹ orareanMESofğ‘” addedtoabundleinğ‘‹. Therefore,theexchangedbundlesare
notstronglyenviedbyanyagent. Thisprovesthatğ‘Œ isalsoanEFXallocation.
2.4 Proofoutline
ToproveTheorem1,weshowthat,foranypartialEFXallocationğ‘‹,thereisanotherEFXallocation
ğ‘Œ suchthateitherğ‘Œ â‰» ğ‘‹ orğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹). Sincethenumberofallocationsisfinite,thisprocess
must terminate with a complete EFX allocation. The proof of Theorem 1 is organized into the
followingcaseconfigurations,whereineachconfiguration,weshowhowtoconstructtheallocation
ğ‘Œ.
1. Agentğ‘ isasourceinğ¸ : Thisisfurthersubdividedintothefollowingsub-cases:
1 ğ‘‹
(a) Agent ğ‘ envies someone in B âˆª C . This configuration is considered in Lemma 7 and
1
Lemma8inSection4.
(b) Agentğ‘ enviesnooneinBâˆªC . Theexistenceofğ‘Œ isprovedinLemma9inSection5.
1
2. Agent ğ‘ is not a source in ğ¸ : This case is considered in Section 6. Two sub-cases arise, as
1 ğ‘‹
mentionedbelow:
(a) Agentğ‘ enviessomeagentinBâˆªC . Inthiscase, theconstructionoftheallocationğ‘Œ is
1
showninLemma14.
(b) Agentğ‘ doesnotenvyanyagentinBâˆªC . ThiscaseisconsideredinLemma15.
1
Keyrecurringconfigurations. Inprovingthesecases,severalkeyconfigurationsarisefrequently,
whichhelpinconstructingthedesiredallocationğ‘Œ.
First,weshowthatwhentherearethreesourcesintheenvygraphğ¸ ,wecanobtainğ‘Œ,ğ‘Œ â‰» ğ‘‹.
ğ‘‹
ThisisshowninLemma6ofSection3.
Inmanyscenarios,weencounterallocationssuchthatthestrongenviesareconfinedwithin
groups, meaning there is no inter-group strong envy. We show that such envy can be resolved
withoutreducingthepotentialğœ‘. Thisisshownmoregenerallyinthefollowinglemma.
Lemma4(Resolvinginternalstrongenvies). Letğ‘‹ beanyallocation. Supposeanagent,sayğ‘ ,strongly
ğ‘–
enviesasetğ‘† ofagentsonlywithinhergroup,i.e.,ğ‘† âŠ‚ A. Then,thereexistsanotherallocationğ‘Œ suchthat
thefollowingconditionshold:
8(i) ğœ‘(ğ‘Œ) = ğœ‘(ğ‘‹)
(ii) Inğ‘Œ,agentğ‘ doesnotstronglyenvyanyone.
ğ‘–
(iii) Inğ‘Œ,noagentinğ‘† stronglyenviesanyagent.
Proof. Letğ‘ âˆˆ ğ‘†. Soğ‘ stronglyenviesğ‘ . Thenwereplaceğ‘‹ byğ‘Œ = MES (ğ‘‹ ). Clearlyğ‘‹
ğ‘— ğ‘– ğ‘— ğ‘ğ‘— ğ‘ğ‘— ğ‘ğ‘– ğ‘ğ‘— ğ‘ğ‘—
isnottheminimumvaluedbundleinA . Soğœ‘doesnâ€™tchangebythisreplacement. Sincesucha
replacementisdoneforeachğ‘ âˆˆ ğ‘†,ğ‘ hasnostrongenvytowardsanyagentinğ‘†. Sinceğ‘ didnot
ğ‘— ğ‘– ğ‘–
stronglyenvyanyoneinothergroupswithrespecttoğ‘‹,andsincealltheagentsoutsideğ‘† havethe
samebundlesinğ‘‹ andğ‘Œ,ğ‘ doesnotstronglyenvyanyoneoutsideğ‘† either. Althoughagentsin
ğ‘–
ğ‘†,likeğ‘ ,gotsmallerbundles,ğ‘Œ > ğ‘‹ . Soğ‘ doesnotstronglyenvyanyonewithrespecttoğ‘Œ
ğ‘— ğ‘ğ‘— ğ‘ ğ‘ğ‘– ğ‘—
asğ‘ doesnotstronglyenvyanyonewithrespecttoğ‘Œ.
ğ‘–
SinceLemma4appliestoanyofthethreegroups,wehavethefollowingcorollary.
Corollary3. Ifğ‘‹ isanallocationwherenoagentstronglyenviesanotheragentfromadifferentgroup,then
thereexistsanEFXallocationğ‘Œ,possiblypartial,suchthatğœ‘(ğ‘Œ) = ğœ‘(ğ‘‹).
Therearecaseswheretwooftheleadingagentschampioneachother,whileathirdagentenvies
neitherofthem,wherethefollowinglemmaapplies.
Lemma5. Letğ‘‹ beapartialEFXallocationwithanunallocatedgoodğ‘” suchthatinğ‘‹,twooftheleading
agents(say,ğ‘ andğ‘ )ğ‘”-championeachotherandnoneoftheleadingagentsenvythosetwoagents(ğ‘ and
1 1 1
ğ‘ ,inthiscase). Then,thereexistsanEFXallocationğ‘Œ suchthatğ‘Œ â‰» ğ‘‹. Moreover,thebundlesofboththe
1
leadingagentsintheğ‘”-championcyclearestrictlyimproved.
Proof. Withoutlossofgenerality,assumethatagentsğ‘ andğ‘ ğ‘”-championeachother. Then,the
1 1
bundlesofğ‘ andğ‘ canbepartitionedintotopandbottompartsasfollows:
1 1
ğ‘‡ğ‘1 ğ‘‡ğ‘1
ğ‘‹ = ğ‘‹
ğ‘1 ğ‘1
ğ‘1 ğµğ‘1 ğµğ‘1
ğ‘1 ğ‘1
ğ‘ ğ‘ ğ‘
1 1 1
Weconsideranewallocationbyexchangingthetwotophalvesasfollows:
ğ‘‡ğ‘1 ğ‘‡ğ‘1
ğ‘‹â€² = ğ‘‹ ğ‘1 ğ‘1
ğ‘1 ğµğ‘1 ğµğ‘1
ğ‘1 ğ‘1
ğ‘ ğ‘ ğ‘
1 1 1
FromProposition3,weknowthatğ‘‡ ğ‘ğ‘ 11 > ğ‘1 ğ‘‡ ğ‘ğ‘ 11 andğ‘‡ ğ‘ğ‘ 11 > ğ‘1 ğ‘‡ ğ‘ğ‘ 11. Therefore,bothagentsğ‘ 1 and
ğ‘ arestrictlybetteroff. Now,considerthepotentialstrongenviesinğ‘‹â€². Sincetheallocationğ‘‹ was
1
EFX,anystrongenviesinğ‘‹â€² mustbetowardsğ‘
1
orğ‘ 1. Asğ‘‡ ğ‘ğ‘ 11 >
ğ‘1
ğ‘‡ ğ‘ğ‘ 11,weknowthat
ğ‘‹â€² = ğ‘‡ğ‘1 âˆªğµğ‘1 > ğ‘‡ğ‘1 âˆªğµğ‘1 = ğ‘‹ > ğ‘‡ğ‘1 âˆªğµğ‘1 = ğ‘‹ > ğ‘‡ğ‘1 âˆªğµğ‘1 = ğ‘‹â€²
ğ‘1 ğ‘1 ğ‘1 ğ‘1 ğ‘1 ğ‘1 ğ‘1 ğ‘1 ğ‘1 ğ‘1 ğ‘1 ğ‘1
Therefore,noagentfromgroupC enviesagentğ‘ . Similarly,noonefromB enviesagentğ‘ . So,
1 1
theonlypossiblestrongenviesarefromagentsinA toeither2or3. Weknowthatifanyagentin
9A enviessomeagentğ‘* âˆˆ ğ’©,thenğ‘ alsoenviesğ‘*. Sinceagentğ‘ enviedneitherğ‘ norğ‘ inthe
1 1 1 1
allocationğ‘‹,agentğ‘ canenvyatmostoneagentamongğ‘ andğ‘ inğ‘‹â€². Withoutlossofgenerality,
1 1 1
assumethatagentğ‘ stronglyenviesagentğ‘ . Then,wereplaceğµğ‘1 inagentğ‘ â€™sbundlewithğ‘” to
1 1 ğ‘1 1
getthefollowingallocation:
ğ‘‡ğ‘1 ğ‘‡ğ‘1
ğ‘Œ = ğ‘‹
ğ‘1 ğ‘1
1 ğ‘” ğµğ‘1
ğ‘1
ğ‘ ğ‘ ğ‘
1 1 1
As ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘” is a minimally envied subset, no agent strongly envies ğ‘ 1. Since ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘” >
ğ‘1
ğ‘‹ ğ‘1,
shedoesnotenvyagentğ‘ . Furthermore,sinceagentğ‘ didnotselfğ‘”-championinğ‘‹,noagentin
1 1
C envyagentğ‘ . Finally,ifanyagentfromCâˆ–ğ‘ stronglyenviesğ‘ ,wereplaceğ‘ â€™sbundlewith
1 1 1 1
MESC(ğ‘Œ ğ‘1,ğ‘‹ ğ‘2),whichisstillbetterthanğ‘‹
ğ‘1
foragentğ‘ 1. Therefore,ğ‘Œ isanEFXallocationsuch
thatğ‘Œ(ğ¿) â‰» ğ‘‹(ğ¿)andğ‘Œ(ğ’© âˆ–ğ¿) = ğ‘‹(ğ’© âˆ–ğ¿).
3 Three sources in ğ¸
ğ‘‹
Astheleadingagentsholdtheminimumvaluedbundleintheirrespectivegroups,theyenvyall
theagentsfromtheirowngroupandareneverenviedbyanyoneintheirowngroup. Weconsider
thecasewhennoleadingagentisenviedbyanyone. Thatis,ğ‘ ,ğ‘ andğ‘ arethesourcesinğ¸ .
1 1 1 ğ‘‹
Lemma6. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifthesetofleadingagents
ğ¿ = {ğ‘ ,ğ‘ ,ğ‘ } are sources in the envy graph ğ¸ , then there exists an allocation ğ‘Œ such that ğ‘Œ â‰» ğ‘‹.
1 1 1 ğ‘‹
Furthermore,ğ‘Œ(ğ¿) â‰» ğ‘‹(ğ¿)andğ‘Œ(ğ’© âˆ–ğ¿) = ğ‘‹(ğ’© âˆ–ğ¿).
Proofoverview: Inthiscase,weonlyupdatethebundlesoftheleadingagents,whiletheremain-
ingagentsretaintheiroldbundles. Aftertheupdate,eachleadingagentpreferstheirnewbundle
overtheiroldones. Additionally,theleadingagentsdonotenvythenewbundlesofotherleading
agents,evenwhencomparedtotheirownoldbundles. Thus,thenon-leadingagentsinagroup
(whokeeptheiroldbundles)donotstronglyenvyanyagentinothergroups. Asaresult,theonly
strongenviesthatremainarewithinthegroups,whichareresolvedusingLemma4. Therefore,the
newallocationweobtainisanEFXallocation. Furthermore,thenewbundlessatisfyğ‘Œ(ğ¿) â‰» ğ‘‹(ğ¿)
andğ‘Œ(ğ’© âˆ–ğ¿) = ğ‘‹(ğ’© âˆ–ğ¿).
Proof. FromProposition4,weknowthattheğ‘”-championgraphğ‘€ mustcontainacycleoflength
ğ‘‹
atmostthree,involvingagentsğ‘ ,ğ‘ ,andğ‘ . Ifanyoftheleadingagentsselfğ‘”-champions,using
1 1 1
Corollary1,wegetaPareto-dominatingEFXallocationğ‘Œ. Iftheğ‘”-championcycleisoflength2,
thenbyapplyingLemma5,wegetourdesiredallocation. Therefore,assumethatğ‘€ hasacycleof
ğ‘‹
length3. Withoutlossofgenerality,assumethat(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )and(ğ‘ ,ğ‘ )areğ‘”-championedges
1 1 1 1 1 1
inğ‘€ asshowninFigure2. Sincetheseagentsdonotenvyeachother,theğ‘”-championedgesbreak
ğ‘‹
thebundleintotopandbottomhalvesasshownbelow.
ğ‘‡ğ‘1 ğ‘‡ğ‘1 ğ‘‡ğ‘1
ğ‘‹(ğ¿) =
ğ‘1 ğ‘1 ğ‘1
ğµğ‘1 ğµğ‘1 ğµğ‘1
ğ‘1 ğ‘1 ğ‘1
ğ‘ ğ‘ ğ‘
1 1 1
10Foreaseofnotation,wewillcallğ‘‡ ğ‘ğ‘ 11,ğ‘‡ ğ‘ğ‘ 11,andğ‘‡ ğ‘ğ‘ 11 asğ‘‡ ğ‘,ğ‘‡
ğ‘
andğ‘‡ ğ‘. Similarly,wecallthebottom
halves as ğµ ,ğµ and ğµ . We now make the following observations regarding the relationships
ğ‘ ğ‘ ğ‘
amongthesepartsofthebundles.
Firstly,agentğ‘ championsğ‘ ,butdoesnotselfğ‘”-champion. Therefore,ğ‘‡ âˆªğ‘” > ğ‘‡ âˆªğ‘” =â‡’
1 1 ğ‘ ğ‘ ğ‘
ğ‘‡ > ğ‘‡ . Similarly,asğ‘ doesnotğ‘”-championğ‘ ,wehaveğ‘‡ âˆªğ‘” > ğ‘‡ âˆªğ‘” =â‡’ ğ‘‡ > ğ‘‡ .
ğ‘ ğ‘ ğ‘ 1 1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
Asğ‘‡ > ğ‘‡ ,wehaveğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ = ğ‘‹ . Asğ‘ doesnotenvyğ‘ ,weknowthatğ‘‹ =
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘1 1 1 ğ‘1
ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Bycombiningthesetwoinequalitieswegetğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ =â‡’ ğµ > ğµ .
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
Asğ‘ doesnotselfğ‘”-champion,wehaveğ‘‡ âˆªğµ > ğ‘‡ âˆªğ‘” =â‡’ ğµ > ğ‘”. Asğ‘ ğ‘”-champions
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
ğ‘ butdoesnotenvyğ‘ ,wehaveğ‘‡ âˆªğ‘” > ğ‘‡ âˆªğµ =â‡’ ğ‘” > ğµ .
1 1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
Analogousobservationscanbemadeforagentsğ‘ andğ‘ . Thefollowingtablesummarizesthe
1 1
aboveobservationsforallthreeleadingagents:
Agent Observations
ğ‘ : ğ‘‡ > ğ‘‡ ; ğ‘‡ > ğ‘‡ ; ğµ > ğ‘” > ğµ (1)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ : ğ‘‡ > ğ‘‡ ; ğ‘‡ > ğ‘‡ ; ğµ > ğ‘” > ğµ (2)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ : ğ‘‡ > ğ‘‡ ; ğ‘‡ > ğ‘‡ ; ğµ > ğ‘” > ğµ (3)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
Furthermore,asğ‘ doesnotenvyğ‘ ,wehaveğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Therefore,ifğµ < ğµ ,then
1 1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
itmustbethecasethatğ‘‡ > ğ‘‡ . CombiningwithCondition1,ifğµ < ğµ ,thenğ‘‡ > ğ‘‡ > ğ‘‡
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
andğµ > ğµ > ğ‘” > ğµ . Analogousobservationscanbemadeforagentsğ‘ andğ‘ .
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1 1
We have three predicates: ğµ < ğµ ,ğµ < ğµ , and ğµ < ğµ . We have the following four
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
possibilitiesbasedofhowmanyofthesepredicatesholdtrue.
Case1 All the predicates hold: That is, ğµ < ğµ ,ğµ < ğµ , and ğµ < ğµ . We then have the
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
followingupdatedinequalities:
Agent Observations
ğ‘ : ğ‘‡ > ğ‘‡ > ğ‘‡ and ğµ > ğµ > ğ‘” > ğµ (4)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ : ğ‘‡ > ğ‘‡ > ğ‘‡ and ğµ > ğµ > ğ‘” > ğµ (5)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ : ğ‘‡ > ğ‘‡ > ğ‘‡ and ğµ > ğµ > ğ‘” > ğµ (6)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
We allocate ğ‘‡ âˆªğµ to agent ğ‘ , ğ‘‡ âˆªğµ to agent ğ‘ , and ğ‘‡ âˆªğµ to agent ğ‘ . These bundles
ğ‘ ğ‘ 1 ğ‘ ğ‘ 1 ğ‘ ğ‘ 1
correspondtothemostpreferredtopandbottomhalvesforeachagent(refertoConditions4,5,
and6). Therefore,allthreeagentsstrictlyimprove. Furthermore,accordingtoagentğ‘ ,wehave
1
ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ = ğ‘‹ > ğ‘‡ âˆªğµ = ğ‘Œ . Thatis,ğ‘ doesnotenvyğ‘ evenwithrespecttoher
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘1 ğ‘ ğ‘ ğ‘ ğ‘1 1 1
oldbundleğ‘‹ . Therefore,noagentinA envyğ‘ . Similarly,wehaveğ‘‹ > ğ‘‡ âˆªğµ = ğ‘Œ . Thatis,
ğ‘1 1 ğ‘1 ğ‘ ğ‘ ğ‘ ğ‘1
noagentfromA enviesğ‘ . SimilarlywecanshowthatnoagentsfromeitherB orğ¶ envyanyof
1
ğ‘ ,ğ‘ orğ‘ . Ifanystrongenvyremains,itmustbeconfinedtoagentswithintheirrespectivegroups.
1 1 1
Hence,weapplyLemma4toresolvetheseenvies.
Case2 None of the three predicates holds: Thus ğµ > ğµ , ğµ > ğµ , and ğµ > ğµ . We then
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
cyclicallyshiftthetophalvesofthesethreebundles,allocatingğ‘‡ âˆªğµ toagentğ‘ ,ğ‘‡ âˆªğµ toagent
ğ‘ ğ‘ 1 ğ‘ ğ‘
ğ‘ ,andğ‘‡ âˆªğµ toagentğ‘ . Sinceğ‘‡ > ğ‘‡ andğ‘‡ > ğ‘‡ ,agentğ‘ strictlyimprovesanddoesnot
1 ğ‘ ğ‘ 1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
11envyeitherğ‘ orğ‘ astheyreceivedlesspreferredtophalvesaccordingtoğ‘ . Similarly, bothğ‘
1 1 1 1
andğ‘ alsoexperienceimprovementsanddonotenvyanyagentsfrom{ğ‘ ,ğ‘ ,ğ‘ }. Furthermore,
1 1 1 1
byapplyingtheinequalities1,2,and3wehaveğ‘‡ > ğ‘‡ whichimpliesğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ = ğ‘Œ .
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘1
Alongwiththefactthatğ‘ didnotpreviouslyenvyğ‘ ,wehaveğ‘‹ > ğ‘‹ > ğ‘Œ . Thereforeagent
1 1 ğ‘1 ğ‘ ğ‘1 ğ‘ ğ‘1
ğ‘ doesnotenvyğ‘ evenwithrespecttoheroldbundleğ‘‹ . Therefore,noagentinA envyğ‘ . In
1 1 ğ‘1 1
ananalogouswaywecanshowthatnoneoftheagentsenvyanyofğ‘ ,ğ‘ orğ‘ . Ifanystrongenvy
1 1 1
remains,itmustbeconfinedtoagentswithintheirrespectivegroups. Hence,weapplyLemma4to
resolvetheseenvies.
Case3 Oneofthethreepredicatesholds: Withoutlossofgenerality,assumeğµ < ğµ ,ğµ > ğµ ,
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
andğµ > ğµ .
ğ‘ ğ‘ ğ‘
Wethenhave:
Agent Observations
ğ‘ : ğ‘‡ > ğ‘‡ > ğ‘‡ and ğµ > ğµ > ğ‘” > ğµ (4)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ : ğ‘‡ > ğ‘‡ ; ğ‘‡ > ğ‘‡ ; ğµ > ğ‘” > ğµ (2)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ : ğ‘‡ > ğ‘‡ ; ğ‘‡ > ğ‘‡ ; ğµ > ğ‘” > ğµ (3)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
Weallocatethebundlesas: ğ‘‡ âˆªğµ toagentğ‘ ,ğ‘‡ âˆªğ‘” toğ‘ andğ‘‡ âˆªğµ toagentğ‘ .
ğ‘ ğ‘ 1 ğ‘ 1 ğ‘ ğ‘ 1
Firstly, for agent ğ‘ , we have ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ and ğ‘‡ âˆªğµ > ğ‘‡ âˆªğ‘”. Therefore, agent ğ‘
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
strictlyimprovesanddoesnotenvyğ‘ evenwithrespecttoheroldbundle. ThusnoagentinA
1
envyğ‘ . Furthermore,sinceğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ ,neitheragentğ‘ noranyotheragent
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
fromA enviesğ‘ .
1
Secondly,asğ‘‡ âˆªğ‘” istheMESbundle,agentğ‘ strictlyimproves,i.e.,ğ‘‡ âˆªğ‘” > ğ‘‡ âˆªğµ . Given
ğ‘ 1 ğ‘ ğ‘ ğ‘ ğ‘
thecaseassumptionğµ > ğµ ,wehaveğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Thus,noneoftheagentsfromB envy
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ . As ğ‘ did not ğ‘”-champion ğ‘ , we have ğ‘‡ âˆªğµ > ğ‘‡ âˆªğ‘”. From Condition 2, we know that
1 1 1 ğ‘ ğ‘ ğ‘ ğ‘
ğ‘‡ âˆªğ‘” > ğ‘‡ âˆªğµ . Therefore,asğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ ,noagentinB enviesğ‘ .
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
Finally,Asğ‘‡ > ğ‘‡ ,agentğ‘ alsohasstrictimprovement. Thatis,ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Because
ğ‘ ğ‘ ğ‘ 1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ofthecaseassumptionğµ > ğµ ,wehaveğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . AsnoagentinC previouslyenvied
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘‹ = ğ‘‡ âˆªğµ , no agent in C envies ğ‘ in ğ‘Œ. As ğ‘ or any other agent in C did not previously
ğ‘1 ğ‘ ğ‘ 1 1
ğ‘”-championğ‘ ,theydonotenvyğ‘ whohasthebundleğ‘‡ âˆªğ‘”.
1 1 ğ‘
Therefore, if any strong envy remains, it must be confined to agents within their respective
groups. Hence,weapplyLemma4toresolvetheseenvies.
Case4 Twooutofthethreepredicatesholdtrue: Withoutlossofgenerality,assumeğµ < ğµ ,
ğ‘ ğ‘ ğ‘
ğµ < ğµ ,andğµ > ğµ . Wehavethefollowingobservations:
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
Agent Observations
ğ‘ : ğ‘‡ > ğ‘‡ > ğ‘‡ and ğµ > ğµ > ğ‘” > ğµ (4)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ : ğ‘‡ > ğ‘‡ > ğ‘‡ and ğµ > ğµ > ğ‘” > ğµ (5)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
Case4.1 T > T : Now,alongwiththeabovetwoobservations,wehave
c c a
ğ‘ : ğ‘‡ > ğ‘‡ > ğ‘‡ and ğµ > ğ‘” > ğµ and ğµ > ğµ (6)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
12Weallocateğ‘‡ âˆªğµ toğ‘ ,ğ‘‡ âˆªğµ toğ‘ andğ‘‡ âˆªğ‘” toagentğ‘ .
ğ‘ ğ‘ 1 ğ‘ ğ‘ 1 ğ‘ 1
Foragentsğ‘ andğ‘ ,itisclearfromConditions4and5thattheyhavereceivedstrictimprove-
1 1
mentswithrespecttotheirpreviousbundlesandthattheydonotenvyanyonein{ğ‘ ,ğ‘ ,ğ‘ }inthe
1 1 1
newallocation. Furthermore,from4weseethatğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ = ğ‘Œ andğ‘‡ âˆªğµ > ğ‘‡ âˆªğ‘” = ğ‘Œ .
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘1
Therefore,noagentfromA envieseitherğ‘ orğ‘ . Similarly,using5wecanshowthatagentsinB
1 1
envyneitherğ‘ norğ‘ .
1 1
Foragentğ‘ ,weknowthatğ‘‡ âˆªğ‘” > ğ‘‡ âˆªğµ asğ‘ ğ‘”-championedğ‘ . ByapplyingCondition6,
1 ğ‘ ğ‘ ğ‘ ğ‘ 1 1
we get ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ and ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Therefore, agent ğ‘ (or any other agent in C )
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
enviesneitherğ‘ norğ‘ . Therefore,anyremainingstrongenvymustberestrictedtoagentswithin
1 1
theirrespectivegroups. Consequently,weapplyLemma4toresolvetheseenvies.
Case4.2 T < T : Therefore,insteadofCondition6,wehavethefollowingobservation:
c c a
ğ‘ : ğ‘‡ > ğ‘‡ > ğ‘‡ andğµ > ğ‘” > ğµ andğµ > ğµ (7)
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
In this case, we would like to allocate ğ‘‡ âˆª ğµ to ğ‘ , ğ‘‡ âˆª ğµ to ğ‘ and ğ‘‡ âˆª ğµ to agent ğ‘ .
ğ‘ ğ‘ 1 ğ‘ ğ‘ 1 ğ‘ ğ‘ 1
However,inthisallocationagentğ‘ enviesagentğ‘ ,andthisenvycouldpotentiallybeastrong
1 1
envy. Therefore,weconsidertheMESbundleğ‘† = MES (ğ‘‡ âˆªğµ ,ğ‘‹ ). Basedonwhetherornot
ğ‘ ğ‘ ğ‘ ğ‘1
agentğ‘ prefersğ‘† overğ‘‹ ,wehavethefollowingtwosub-cases:
1 ğ‘1
Case4.2(a) S > X : Then,weallocatethebundlesasfollows. Agentğ‘ getsğ‘‡ âˆªğµ ,ğ‘ retains
c c1 1 ğ‘ ğ‘ 1
ğ‘‡ âˆªğµ andğ‘ getsğ‘†. FromCondition4wehaveğ‘‡ âˆªğµ > ğ‘‡ âˆªB andfromthiscaseassumtion
ğ‘ ğ‘ 1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
we know that ğ‘† > ğ‘‹ . Therefore agents ğ‘ and ğ‘ receive strict improvements while agent ğ‘
ğ‘ ğ‘1 1 1 1
retainsheroldbundle.
We know that ğ‘‹ > ğ‘‹ = ğ‘Œ Therefore, not agent from A envies ğ‘ . Furthermore, as
ğ‘1 ğ‘ ğ‘1 ğ‘1 1
ğµ > ğµ (Condition4),wegetğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ > ğ‘†. Thus,noagentfromA enviesğ‘ .
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
Thebundleğ‘† isanMESbundleofagentğ‘ . Therefore,agentğ‘ (oranyotheragentinB )does
1 1
notstronglyenvyğ‘ . FromCondition5,wehaveğ‘‡ > ğ‘‡ . Therefore,ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Sinceğ‘
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
didnotpreviouslyenvyğ‘ ,wealsohaveğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Bycombiningthesetwoinequalities,
1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
wegetğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Hence,ğ‘ (andthereforenooneelsefromB )doesnotenvyğ‘ .
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1 1
We know that ğ‘† > ğ‘‹ = ğ‘‡ âˆªğµ . From Case 4 assumption we have ğµ > ğµ . Therefore,
ğ‘ ğ‘1 ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘† > ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Therefore,noneoftheagentsinC envyğ‘ . Asğ‘ oranyotheragentinC
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1 1
didnotpreviouslyenvyğ‘ ,theydonotenvyğ‘ now.
1 1
Therefore,anyremainingstrongenvymustberestrictedtoagentswithintheirrespectivegroups.
Consequently,weapplyLemma4toresolvetheseenvies.
Case4.2(b) S < X : Then,weallocatethebundlesasfollows: Agentğ‘ getsğ‘‡ âˆªğµ ,ğ‘ getsğ‘†
c c1 1 ğ‘ ğ‘ 1
andğ‘ getsherMESbundleğ‘‡ âˆªğ‘”.
1 ğ‘
AccordingtoagentsinA : ApplyingCondition4,ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ > ğ‘†. Therefore,
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘
ğ‘ â€™sbundlestrictlyimprovedandğ‘ doesnotenvyğ‘ evenwithrespecttoheroldbundle. Thusno
1 1 1
agentinA envyğ‘ . Sinceğ‘ oranyoneelsefromA didnotpreviouslyğ‘”-championğ‘ ,Theydonot
1 1 1
envyğ‘ whohasthebundleğ‘‡ âˆªğ‘”.
1 ğ‘
AccordingtoagentsinB : Asğ‘† isğ‘ â€™sMESbundle,ğ‘ receivedastrictlybetterbundle. From
1 1
Condition5,weknowthatğ‘‡ > ğ‘‡ ,therefore,ğ‘† > ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Thatis,ğ‘ doesnotenvy
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
13ğ‘ ,evenwithrespecttoheroldbundle. Thus,noagentinB envyğ‘ . Sinceğ‘ didnotpreviously
1 1 1
selfğ‘”-champion,andnoneoftheagentsinBğ‘”-championedğ‘ ,theydonotenvyğ‘‡ âˆªğ‘” ofagentğ‘ .
1 ğ‘ 1
According to agents in C : ğ‘‡ âˆªğ‘” is an MES bundle of agent ğ‘ . Therefore, ğ‘ received strict
ğ‘ 1 1
improvement. UsingCondition7,weknowğµ > ğµ . Therefore,ğ‘‡ âˆªğµ > ğ‘‡ âˆªğµ . Thatis,ğ‘
ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ ğ‘ 1
does not envyğ‘ , even with respect to herold bundle. Thus no agent inC envies ğ‘ . Fromthe
1 1
currentcaseassumption,thatisğ‘† < ğ‘‹ ,weknowthatnoagentinC enviesğ‘ .
ğ‘ ğ‘1 1
Therefore,thecurrentallocationParetodominatesğ‘‹ andanystrongenvythatremainsmust
berestrictedtoagentswithintheirrespectivegroups. Thus,weapplyLemma4toresolvethese
envies.
Corollary4. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifthesetofleading
agents ğ¿ = {ğ‘ ,ğ‘ ,ğ‘ } are all the sources in the envy graph ğ¸ , then there exists an EFX allocation ğ‘Œ,
1 1 1 ğ‘‹
possiblypartial,suchthatatleastoneofthefollowingholds:
1. ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹)
2. ğ‘Œ â‰» ğ‘‹ andğ‘ isasourceinğ¸ andâˆ€ğ›¼ âˆˆ (BâˆªC)âˆ–ğ¿if(ğ‘ ,ğ›¼)isanedgeinğ¸ then(ğ‘ ,ğ›¼)isan
1 ğ‘Œ 1 ğ‘‹ 1
edgeinğ¸ .
ğ‘Œ
Proof. GivenapartialEFXallocationğ‘‹ withthreesources,weapplyLemma6togetanallocation
ğ‘Œ suchthatğ‘Œ(ğ¿) â‰» ğ‘‹(ğ¿)andğ‘Œ(ğ’© âˆ–ğ¿) = ğ‘‹(ğ’© âˆ–ğ¿). Ifagentğ‘ hasstrictlyimprovedinğ‘Œ,then
1
condition1issatisfied.
Otherwise, agent ğ‘ must have retained the same bundle in ğ‘Œ as in ğ‘‹. As no agent envied
1
ğ‘ inğ‘‹ whohadthesamebundleasinğ‘Œ, theycontinuetonotenvyğ‘ inğ‘Œ asğ‘Œ âˆ–ğ‘ â‰» ğ‘‹ âˆ–ğ‘ .
1 1 1 1
Thereforeğ‘ isasourceinğ‘Œ. Additionally,ifagentğ‘ enviedsomeagentin(BâˆªC)âˆ–ğ¿inğ‘‹,then
1 1
ğ‘ continuestoenvythesameagentinğ‘Œ asğ‘Œ(ğ’© âˆ–ğ¿) = ğ‘‹(ğ’© âˆ–ğ¿).
1
4 agent ğ‘ envies someone in B âˆª C
1
Inthissectionweconsiderthecasewhenagentğ‘ isasourceandenviessomeagentfromBâˆªC .
1
Ifğ‘ envieseitherğ‘ orğ‘ ,wehavethefollowinglemma.
1 1 1
Lemma7. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifğ‘ isasourceinğ¸
1 ğ‘‹
andğ‘ envieseitherğ‘ orğ‘ ,thenthereexistsanEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
1 1 1
Proof. Without loss of generality, assume that ğ‘ envies ğ‘ . If ğ‘ is the only source in ğ¸ , we
1 1 1 ğ‘‹
immediately getour desiredallocation ğ‘Œ by applyingCorollary 2. Theremainingcase is when
there are two sources in ğ¸ . Thus, ğ‘ is also a source in ğ¸ . Given that some agent must ğ‘”-
ğ‘‹ 1 ğ‘‹
championğ‘ ,wefirstconsiderthecasewhereğ‘ selfğ‘”-champions. Inthiscase,wecanimprove
1 1
ğ‘ 1â€™sbundlebyreplacingğ‘‹ ğ‘1 withtheMESbundleğ‘‡ ğ‘ğ‘ 11 âˆªğ‘”. Wegetğ‘Œ,ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
If,however,ğ‘ ğ‘”-championsğ‘ ,thenâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©isağœ‘-improvingexchange,thusweare
1 1 1 1 1 1
done. Theonlyremainingpossibilityisthatğ‘ ğ‘”-championsğ‘ . Wenowconsidercasesbasedon
1 1
whoğ‘”-championsğ‘ .
1
Case1 Agentğ‘ ğ‘”-championsğ‘ : Thenğ‘ andğ‘ formağ‘”-championcycle. Notethatnoneofthe
1 1 1 1
leadingagentsenvyğ‘ orğ‘ astheyarebothsources. Inthiscase,wecanapplyLemma5toobtain
1 1
anallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
14Case2 Agent ğ‘ self ğ‘”-champions: We compute a new Pareto-dominating EFX allocation by
1
replacing ğ‘‹ ğ‘1 with the MES bundle ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘”. In this new allocation, ğ‘ 1 continues to be a source
and still envies ğ‘ . We start again by applying Lemma 7 to this new allocation ğ‘Œ. Since Pareto
1
dominanceisapartialorderandtherearefinitelymanypartialEFXallocations,thisproceduremust
terminatewithanallocationğ‘ suchthateitherğ‘ isacompleteEFXallocation,orğœ‘(ğ‘) > ğœ‘(ğ‘‹).
Case3 Agentğ‘ ğ‘”-championsğ‘ : Seefigurebelowforanillustrationofthiscase.
1 1
ğ‘”
ğ‘ 1 ğ‘ 1 ğ‘ 1
ğ‘”
Weconsideranewallocationbyexchangingthetophalvesasfollows:
ğ‘‡ğ‘1 ğ‘‡ğ‘1
ğ‘1 ğ‘1
ğ‘Œ = ğ‘‹
ğ‘1 ğ‘” ğµğ‘1
ğ‘1
ğ‘ ğ‘ ğ‘
1 1 1
Observethatthebundlesofallthethreeagentsğ‘ ,ğ‘ ,andğ‘ havestrictlyimprovedandtherefore
1 1 1
ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹). WenowcheckifthenewallocationisindeedEFX.Iftherearenostrongenviesin
ğ‘Œ,wearedone. So,considerthecasewhenthereisatleastonestrongenvyinğ‘Œ. Observerthat
ifthereareanystrongenviesinğ‘Œ, theymustbetowardseitherğ‘ orğ‘ orğ‘ . Weknowthatno
1 1 1
agentstronglyenviesğ‘ orğ‘ asğ‘ receivedanoldbundlefromğ‘‹ andğ‘Œ wasanMESbundlein
1 1 1 ğ‘1
ğ‘‹. Furthermore,agentğ‘ 1 doesnotenvyğ‘ 1. Thisisbecause,fromProposition3wehaveğ‘‡ ğ‘ğ‘ 11 > ğ‘ ğ‘‡ ğ‘ğ‘ 11.
Therefore,ğ‘‹ ğ‘1 = ğ‘‡ ğ‘ğ‘ 11âˆªğµ ğ‘ğ‘ 11 > ğ‘ ğ‘‡ ğ‘ğ‘ 11âˆªğµ ğ‘ğ‘ 11. Sinceğ‘ 1didnotenvyğ‘‹ ğ‘1 inğ‘‹,shedoesnotenvyğ‘‡ ğ‘ğ‘ 11âˆªğµ ğ‘ğ‘ 11
in ğ‘Œ. Thus, the only possible strong envy is from agent ğ‘ or other agents in A , towards ğ‘ . We
1 1
knowthatğ‘ doesnotenvyeitherğ‘ orğ‘ . However,ğ‘ mightenvyoneoftheotheragents. We
1 1 1 1
considerthefollowingcasesbasedonpossibleenviesfromagentğ‘ intheallocationğ‘Œ.
1
Case3.1 Agentğ‘ enviessomeğ‘ âˆˆ Aâˆ–{ğ‘ }: Then,weexchangethebundlesofagentsğ‘ andğ‘ .
1 ğ‘– 1 ğ‘– 1
Notethattheremaynotbeenvyfromğ‘ toğ‘ ,Butsinceğ‘ enviesğ‘ ,thebundleofğ‘ isbetterthan
ğ‘– 1 1 1 1
bundleofğ‘ accordingtoğ‘£ . Now,allthestrongenviesarewithinthegroups. Therefore,weapply
1 ğ‘
Lemma3toresolvesuchenviesandobtainanewEFXallocationğ‘ suchthatğœ‘(ğ‘) = ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Case3.2 Agentğ‘ enviessomeğ‘ âˆˆ Bâˆ–{ğ‘ }: Inthiscase,wereallocateasfollows: assignğ‘Œ toğ‘ ,
1 ğ‘— 1 ğ‘ğ‘— 1
ğ‘Œ toğ‘ ,andğ‘Œ (whichissameasğ‘‹ )backtoğ‘ . Asğ‘ receivedabundlewhichwasstrongly
ğ‘1 1 ğ‘1 ğ‘1 1 1
enviedbysomeagentinA ,ğ‘ â€™snewbundleisstrictlybetterthanğ‘‹ . Sinceğ‘ receivedthebundle
1 ğ‘1 1
thatsheenvied,shealsoseesastrictimprovement.
However, the value of ğ‘ â€™s bundle decreases. Recall that in the previous allocation ğ‘‹, we
1
establishedthatğ‘‹
ğ‘1
>
ğ‘
ğ‘‡ ğ‘ğ‘ 11âˆªğµ ğ‘ğ‘ 11,thereforeğ‘ 1doesnotenvyğ‘ 1. Furthermore,sinceğ‘Œ
ğ‘1
wasanMES
bundlerelativetoğ‘‹ ,agentğ‘ doesnotstronglyenvyğ‘ . Atthispoint,allremainingstrongenvies
ğ‘1 1 1
areconfinedwithinthegroups. Therefore,weapplyLemma4toresolvetheseenvies,yieldinga
newEFXallocationğ‘ suchthatğœ‘(ğ‘) = ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Case3.3 Agentğ‘ doesnotenvyanyonefromAâˆªB: Letğ‘† âŠ† ğ‘Œ denotethesmallestsubsetof
1 ğ‘1
ğ‘Œ suchthat,accordingtoğ‘ â€™svaluation,ğ‘† ispreferredoverthebundlesofallagentsinAâˆªB . If
ğ‘1 1
15ğ‘ doesnotstronglyenvyğ‘†,thenweallocateğ‘† toğ‘ andresolveanyinternalstrongenvies. This
1 1
givesusthedesiredEFXallocationwhichğœ‘-dominatesthepreviousone.
Supposeğ‘ stronglyenviesğ‘ evenwiththebundleğ‘†. Then,letğ‘†â€² âŠ‚ ğ‘† beasmallestcardinality
1 1
subset of ğ‘† that ğ‘ weakly envies. Let ğ‘‡ = max {ğ‘‹ | ğ‘ âˆˆ AâˆªB} be the best bundle among the
1 ğ‘ ğ‘
agentsinAâˆªB accordingtoagentğ‘ . ğ‘‡ caneitherbeabundlefromoneoftheagentsinA orfrom
1
B
.
Case3.3.1 T = Y forsomea âˆˆ A: Thenallocateğ‘‡ toğ‘ andğ‘†â€² toğ‘ . Wethenresolveinternal
a i i 1 ğ‘–
strong envies within the groups using Lemma 3, yielding a new EFX allocation ğ‘ such that
ğœ‘(ğ‘) = ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Case3.3.2 T = Y for some b âˆˆ B In this case, we ask agent ğ‘ to select her most preferred
b j ğ‘—
j
bundlefromtheagentsinA ,sayfromagentğ‘ . Wethenallocateğ‘Œ toğ‘ ,ğ‘Œ toğ‘ ,andğ‘†â€² toagent
ğ‘– ğ‘ğ‘– ğ‘— ğ‘ğ‘— 1
ğ‘ . Weknowthatagentğ‘ doesnotstronglyenvyanyagentfromAâˆªC . Thus,weswapthebundles
ğ‘– 1
ofğ‘ andğ‘ ,sothatnowagentğ‘ doesnotstronglyenvyanyonefromAâˆªC . Consequently,any
ğ‘— 1 ğ‘—
strongenvytowardsagentsinAâˆªC ,ifitexists,mustnowcomefromagentğ‘ .
1
In this allocation, agent ğ‘ does not envy any agent from AâˆªB because she chose her most
1
preferredbundle. Agentğ‘ â€™spriorstrongenvytowardsğ‘ isnowresolved. Additionally,agentğ‘
1 1 1
doesnotstronglyenvyğ‘ ,asshedidnotstronglyenvyğ‘ earlier. Therefore,ğ‘ doesnotstrongly
1 ğ‘– 1
envyanyagentfromBâˆªC
.
Finally, agent ğ‘ does not envy any agent in Aâˆ–{ğ‘ }, as ğ‘ (who has the same valuation as
1 ğ‘– ğ‘—
ğ‘ ) selected the best bundle from A . The bundle ğ‘Œ , which ğ‘ picked, is at least as valuable as
1 ğ‘ğ‘– ğ‘—
ğ‘Œ = ğ‘‹ . Moreover,recallthatwithbundleğ‘‹ ,agentğ‘ didnotstronglyenvyğ‘ oranyagentin
ğ‘1 ğ‘1 ğ‘1 1 ğ‘—
C inallocationğ‘‹. Therefore,inthenewallocation,withabundleatleastasvaluableasğ‘‹ ,agent
ğ‘1
ğ‘ 1 doesnotstronglyenvyanyagentinC . Additionally,weknowthatğ‘‹ ğ‘1 > ğ‘ ğ‘‡ ğ‘ğ‘ 11 âˆªğµ ğ‘ğ‘ 11 > ğ‘ ğ‘†â€²,so
agentğ‘ doesnotstronglyenvyğ‘ .
1 ğ‘–
Based on the above observations, agent ğ‘ does not strongly envy any agent from B âˆª A .
1
Therefore, we apply Corollary 3 to resolve any internal strong envies, resulting in a new EFX
allocationğ‘ suchthatğœ‘(ğ‘) = ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Lemma8. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifagentğ‘ isasourcein
1
ğ¸ andifğ‘ enviessomeagentfromBâˆªC,thenthereexistsanEFXallocationğ‘Œ suchğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
ğ‘‹ 1
Proof. Agentğ‘ enviessomeagentinBâˆªC . Ifğ‘ envieseitherğ‘ orğ‘ ,wecanapplyLemma7to
1 1 1 1
getanallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹). Thus,fortheremainderofthisproof,weconsiderthe
casewhereagentğ‘ enviessomeagentin(BâˆªC)âˆ–{ğ‘ ,ğ‘ }.
1 1 1
Wenowconsidervariouscasesbasedonthenumberofsourcesintheenvygraphğ¸ .
ğ‘‹
Case1 ğ¸ hasthreesources: FromProposition4,weknowthatnoneotherthanleadingagents
ğ‘‹
ğ¿ = {ğ‘ ,ğ‘ ,ğ‘ }arethesourcesinğ¸ . WeapplyCorollary4togetanallocationğ‘Œ. Ifğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹),
1 1 1 ğ‘‹
wearedone. Otherwise,becauseofCondition2ofCorollary4,weknowthatğ‘Œ â‰» ğ‘‹ andğ‘Œ satisfies
theconditionsrequiredtoapplyLemma8. So,weapplyLemma8onğ‘Œ. SinceParetodominanceis
apartialorderandtherearefinitelymanypartialEFXallocations,thisproceduremustterminate
withanallocationğ‘ suchthateitherğ‘ isacompleteEFXallocationorğœ‘(ğ‘) > ğœ‘(ğ‘‹).
Case2 Agentğ‘ isasinglesourceinğ¸ : ThenbyapplyingLemma2,wegetanallocationğ‘Œ such
1 ğ‘‹
thatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
16Case3 ğ¸ has two sources: Without loss of generality, assume that ğ‘ envies some agent ğ‘ âˆˆ
ğ‘‹ 1 ğ‘–
Bâˆ–{ğ‘ }. Furthermore,w.l.o.gassumethattherearenoselfğ‘”-champions. Weknowthatsomeagent
1
mustğ‘”-championğ‘ .
1
Case3.1 Agentğ‘ ğ‘”-championsğ‘ : Then,âŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©formsağœ‘-improvingcycles. Therefore,
1 1 1 ğ‘– 1 1
usingLemma3,wegetanewEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Case3.2 Agentğ‘ ğ‘”-championsğ‘ : Recallthatbothğ‘ andğ‘ cannotbesourcesinğ¸ becauseof
1 1 1 1 ğ‘¥
Case 3 assumption. Furthermore, we have assumed that ğ‘ envies neither ğ‘ nor ğ‘ . Therefore,
1 1 1
eitherğ‘ enviesğ‘ orğ‘ enviesğ‘ .
1 1 1 1
Case3.2.1 Agent ğ‘ envies ğ‘ : Here âŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ© is a ğœ‘-improving cycle. Therefore,
1 1 1 ğ‘– 1 1 1 1
usingLemma3,wegetanewEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Case3.2.2 Agentğ‘ enviesğ‘ : Inthiscase,weknowthatsomeonemustğ‘”-championagentğ‘ .
1 1 1
Case3.2.2.1 ğ‘ championsğ‘ : weconstructanewEFXallocationğ‘Œ bygivingthebundleğ‘‹ toğ‘
1 1 ğ‘1 1
and ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘” to agent ğ‘ 1. Note that both agent ğ‘ 1 and ğ‘ 1 have strictly improved. Furthermore, as
ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘” isaminimallyenviedsubset,noagentstronglyenviesğ‘ 1. Asğ‘‹
ğ‘1
wasnotstronglyenvied
inğ‘‹,itcannotbestronglyenviedinğ‘Œ. Therefore,ğ‘Œ isanEFXallocationsuchthatğ‘Œ â‰» ğ‘‹. Also
notethatagentğ‘ continuestoenvyagentğ‘ . Thus,allocationğ‘Œ satisfiestheconditionsrequired
1 ğ‘–
toapplyLemma8andğ‘Œ â‰» ğ‘‹. So,weapplyLemma8onğ‘Œ. SinceParetodominanceisapartial
orderandtherearefinitelymanypartialEFXallocations,thisiterativeproceduremustterminate
withanallocationğ‘ suchthateitherğ‘ isacompleteEFXallocationorğœ‘(ğ‘) > ğœ‘(ğ‘‹).
Case3.2.2.2 Agentğ‘ ğ‘”-championsğ‘ : Then,weexchangethetophalvesofğ‘‹ andğ‘‹ togeta
1 1 ğ‘1 ğ‘1
newallocationğ‘Œ,wherethebundlesofğ‘ ,ğ‘ andğ‘ areasfollows:
1 1 1
ğ‘‡ğ‘1 ğ‘‡ğ‘1
ğ‘1 ğ‘1
ğ‘Œ(ğ¿) = ğ‘‹
ğµğ‘1 ğ‘1 ğµğ‘1
ğ‘1 ğ‘1
ğ‘ ğ‘ ğ‘
1 1 1
Applying Proposition 3, we know that ğ‘‡ ğ‘ğ‘ 11 > ğ‘ ğ‘‡ ğ‘ğ‘ 11. Therefore, ğ‘Œ ğ‘1 > ğ‘ ğ‘‹ ğ‘1 > ğ‘ ğ‘Œ ğ‘1. That
is, agent ğ‘ has strictly improved and no agent from A strongly envies ğ‘ in ğ‘Œ. Analogously,
1 1
ğ‘Œ > ğ‘‹ > ğ‘Œ . That is, agent ğ‘ has strictly improved and no agent from C strongly envies
ğ‘1 ğ‘ ğ‘1 ğ‘ ğ‘1 1
ğ‘ inğ‘Œ. Sinceagentğ‘ wasenvyingneitherğ‘ norğ‘ inğ‘‹,ğ‘ canenvyatmostoneofğ‘ ,ğ‘ inğ‘Œ.
1 1 1 1 1 1 1
Withoutlossofgenerality,assumethatğ‘
1
stronglyenviesğ‘ 1. Wethenreplacethebottomhalfğµ ğ‘ğ‘1
1
ofğ‘ withğ‘” togetğ‘. Thebundlesofğ‘ ,ğ‘ ,andğ‘ inğ‘ areasfollows:
1 1 1 1
ğ‘‡ğ‘1 ğ‘‡ğ‘1
ğ‘1 ğ‘1
ğ‘(ğ¿) = ğ‘‹
ğ‘” ğ‘1 ğµğ‘1
ğ‘1
ğ‘ ğ‘ ğ‘
1 1 1
Asğ‘‡ ğ‘ğ‘ 11 âˆªğ‘” isaminimallyenviedsubset,noonestronglyenviesagentğ‘ 1. Furthermore,ğ‘ ğ‘1 > ğ‘
ğ‘‹ > , therefore agent ğ‘ is strictly better off compared to ğ‘‹ and ğ‘ does not strongly envy ğ‘ .
ğ‘1 ğ‘ 1 1 1
Therefore,wehaveanEFXallocationğ‘ suchthatğœ‘(ğ‘) > ğœ‘(ğ‘‹).
175 Agent ğ‘ envies no one in B âˆª C
1
Here we consider a partial EFX allocation ğ‘‹, where agent ğ‘ is a source and ğ‘ does not envy
1 1
anyoneinBâˆªC
.
Lemma9. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifğ‘ isasourceinğ¸
1 ğ‘‹
andğ‘ enviesnoagentfromBâˆªC,thenthereexistsanEFXallocationğ‘Œ suchğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
1
Proof. Weconsiderallpossiblecasesbasedonthenumberofsourcesinğ¸ .
ğ‘‹
Case1. Ifğ‘ istheonlysourceinğ¸ ,weapplyCorollary2togetanEFXallocationğ‘Œ suchthat
1 ğ‘‹
ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Case2. Supposetherearethreesourcesinğ¸ . Thatis,ğ¿ = {ğ‘ ,ğ‘ ,ğ‘ }isthesetofsourcesinğ¸ .
ğ‘‹ 1 1 1 ğ‘‹
WeapplyCorollary4onğ‘‹ togetanallocationğ‘Œ,ğ‘Œ â‰» ğ‘‹. Ifğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹),wearedone. Otherwise,
weknowthatğ‘ isasourceinğ‘Œ. Ifğ‘ enviessomeagentinBâˆªC ,weapplyLemma8onğ‘Œ toget
1 1
anallocationğ‘,suchthatğœ‘(ğ‘) > ğœ‘(ğ‘Œ) = ğœ‘(ğ‘‹). Ifğ‘ enviesnoagentinBâˆªC ,weapplyLemma9
1
onğ‘Œ,asğ‘Œ satisfiesalltheconditionstoapplyLemma9andğ‘Œ â‰» ğ‘‹. SinceParetodominanceis
apartialorderandtherearefinitelymanypartialEFXallocations,thisiterativeproceduremust
terminatewithanEFXallocationğ‘ suchthateitherğ‘ isacompleteallocationorğœ‘(ğ‘) > ğœ‘(ğ‘‹).
Case3. Therearetwosourcesinğ¸ . Weknowthatğ‘ isasource. Withoutlossofgenerality,letğ‘
ğ‘‹ 1 1
betheothersource. Thereforeğ‘ isnotasourceandhenceitmustbeenviedbysomeleadingagent.
1
Sinceğ‘ doesnotenvyanyone,ğ‘ enviesğ‘ . Wenowconsiderthecasesdependingonwhichagent
1 1 1
ğ‘”-championsğ‘ .
1
Case3.1. Suppose agent ğ‘ self ğ‘”-champions (see the figure below). We then construct a new
1
Pareto dominating EFX allocation ğ‘Œ by replacing ğ‘‹ with MES (ğ‘‹ âˆªğ‘”). Since this is a strict
ğ‘1 ğ‘ ğ‘1
improvementforagentğ‘ ,shecontinuestonotenvyğ‘ eveninğ‘Œ. Nooneelseenviesğ‘ asthere
1 1 1
was no change in their bundles. Thus ğ‘ is a source in ğ‘Œ. If ğ‘ envies ğ‘ , we apply Lemma 8 to
1 1 1
getağœ‘improvement. Otherwise,weapplyLemma9againonğ‘Œ. AstherearefinitelymanyEFX
allocations,thisParetoimprovementcannotgoonforever.
ğ‘”
ğ‘ 1 ğ‘ 1 ğ‘ 1
Case3.2. Ifğ‘ ğ‘”-championsğ‘ (Seethefigurebelow),then(ğ‘ ,ğ‘ ,ğ‘ )isaParetoimprovingcycle.
1 1 1 1 1
Eliminatingthiscyclegivesanallocationğ‘Œ suchthatğ‘Œ â‰» ğ‘‹ andğ‘ isasourceinğ¸ andğ‘ does
1 ğ‘Œ 1
not envy any agent in BâˆªC . We apply Lemma 9 again on ğ‘Œ. As there are finitely many EFX
allocations,thisParetoimprovementcannotgoonforever.
ğ‘ 1 ğ‘ 1 ğ‘ 1
ğ‘”
Case3.3. Ifğ‘ ğ‘”-championsğ‘ ,thenwegiveanalgorithm(Algorithm1)togetanallocationğ‘Œ such
1 1
thatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹). Lemma13provesthecorrectnessofAlgorithm1.
185.1 Agentğ‘ isasource,ğ‘ enviesnooneinBâˆªC butğ‘”-championsğ‘
1 1 1
Inthissection,weconsiderthecasewhenwehaveapartialEFXallocationğ‘‹ withanunallocated
itemğ‘”,inwhich,agentğ‘ isasource,andğ‘ doesnotenvyanyoneinBâˆªC butğ‘ ğ‘”-championsğ‘ .
1 1 1 1
Seethefigurebelow.
ğ‘”
ğ‘ 1 ğ‘ 1 ğ‘ 1
ThepseudocodeforouralgorithmtohandlethiscaseispresentedasAlgorithm1. Ittakesğ‘‹ as
inputandoutputsanotherEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
5.1.1 OverviewofAlgorithm1
Inthissection,wegiveanoverviewofthealgorithm. PleaserefertoAlgorithm1thepseudo-code.
High-level idea: Recall that ğ‘ does not envy ğ‘ but ğ‘ ğ‘”-champions ğ‘ with respect to the EFX
1 1 1 1
allocationğ‘‹. Sothebundleğ‘‡ğ‘1 âˆªğ‘” issuchthatğ‘ doesnotstronglyenvyanyoneafterreceiving
ğ‘1 1
ğ‘‡ğ‘1 âˆªğ‘” andinfact,thisholdforanyğ‘ ,withrespecttoğ‘‹. Further,ğ‘‡ğ‘1 âˆªğ‘” > ğ‘‹ . Also,noone
ğ‘1 ğ‘– ğ‘1 ğ‘ ğ‘1
stronglyenviesğ‘‡ğ‘1 âˆªğ‘” withrespecttoğ‘‹. Ifğ‘‡ğ‘1 âˆªğ‘” canbeallottedtoğ‘ ,andasuitablereplacement
ğ‘1 ğ‘1 1
bundle for ğ‘ can be found, then this will result in an EFX allocation with improved value of ğœ‘.
1
ThisisroughlythegoalofAlgorithm1. Temporarily,weallotğ‘‡ğ‘1 âˆªğ‘” toğ‘ . Clearly,thestrongenvy
ğ‘1 1
canonlybefromğ‘ tootheragents. Thisinvariant,calledInvariant1,ismaintainedthroughout
1
Algorithm1.
Invariant1. Intheallocationğ‘‹,onlyagentğ‘ mayhavestrongenvytowardsothers.
1
Notation: AtthebeginningofAlgorithm1,defineğ‘‚ ,thecomparisonsetforB ,asthesetofallthe
ğ‘
bundlesallocatedtoagentsinAâˆªC ,togetherwithğ‘‡ğ‘1âˆªğ‘”.
DuringthecourseofAlgorithm1,some
ğ‘1
ofthebundlesinğ‘‚ willbereplacedbyoneoftheirpropersubsets,calledavirtualbundle. Atany
ğ‘
point in the algorithm, denote ğ‘ƒ = max ğ‘‚ . Similarly, define ğ‘‚ , the comparison set for C as the
ğ‘ ğ‘ ğ‘
bundlesbelongingtoagentsinAâˆªB . Defineğ‘„ = max (ğ‘‚ âˆª{ğ‘ƒ}).
ğ‘ ğ‘
Case1 P âˆˆ {X | a âˆˆ A}âˆª{Ta1 âˆªg}: SeeFigure2. Ifğ‘ƒ = ğ‘‹ forsomeğ‘–,thenğ‘ƒ canbeallocated
a i i b1 ğ‘–
toğ‘ andğ‘‡ğ‘1 âˆªğ‘” toğ‘ ,followedbyinternalsortingofbundlesofgroupsA andB . Clearly,after
1 ğ‘1 ğ‘–
receivingğ‘ƒ, ğ‘ hasnostrongenvytowardsanyagentinAâˆªC . Possiblestrongenvyfromğ‘ to
1 1
otheragentsinB canberesolvedusingLemma4togetanEFXallocation. Ifğ‘ƒ = ğ‘‹ thenğ‘ gets
ğ‘1 1
abetterbundlethanğ‘‹ , namelyğ‘‡ğ‘1 âˆªğ‘”, andhenceğœ‘improves. Ifğ‘ƒ = ğ‘‹ forğ‘– Ì¸= 1, thenğ‘‹
ğ‘1 ğ‘1 ğ‘ğ‘– ğ‘1
stillremainstheminimumvaluedbundleingroupA . However,ğ‘ enviesğ‘ƒ sinceğ‘ƒ = ğ‘‹ > ğ‘‹ .
1 ğ‘ğ‘– ğ‘ ğ‘1
ThuswecanapplyLemma8togetanEFXallocationwithahighervalueofğœ‘. Asimilarargument
appliesifğ‘ƒ = ğ‘‡ğ‘1 âˆªğ‘”.
ğ‘1
ğ‘ ğ‘ Â·Â·Â· ğ‘ 2 ğ‘ 1 ğ‘ 1 Â·Â·Â· ğ‘ ğ‘– Â·Â·Â· ğ‘ ğ‘
ğ‘‡ğ‘1 âˆªğ‘”
ğ‘1
Figure2: Greenedgepointstoğ‘ƒ =ğ‘‹ =max ğ‘‚
ğ‘ğ‘– ğ‘ ğ‘
19Case2 P âŠ† X forsomeiandQ âˆˆ {X | a âˆˆ A}âˆª{Ta1 âˆªg}: SeeFigure3. Ifğ‘„ = ğ‘‹ forsome
c i a j j b1 ğ‘ğ‘—
ğ‘—,asimilarimprovementinğœ‘canbeobtainedbygivingğ‘‡ğ‘1 âˆªğ‘” toğ‘ ,ğ‘ƒ toğ‘ ,andğ‘„toğ‘ . Note
ğ‘1 ğ‘— 1 ğ‘–
thatthismightneedresolutionofintra-groupstrongenvies,whichcanbedonebyLemma4,and
alsosortingthebundlesinternallywithineachgroupsothattheleadingagentsretainminimum
valuedbundlesintheirrespectivegroups. Asimilarğœ‘improvementcanbemadeifğ‘„ = ğ‘‡ğ‘1 âˆªğ‘” by
ğ‘1
usingLemma8.
ğ‘ Â·Â·Â· ğ‘ Â·Â·Â· ğ‘
ğ‘Ÿ ğ‘– 1
ğ‘ 1 Â·Â·Â· ğ‘ ğ‘— Â·Â·Â· ğ‘ ğ‘
ğ‘ Â·Â·Â· ğ‘ ğ‘
ğ‘ 2 1
ğ‘‡ğ‘1 âˆªğ‘”
ğ‘1
Figure3: Greenedgepointstoğ‘ƒ andcyanedgetoğ‘„
Case3 Both the above conditions do not hold: It must be the case that either ğ‘ƒ âŠ† ğ‘‹ and
ğ‘ğ‘–
ğ‘„ = ğ‘‹ forsomeğ‘–,ğ‘—,ğ‘— Ì¸= 1orğ‘„ = ğ‘ƒ. However,evenintheformercase,wecannotsimplyswap
ğ‘ğ‘—
ğ‘ƒ andğ‘„betweenğ‘ andğ‘ ,sinceitisnotclearwhetherthisprocedurewillthenterminate.
ğ‘– ğ‘—
Case3a Q = X forsomeb âˆˆ Bâˆ–{b }: Inthiscase,thebundleğ‘‹ inğ‘‚ isreplacedbyğ‘‹ âˆ–â„,
b
j
j 1 ğ‘ğ‘– ğ‘ ğ‘ğ‘–
where â„ is the least valued good in ğ‘‹ according to ğ‘£ . Note that this operation does not alter
ğ‘ğ‘– ğ‘
theactualallocation. Werefertothisupdateofğ‘‚ asavirtualupdate. Thealgorithmstartsanew
ğ‘
iteration with this updated set ğ‘‚ . The idea is that the virtual update can happen at most once
ğ‘
foreachbundleofgroupC . Atsomepoint,eitherğ‘ choosessuchavirtualbundleasmax ğ‘‚ ,or
1 ğ‘ ğ‘
A
choosessomebundleofgroup ,satisfyingCase1above.
Case3b Q = P = X : Then, agents ğ‘ and ğ‘ compete for ğ‘ƒ with ğ‘‚ and ğ‘‚ as their respective
c i 1 ğ‘– ğ‘ ğ‘
comparison sets. Each of ğ‘ and ğ‘ picks the minimum cardinality subsets, say ğ‘ƒ and ğ‘ƒ of ğ‘ƒ
1 ğ‘– ğ‘ ğ‘
respectively, such that, given this subset, they will have no envy towards any bundle in their
respectivecomparisonsets. Wecallğ‘ tobethewinnerif|ğ‘ƒ | â‰¤ |ğ‘ƒ |,andwecallğ‘ƒ asthewinning
ğ‘– ğ‘ ğ‘ ğ‘
subset.
Case3b(i) c is a winner and P âŠŠ X : We then update the allocation ğ‘‹ by allocating ğ‘ƒ to ğ‘ ,
i c c i ğ‘ ğ‘–
andaddingthegoodsinğ‘‹ âˆ–ğ‘ƒ tothesetğ‘ˆ ofunallocatedgoods. Bythedefinitionofawinning
ğ‘ğ‘– ğ‘
subset, whenğ‘ isgivenğ‘ƒ , agentğ‘ canhavepossiblestrongenviestowardsonlytheagentsin
ğ‘– ğ‘ ğ‘–
C
. SuchstrongenviesareresolvedusingLemma4. Atthispoint,wehaveanewallocationthat
satisfiesInvariant1withastrictlylargernumberofunallocatedgoods. Therefore,thecomparison
setsğ‘‚ andğ‘‚ areupdatedtoreflectthenewallocation: ğ‘‚ â† {ğ‘‹ | ğ›¼ âˆˆ AâˆªC}âˆª{ğ‘‡ğ‘1 âˆªğ‘”},and
ğ‘ ğ‘ ğ‘ ğ›¼ ğ‘1
ğ‘‚ â† {ğ‘‹ | ğ›¼ âˆˆ (AâˆªB)}. Thealgorithmthenproceedswithanewiteration.
ğ‘ ğ›¼
20Case3b(ii) c isaloser,orP = P = X . Inthiscase,avirtualupdateisdone. Thatis,thebundle
i c b c i
ğ‘‹ inğ‘‚ isreplacedbyğ‘‹ âˆ–â„,whereâ„istheleastvaluedgoodinğ‘‹ accordingtoğ‘£ . Thisdoes
ğ‘ğ‘– ğ‘ ğ‘ğ‘– ğ‘ğ‘– ğ‘
notaltertheactualallocationğ‘‹. Thealgorithmcontinueswiththemodifiedsetğ‘‚ . AsinCase3a
ğ‘
above,thiscannotgoonindefinitely.
Case3c P is a virtual bundle i.e. P âŠŠ X for some c âˆˆ C: This is considered on Line 26 of
c i i
Algorithm1. Thiscanhappensinceğ‘‚ mighthavesomevirtualbundlesfromearlieriterations.
ğ‘
Thusğ‘ƒ = ğ‘‹ âˆ–â„. Theneitherğ‘„ = ğ‘ƒ orğ‘„isabundlebelongingtogroupA orB . Ifğ‘„ = ğ‘ƒ, we
ğ‘ğ‘–
simplyallotğ‘„toğ‘ andaddâ„ = ğ‘‹ âˆ–ğ‘„tothesetofunallocatedgoodsğ‘ˆ. Ifğ‘„ = ğ‘‹ forsomeğ‘—,
ğ‘– ğ‘ğ‘– ğ‘ğ‘—
weallotğ‘‹ âˆ–â„toğ‘ ,ğ‘‹ toğ‘ ,andaddâ„toğ‘ˆ. Inboththesecases,â„getsincludedinthepoolof
ğ‘ğ‘– ğ‘— ğ‘ğ‘— ğ‘–
unallocateditemsandthepoolofunallocateditemsgrows. Weupdateğ‘‚ andğ‘‚ andstartanew
ğ‘ ğ‘
B
iteration. Also,itisensuredthatifanagentin doesnotenvyavirtualbundle,thenshewillnot
stronglyenvythecorrespondingrealbundle,thusğ‘ hasnostrongenvytowardsagentsinAâˆªC .
1
WewillproveitinLemma11later.
The correctness of Case 1 and Case 2 above is proved respectively in Part 1 and Part 2 of
Lemma10below.
Lemma 10. Let ğ‘‹ be a partial allocation with an unallocated good ğ‘”, where all strong envies in ğ‘‹, if
any, originate from agent ğ‘ . Suppose agent ğ‘ is a source in ğ¸ , does not envy ğ‘ , but ğ‘”-champions ğ‘ ,
1 1 ğ‘‹ 1 1
partitioningğ‘‹ asğ‘‹ = ğ‘‡ğ‘1 âŠğµğ‘1. Define:
ğ‘1 ğ‘1 ğ‘1 ğ‘1
ğ‘‚ = {ğ‘‹ | ğ›¼ âˆˆ AâˆªC}âˆª{ğ‘‡ğ‘1 âˆªğ‘”}
ğ‘ ğ›¼ ğ‘1
ğ‘‚ = {ğ‘‹ | ğ›¼ âˆˆ (AâˆªB)âˆ–{ğ‘ }}âˆª{ğ‘‡ğ‘1 âˆªğ‘”}
ğ‘ ğ›¼ 1 ğ‘1
Ifeitherofthefollowingconditionsissatisfied,thenthereexistsanEFXallocationğ‘Œ (possiblypartial)such
thatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
1. Thereexistsabundleğ‘ƒ âˆˆ {ğ‘‹ | ğ›¼ âˆˆ A}âˆª{ğ‘‡ğ‘1 âˆªğ‘”}suchthat, givenğ‘ƒ, agentğ‘ doesnotstrongly
ğ›¼ ğ‘1 1
envyanybundleinğ‘‚ ,
ğ‘
2. Thereexistsabundleğ‘ƒ âŠ† ğ‘‹ forsomeğ‘ âˆˆ C,suchthatgivenğ‘ƒ,agentğ‘ doesnotstronglyenvyany
ğ‘ğ‘– ğ‘– 1
bundleinğ‘‚ ,andthereexistssomebundleğ‘„ âˆˆ {ğ‘‹ | ğ›¼ âˆˆ A}âˆª{ğ‘‡ğ‘1 âˆªğ‘”}suchthatwithğ‘„agentğ‘
ğ‘ ğ›¼ ğ‘1 ğ‘–
doesnotstronglyenvyanybundleinğ‘‚ âˆª{ğ‘ƒ}.
ğ‘
Proof. (i) Ifğ‘ƒ = {ğ‘‡ğ‘1 âˆªğ‘”},thenweallocate{ğ‘‡ğ‘1 âˆªğ‘”}toğ‘ . Weknowthatwithğ‘ƒ,agentğ‘ does
ğ‘1 ğ‘1 1 1
notstronglyenvyanyonefromAâˆªC
.
ResolveinternalenviesinB
,ifany,usingLemma4. Wenow
haveanEFXallocationğ‘Œ suchthatagentğ‘ enviesğ‘ . Therefore,byapplyingLemma8onğ‘Œ,we
1 1
getanEFXallocationğ‘ suchthatğœ‘(ğ‘) > ğœ‘(ğ‘‹).
Ifğ‘ƒ = ğ‘‹ ,wethengiveğ‘ƒ toagentğ‘ and{ğ‘‡ğ‘1 âˆªğ‘”}toagentğ‘ . ResolveinternalenviesinB ,
ğ‘1 1 ğ‘1 1
ifany,usingLemma4. WenowhaveanEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Finally, if ğ‘ƒ = ğ‘‹ for some ğ‘ âˆˆ A âˆ– ğ‘ , then give ğ‘ƒ to agent ğ‘ and {ğ‘‡ğ‘1 âˆª ğ‘”} to agent ğ‘ .
ğ‘ğ‘– ğ‘– 1 1 ğ‘1 ğ‘–
ResolveinternalenviesinB orA ,ifany,usingLemma4. WenowhaveaEFXallocationğ‘Œ such
thatagentğ‘ enviesğ‘ . Therefore,byapplyingLemma8onğ‘Œ,wegetanEFXallocationğ‘ such
1 1
thatğœ‘(ğ‘) > ğœ‘(ğ‘‹).
21Algorithm1:MULTI-ROUND-COMPETITION
Input: AnEFXallocationğ‘‹ suchthatğ‘ ğ‘”-championsğ‘ andğ‘ doesnotenvyğ‘
1 1 1 1
Output: AnEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹)
1 Allocate{ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘”}toagentğ‘ 1
2 Letğ‘‚ ğ‘ â† {ğ‘‹ ğ›¼ | ğ›¼ âˆˆ AâˆªC}âˆª{ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘”}andletğ‘‚ ğ‘ â† {ğ‘‹ ğ›¼ | ğ›¼ âˆˆ (AâˆªB)}
3 Letğ‘ˆ bethesetofunallocatedgoodsinğ‘‹
4 whiletruedo
5 Letğ‘ƒ â† max ğ‘ğ‘‚ ğ‘
6 ifğ‘ƒ âˆˆ {ğ‘‹ ğ‘ğ‘– | ğ‘ ğ‘– âˆˆ A}âˆª{ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘”}then
7 ApplyLemma10(Part(ğ‘–)),obtaininganEFXallocationğ‘Œ,suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹)
8 returnğ‘Œ
9 else // ğ‘ƒ âŠ† ğ‘‹ ğ‘ğ‘– for some ğ‘ ğ‘– âˆˆ C
10 Letğ‘„ â† max ğ‘(ğ‘‚ ğ‘âˆªğ‘ƒ)
11 ifğ‘„ âˆˆ {ğ‘‹ ğ‘ğ‘– | ğ‘ ğ‘– âˆˆ A}âˆª{ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘”}then
12 ApplyLemma10(Part(ğ‘–ğ‘–)),obtaininganEFXallocationğ‘Œ,suchthat
ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹)
13 returnğ‘Œ
14 elseifğ‘ƒ = ğ‘‹ ğ‘ğ‘– forsomeğ‘ ğ‘– âˆˆ Cthen
15 ifğ‘„ = ğ‘ƒ then
16 ğ‘ 1 andğ‘ ğ‘– competeforğ‘ƒ
17 ifğ‘ ğ‘– isawinnerandthewinningsubsetğ‘ƒ ğ‘ âŠŠ ğ‘ƒ then
18 Inğ‘‹,replaceğ‘‹ ğ‘ğ‘– withthewinningsubsetğ‘ƒ ğ‘ âŠŠ ğ‘‹ ğ‘ğ‘–
19 ğ‘ˆ â† ğ‘ˆ âˆª(ğ‘‹ ğ‘ğ‘– âˆ–ğ‘ƒ)
C
20 Resolveinternalstrongenviesin (Lemma4)
21 Update: ğ‘‚ ğ‘ â† {ğ‘‹ ğ›¼ | ğ›¼ âˆˆ (AâˆªB)}andğ‘‚ ğ‘ â† {ğ‘‹ ğ›¼ | ğ›¼ âˆˆ AâˆªC}âˆª{ğ‘‡ ğ‘ğ‘ 11âˆªğ‘”}
22 else
23 Inğ‘‚ ğ‘,replaceğ‘‹ ğ‘ğ‘– withğ‘‹ ğ‘ğ‘– âˆ–â„,whereâ„ = min ğ‘ğ‘‹ ğ‘ğ‘–
24 elseifğ‘„ âˆˆ {ğ‘‹ ğ‘ğ‘— | ğ‘ ğ‘— âˆˆ Bâˆ–{ğ‘ 1}}then
25 Inğ‘‚ ğ‘,replaceğ‘‹ ğ‘ğ‘– withğ‘‹ ğ‘ğ‘– âˆ–â„,whereâ„ = min ğ‘ğ‘‹ ğ‘ğ‘–
26 elseifğ‘ƒ âŠŠ ğ‘‹ ğ‘ğ‘– forsomeğ‘ ğ‘– âˆˆ Cthen
27 ifğ‘„ = ğ‘ƒ then
28 Inğ‘‹,replaceğ‘‹ ğ‘ğ‘– withğ‘ƒ
29 else // ğ‘„ = ğ‘‹ ğ‘ğ‘— for some ğ‘ ğ‘— âˆˆ Bâˆ–{ğ‘ 1}
30 Modifyğ‘‹: allocateğ‘ƒ toğ‘ ğ‘—,ğ‘‹ ğ‘ğ‘— toğ‘ ğ‘–
31 Resolveğ‘ ğ‘— toğ‘ ğ‘˜ âˆˆ Bâˆ–ğ‘ 1 strongenviesbyreplacingğ‘‹ ğ‘ withMES ğ‘(ğ‘‹ ğ‘ ,ğ‘ƒ);
ğ‘˜ ğ‘˜
C
32 Resolveinternalstrongenviesin (Lemma4)
33 ğ‘ˆ â† ğ‘ˆ âˆª(ğ‘‹ ğ‘ğ‘– âˆ–ğ‘ƒ)
34 Update: ğ‘‚ ğ‘ â† {ğ‘‹ ğ›¼ | ğ›¼ âˆˆ AâˆªC}âˆª{ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘”}andğ‘‚ ğ‘ â† {ğ‘‹ ğ›¼ | ğ›¼ âˆˆ (AâˆªB)}
22(ii) Letğ‘ƒ âŠ† ğ‘‹ forsomeagentğ‘ âˆˆ C . Ifğ‘„ = {ğ‘‡ğ‘1 âˆªğ‘”},weallocateğ‘ƒ toğ‘ andğ‘„toagentğ‘ . Else
ğ‘ğ‘– ğ‘– ğ‘1 1 ğ‘–
if ğ‘„ = ğ‘‹ for some ğ‘ âˆˆ Aâˆ–ğ‘ we allocate ğ‘ƒ to ğ‘ , ğ‘„ to ğ‘ and {ğ‘‡ğ‘1 âˆªğ‘”} to agent ğ‘ . In either
ğ‘ğ‘— ğ‘— 1 1 ğ‘– ğ‘1 ğ‘—
case,weresolveinternalenviesinwithinthegroups,ifany,usingLemma4. WenowhaveaEFX
allocationğ‘Œ suchthatagentğ‘ enviesğ‘ . Therefore,byapplyingLemma8onğ‘Œ,wegetanEFX
1 ğ‘–
allocationğ‘ suchthatğœ‘(ğ‘) > ğœ‘(ğ‘‹).
Ifğ‘„ = ğ‘‹ ,thenweallocateğ‘ƒ toğ‘ ,ğ‘„toğ‘ ,and{ğ‘‡ğ‘1âˆªğ‘”}toagentğ‘ . Resolveinternalenviesin
ğ‘1 1 ğ‘– ğ‘1 1
withinthegroups,ifany,usingLemma4. WegetanEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Lemma 11. In Algorithm 1, if ğ‘ is allocated a virtual bundle from ğ‘‚ , then ğ‘ does not strongly envy
1 ğ‘ 1
anyonefromAâˆªC. Infact,thesameholdsforanyğ‘ âˆˆ B.
ğ‘—
Proof. A virtual bundle appears in ğ‘‚ when Case 3a holds i.e. max ğ‘‚ = ğ‘‹ for some ğ‘– and
ğ‘ ğ‘ ğ‘ ğ‘ğ‘–
max ğ‘‚ = ğ‘‹ forsomeğ‘— Ì¸= 1,orCase3b(ii)holds,whenğ‘ƒ = ğ‘„ = ğ‘‹ andeitherğ‘ hasasmaller
ğ‘ ğ‘ ğ‘ğ‘— ğ‘ğ‘– 1
winningsubsetthanğ‘ i.e. |ğ‘ƒ | < |ğ‘ƒ |orbothhaveğ‘‹ asthewinningsubseti.e. ğ‘ƒ = ğ‘ƒ = ğ‘‹ .
ğ‘– ğ‘ ğ‘ ğ‘ğ‘– ğ‘ ğ‘ ğ‘ğ‘–
When ğ‘ƒ = max ğ‘‚ is a virtual bundle, then for any non-virtual i.e. real bundle ğ‘† âˆˆ ğ‘‚ , ğ‘ƒ > ğ‘†
ğ‘ ğ‘ ğ‘ ğ‘
andhenceğ‘ doesnotenvytheagentholdingğ‘†. Foranyvirtualbundleğ‘† = ğ‘‹ âˆ–â„ âˆˆ ğ‘‚ ,ğ‘† Ì¸= ğ‘ƒ,
1 ğ‘ğ‘– ğ‘
ğ‘ƒ > ğ‘‹ âˆ–â„ for minimum valued item â„ âˆˆ ğ‘‹ according to ğ‘£ . Hence ğ‘ might envy the real
ğ‘ ğ‘ğ‘– ğ‘ğ‘– ğ‘ 1
bundleğ‘‹ butitisnotastrongenvy. Sinceğ‘ andğ‘ havethesamevaluationğ‘£ ,thelemmaholds
ğ‘ğ‘– ğ‘— 1 ğ‘
foranyğ‘ âˆˆ ğµ.
ğ‘—
ToprovethecorrectnessofCase3,oneneedstoshowthatInvariant1ismaintainedaslong
asAlgorithm1remainsinCase3,andthatthealgorithmexitsfromCase3inafinitenumberof
iterations.
Lemma 12. At any point during the course of Algorithm 1, if Case 3 holds, then in a finite number of
iterations,thealgorithmexitsfromCase3,andfurther,Invariant1ismaintainedaslongasthealgorithm
remainsinCase3.
Proof. IneachiterationofAlgorithm1,wheneverCase3holds,eitherthepoolofunallocateditems
increasesorthenumberofvirtualbundlesinğ‘‚ grows. TheformerhappensincasesCase3b(i)
ğ‘
and Case 3c whereas the later happens in cases Case 3a and Case 3b(ii). Since neither of these
can continue beyond a finite number of steps (at most as many steps as the number of items),
Algorithm1exitsCase3inafinitenumberofsteps.
It can be seen that Invariant 1 holds as long as Algorithm 1 continues in Case 3. When the
allocationismodifiedinCase3(Line30ofAlgorithm1),ğ‘ ,ğ‘— Ì¸= 1getsavirtualbundleğ‘ƒ = ğ‘‹ âˆ–â„.
ğ‘— ğ‘ğ‘–
By Lemma 11, on allocating ğ‘ƒ, ğ‘ does not strongly envy anyone from AâˆªC . Similarly, by the
ğ‘—
choiceofğ‘„,ğ‘ doesnotstronglyenvyanyonefromAâˆªC . Noagentexceptpossiblyğ‘ strongly
ğ‘– 1
enviesğ‘ sincetheydidnotstronglyenvyğ‘ whenğ‘ hadğ‘‹ . Thepotentialstrongenviesfromğ‘
ğ‘— ğ‘– ğ‘– ğ‘ğ‘– ğ‘—
towardsotheragentsinB andfromğ‘ tootheragentsinC areresolvedusingLemma4. Thusonly
ğ‘–
ğ‘ mightstronglyenvy,andhenceInvariant1continuestohold.
1
ThefollowinglemmacompletesthecorrectnessproofofAlgorithm1.
Lemma13. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Letagentğ‘ beasource
1
inğ¸ anddoesnotenvyagentğ‘ ,butğ‘”-championsğ‘ . Then,withğ‘‹ asinput,Algorithm1terminateswith
ğ‘‹ 1 1
anEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
23Proof. If Case 1 holds at any point, the algorithm, on Line 8 returns an EFX allocation ğ‘Œ with
ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹)byPart1ofLemma10. IfCase2holds,thenonLine13,anEFXallocationğ‘Œ with
ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹)isreturnedbyPart2ofLemma10. Sothealgorithmsuccessfullyterminateswhenever
oneofthesetwocaseshold.
NotethatthealgorithmterminatesifandonlyifitreachesLine8orLine13i.e. ifandonlyif
Case1orCase2hold. SothewhilelooponLine4cangoonaslongasthealgorithmcontinues
inCase3. AsprovedinLemma12,Case3canholdforonlyafinitenumberofiterations. Sothe
algorithmmustenterCase1orCase2inafinitenumberofiterations,andmustterminatewithan
EFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
FromLemma8andLemma9,wederivethefollowingcorollary.
Corollary5. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifğ‘ isasourceinğ¸ ,
1 ğ‘‹
thenthereexistsanEFXallocationğ‘Œ suchğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
6 Agent ğ‘ is Not a Source in ğ¸
1 ğ‘‹
Whenğ‘ isnotasourceinğ¸ ,someonemustenvyğ‘ . ByProposition4,oneofğ‘ orğ‘ mustenvy
1 ğ‘‹ 1 1 1
ğ‘ . In addition to this, ğ‘ may or may not envy anyone from BâˆªC . In Lemma 14, we consider
1 1
thecasewhenğ‘ enviessomeonefromBâˆªC . Theothercasewhenğ‘ doesnotenvyanyonefrom
1 1
BâˆªC
isconsideredinLemma15. Ineachofthesecases, wegiveaconstructionofanotherEFX
allocationthathasahighervalueofthepotentialfunction.
Lemma14. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifğ‘ isanotasourcein
1
ğ¸ ,andifğ‘ enviessomeagentinBâˆªC,thenthereexistsanEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
ğ‘‹ 1
Proof. since ğ‘ is not a source, either ğ‘ or ğ‘ must envy ğ‘ by Proposition 4. Without loss of
1 1 1 1
generality,assumeğ‘ enviesğ‘ .
1 1
1 Agentğ‘ enviessomeagentğ‘ âˆˆ B: Then,âŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©isağœ‘-improvingexchange. Therefore,
1 ğ‘— 1 ğ‘— 1 1
usingLemma3wegetanewEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
2 Agentğ‘ enviessomeğ‘ âˆˆ C: Ifğ‘ enviesğ‘ ,thenâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©isağœ‘-improvingexchange.
1 ğ‘— 1 1 1 ğ‘— 1 1
Thuswearedone. Considerthecasewhenğ‘ doesnotenvyğ‘ . Weknowthatsomeleadingagent
1 1
mustğ‘”-championğ‘ . Weconsiderallpossiblecasesbasedonwhoğ‘”-championsğ‘ .
1 1
2.1 Agentğ‘ selfğ‘”-champions: WemakeaParetoimprovementbyreplacingğ‘‹ withMES (ğ‘‹ âˆª
1 ğ‘1 ğ‘ ğ‘1
ğ‘”,ğ‘‹ ). Followingthis, thebundlesinB arere-sortedsothatğ‘ holdstheleastvaluablebundle.
ğ‘1 1
Callthisallocationğ‘Œ. Ifinğ‘Œ,ğ‘ doesnotenvyğ‘ ,thenğ‘ isasourceinğ¸ . Therefore,applying
1 1 1 ğ‘Œ
Corollary5,wegetanewEFXallocationğ‘ suchthatğœ‘(ğ‘) > ğœ‘(ğ‘Œ) = ğœ‘(ğ‘‹). Otherwise,ifğ‘ envies
1
ğ‘ in ğ‘Œ, then we apply Lemma 14 again on ğ‘Œ. As there are finitely many EFX allocations, this
1
Paretoimprovementcannotgoonforever.
2.2 Agentğ‘ ğ‘”-championsğ‘ : ThenâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©isağœ‘-improvingexchange. Therefore,apply-
1 1 1 1 1 1
ingLemma3,wegetnewEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
2.3 Agentğ‘ ğ‘”-championsğ‘ : ThenwehaveâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©asağœ‘-improvingexchange.
1 1 1 ğ‘— 1 1 1 1
Thus,wegetnewEFXallocationğ‘Œ suchthatğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
24Lemma15. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifğ‘ isanotasourcein
1
ğ¸ ,andifğ‘ enviesnoagentinBâˆªC,thenthereexistsanEFXallocationğ‘Œ suchthateitherğ‘Œ â‰» ğ‘‹ or
ğ‘‹ 1
ğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Proof. Weknowthateitherğ‘ orğ‘ mustenvyğ‘ . Withoutlossofgenerality,assumeğ‘ enviesğ‘ .
1 1 1 1 1
Someleadingagentmustğ‘”-championğ‘ . Ifğ‘ selfğ‘”-champions,thenwecanmakeParetoimprove-
1 1
ment,thuswearedone. Ifğ‘ ğ‘”-championsğ‘ ,wehaveağœ‘-improvingexchangeâŸ¨(ğ‘ ,ğ‘ ),(ğ‘ ,ğ‘ )âŸ©.
1 1 1 1 1 1
Therefore,considerthecasewhenagentğ‘ ğ‘”-championsğ‘ .
1 1
We know that some leading agent must ğ‘”-champion ğ‘ . If ğ‘ self ğ‘”-champions, then we can
1 1
makeParetoimprovement. Supposeğ‘ ğ‘”-championğ‘ . Ifeitherğ‘ enviesğ‘ orğ‘ enviesğ‘ ,then
1 1 1 1 1 1
(ğ‘ ,ğ‘ ,ğ‘ ) is a Pareto improving cycle, thus we make a Pareto improvement. If not, we have ğ‘
1 1 1 1
andğ‘ ğ‘”-championingeachotherandğ‘ enviesneitherğ‘ norğ‘ . WeapplyLemma5togetPareto
1 1 1 1
improvement.
Theonlycaseremainingiswhenagentğ‘ ğ‘”-championsğ‘ . Inthiscase,weaskğ‘ topickthe
1 1 1
bestbundlefromagentsinAâˆªB
.
Case1 Agentğ‘ picksabundleğ‘‹ fromanagentğ‘ âˆˆ B: Then,weconstructanewallocation
1 ğ‘ğ‘— ğ‘—
ğ‘Œ,byallocatingğ‘‹ ğ‘ğ‘— toğ‘ 1,ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘” toagentğ‘ 1,andğ‘‹ ğ‘1 toğ‘ ğ‘—. Here,agentğ‘ 1 strictlyimproves. In
thisnewallocation,noagentstronglyenviesanyofğ‘ ,ğ‘ andğ‘ asthebundlesthattheseagents
1 ğ‘— 1
receivedareeitherMESbundlesorcompletebundlesintheoldallocationğ‘‹. Agentğ‘ doesnot
ğ‘—
stronglyenvyanyagentasğ‘£ (ğ‘Œ ) â‰¥ ğ‘£ (ğ‘Œ )andagentğ‘ doesnotstronglyenvyanyagent. Asğ‘
ğ‘ ğ‘ğ‘— ğ‘ ğ‘1 1 1
receivedastrictimprovement,shedoesnotstronglyenvyanyagent. Finally,weknowthatğ‘ does
1
notenvyanyagentfromBâˆªA asitchosethebestbundle. Ifğ‘ stronglyenviesanyagentinC ,we
1
resolvethemusingLemma4. Wenowhaveğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Case2 Agentğ‘ picksabundleğ‘‹ : Then,toconstructanewallocationğ‘Œ,allocateğ‘‹ toğ‘ and
1 ğ‘1 ğ‘1 1
ğ‘‡ ğ‘ğ‘ 11 âˆªğ‘” toğ‘ 1. Again,notethatifthereareanystrongenviesinğ‘Œ,theymustbefromagentğ‘ 1 to
otheragentsinC . WeresolvesuchstrongenviesusingLemma4. Wehaveğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
Case3 Agentğ‘ picksğ‘‹ ,ğ‘ âˆˆ Aâˆ–{ğ‘ }: Then,toconstructanewallocationğ‘Œ,allocateğ‘‹ toğ‘
1 ğ‘ğ‘— ğ‘— 1 ğ‘ğ‘— 1
andğ‘‡ ğ‘ğ‘ 11 âˆªğ‘” toğ‘ ğ‘—. Notethatagentğ‘ ğ‘— doesnotstronglyenvyanyoneasğ‘£ ğ‘(ğ‘Œ ğ‘ğ‘—) > ğ‘£ ğ‘(ğ‘Œ ğ‘1) = ğ‘£ ğ‘(ğ‘‹ ğ‘1)
andagentğ‘ doesnotstronglyanyone. Ifthereareanystrongenviesinğ‘Œ,theymustbefromagent
1
ğ‘ tootheragentsinC . WeresolvesuchstrongenviesusingLemma4. Inğ‘Œ,agentğ‘ continuesto
1 1
envyğ‘ astheirbundlesdidnotchange. Agentğ‘ enviesğ‘ asğ‘ previouslyenviedğ‘ . Therefore,
1 1 1 1 ğ‘—
weapplyLemma14onğ‘Œ togetanewallocationğ‘ suchthatğœ‘(ğ‘) > ğœ‘(ğ‘Œ) = ğœ‘(ğ‘‹).
FromLemma14andLemma15,wegetthefollowingcorollary.
Corollary6. Letğ‘‹ beapartialEFXallocationwithatleastoneunallocatedgoodğ‘”. Ifğ‘ isanotasource
1
inğ¸ ,thenthereexistsanEFXallocationğ‘Œ sucheitherğ‘Œ â‰» ğ‘‹ orğœ‘(ğ‘Œ) > ğœ‘(ğ‘‹).
ğ‘‹
Therefore, Lemma8andLemma9completestheproofofTheorem1. Hence, EFXexistsfor
threetypesofagents.
7 Conclusion
Inthispaper,weprovedtheexistenceofEFXallocationsforinstanceswiththreetypesofagents,
where agents of the same type have identical additive valuations. This result extends the prior
workonEFXallocationsforthreeagents[9]andfortwotypesofagents[17].
25The techniques developed in this work may provide insights into more general settings. A
naturaldirectionforfutureresearchistoextendtheseresultstoagentswithmoregeneralvalu-
ationfunctions,beyondtheadditivecase. AnotherlongstandingopenquestioniswhetherEFX
allocationscanbeguaranteedforinstancesinvolvingfourormoreagents.
Giventheprogressmadehere,weproposethefollowingconjectureasapotentialpathwayfor
furtherexploration:
Conjecture1. IfEFXallocationsexistforğ‘˜ agentswithadditivevaluations,forsomeconstantğ‘˜,thenEFX
allocationsexistforanynumberofagentswithatmostğ‘˜ distincttypes.
Thisconjecture,ifproven,wouldbroadenthescopeofEFXallocations,particularlyinpractical
settingswherelargegroupsofagentssharesimilarpreferences.
26References
[1] H.Akrami,B.R.Chaudhury,J.Garg,K.Mehlhorn,andR.Mehta. Efxallocations: Simplifica-
tionsandimprovements,2022.
[2] G. Amanatidis, H. Aziz, G. Birmpas, A. Filos-Ratsikas, B. Li, H. Moulin, A. A. Voudouris,
andX.Wu. Fairdivisionofindivisiblegoods: Recentprogressandopenquestions. Artificial
Intelligence,322:103965,2023.
[3] G.Amanatidis,G.Birmpas,A.Filos-Ratsikas,A.Hollender,andA.A.Voudouris. Maximum
nashwelfareandotherstoriesaboutefx. TheoreticalComputerScience,863:69â€“85,2021.
[4] G.Amanatidis,A.Filos-Ratsikas,andA.Sgouritsa. Pushingthefrontieronapproximateefx
allocations. arXivpreprintarXiv:2406.12413,2024.
[5] G.Amanatidis,E.Markakis,andA.Ntokos. Multiplebirdswithonestone: Beating1/2for
efxandgmmsviaenvycycleelimination. TheoreticalComputerScience,841:94â€“109,2020.
[6] B. Berger, A. Cohen, M. Feldman, and A. Fiat. Almost full EFX exists for four agents. In
Thirty-SixthAAAIConferenceonArtificialIntelligence,AAAI2022,Thirty-FourthConferenceon
InnovativeApplicationsofArtificialIntelligence,IAAI2022,TheTwelvethSymposiumonEducational
AdvancesinArtificialIntelligence,EAAI2022VirtualEvent,February22-March1,2022,pages
4826â€“4833,VirtualEvent,2022.AAAIPress.
[7] I.Caragiannis,D.Kurokawa,H.Moulin,A.D.Procaccia,N.Shah,andJ.Wang. Theunreason-
ablefairnessofmaximumnashwelfare. ACMTrans.Econ.Comput.,7(3),sep2019.
[8] H.Chan, J.Chen, B.Li, andX.Wu. Maximin-awareallocationsofindivisiblegoods. arXiv
preprintarXiv:1905.09969,2019.
[9] B.R.Chaudhury,J.Garg,andK.Mehlhorn. Efxexistsforthreeagents. InProceedingsofthe
21stACMConferenceonEconomicsandComputation,ECâ€™20,page1â€“19,NewYork,NY,USA,
2020.AssociationforComputingMachinery.
[10] B.R.Chaudhury,T.Kavitha,K.Mehlhorn,andA.Sgouritsa. Alittlecharityguaranteesalmost
envy-freeness. SIAMJournalonComputing,50(4):1336â€“1358,2021.
[11] B.R.Chaudhury,T.Kavitha,K.Mehlhorn,andA.Sgouritsa. Alittlecharityguaranteesalmost
envy-freeness. SIAMJ.Comput.,50(4):1336â€“1358,2021.
[12] D.Foley. Resourceallocationandthepublicsector. YaleEconomicEssays,7:45â€“98,1967.
[13] J. Garg and A. Murhekar. Computing fair and efficient allocations with few utility values.
TheoreticalComputerScience,962:113932,2023.
[14] P.Ghosal,V.P.H.V.,P.Nimbhorkar,andN.Varma. Efxexistsforfouragentswiththreetypes
ofvaluations,2023.
[15] R. J. Lipton, E. Markakis, E. Mossel, and A. Saberi. On approximately fair allocations of
indivisiblegoods. InProceedingsofthe5thACMConferenceonElectronicCommerce,ECâ€™04,page
125â€“131,NewYork,NY,USA,2004.AssociationforComputingMachinery.
27[16] R.Mahara. ExtensionofadditivevaluationstogeneralvaluationsontheexistenceofEFX. In
P.Mutzel,R.Pagh,andG.Herman,editors,29thAnnualEuropeanSymposiumonAlgorithms,
ESA2021,September6-8,2021,Lisbon,Portugal(VirtualConference),volume204ofLIPIcs,pages
66:1â€“66:15.SchlossDagstuhl-Leibniz-ZentrumfÃ¼rInformatik,2021.
[17] R.Mahara. ExistenceofEFXfortwoadditivevaluations. Discret.Appl.Math.,340:115â€“122,
2023.
[18] B.PlautandT.Roughgarden. Almostenvy-freenesswithgeneralvaluations. SIAMJournalon
DiscreteMathematics,34(2):1039â€“1068,2020.
28