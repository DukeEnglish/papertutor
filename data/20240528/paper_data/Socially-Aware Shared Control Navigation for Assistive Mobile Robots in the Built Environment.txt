Socially-Aware Shared Control Navigation for Assistive Mobile Robots in the
Built Environment
YifanXu1,QianweiWang2,VineetKamat3,andCarolMenassa4
1Ph.D.Student,DepartmentofCivilandEnvironmentalEngineering,UniversityofMichigan,
AnnArbor,MI,USAEmail: yfx@umich.edu
2UndergraduateStudent,CollegeofLiterature,Science,andtheArts,UniversityofMichigan,
AnnArbor,MI,USAEmail: qweiw@umich.edu
3Professor,DepartmentofCivilandEnvironmentalEngineering,UniversityofMichigan,Ann
Arbor,MI,USAEmail: vkamat@umich.edu
4Professor,DepartmentofCivilandEnvironmentalEngineering,UniversityofMichigan,Ann
Arbor,MI,USAEmail: menassa@umich.edu
ABSTRACT
AsthenumberofPersonswithDisabilities(PWD), particularlythosewithoneormorephysical
impairments, increases, there is an increasing demand for assistive robotic technologies that can
supportindependentmobilityinthebuiltenvironmentandreducetheburdenoncaregivers. Current
assistive mobility platforms (e.g., robotic wheelchairs) often fail to incorporate user preferences
and control, leading to reduced trust and efficiency. Existing shared control algorithms do not
allowtheincorporationoftheusercontrolpreferencesinsidethenavigationframeworkorthepath
planningalgorithm. Inaddition,existingdynamiclocalplanneralgorithmsforroboticwheelchairs
do not take into account the social spaces of people, potentially leading such platforms to infringe
upon these areas and cause discomfort. To address these concerns, this work introduces a novel
socially-awaresharedautonomy-basednavigationsystemforassistivemobileroboticplatforms.
Our navigation framework comprises a Global Planner and a Local Planner. To implement
the Global Planner, the proposed approach introduces a novel User Preference Field (UPF)
1theory withinitsglobalplanningframework,explicitlyacknowledginguserpreferencestoadeptly
navigate away from congested areas. For the Local Planner, we propose a Socially-aware Shared
Control-basedModelPredictiveControlwithDynamicControlBarrierFunction(SS-MPC-DCBF)
toadjustmovementsinreal-time,integratinguserpreferencesforsafer,moreautonomousnavigation.
Evaluation results show that our Global Planner aligns closely with user preferences compared to
baselines, and our Local Planner demonstrates enhanced safety and efficiency in dynamic and
staticscenarios. Thisintegratedapproachfosterstrustandautonomy,crucialfortheacceptanceof
assistivemobilitytechnologiesinthebuiltenvironment.
BACKGROUND AND CHALLENGE
Lack of access to independent end-to-end (E2E) mobility has life-altering implications for
Persons with Disabilities (PWD). Mobility constraints in PWD reduce access to education,
healthcare, and employment; exacerbate physical and mental stress leading to other chronic
morbidities; and impose a significant burden on families, caregivers, the healthcare system, and
society (Mortenson et al. 2005; Fehr et al. 2000). In the United States alone, nearly 2.7 million
individualsexperiencingmobilityimpairmentsrelyonwheelchairsfortheirdailyactivities(Koontz
et al. 2015). This number is expected to grow 7% annually (Flagg 2009) due to significant
improvementsinpost-traumasurvivorship(withsomephysicalimpairments)andlongevity(Bureau
2016; King et al. 2013). Consequently, this growing necessity underscores the urgent need for the
development and implementation of innovative assistive technologies that implement efficient
systems for navigation and collision-avoidance, and can help PWD improve their mobility in the
builtenvironment. Assistivemobilerobots,designedtoaidthosewithmobilityimpairments,have
shownconsiderablepromiseinenhancingthequalityoflifeforPWD(Fardeauetal.2023). These
robots offer the potential for increased independence in the built environment, including homes,
workplaces,andpublicspaces.
A critical aspect of assistive mobile robots is their navigation system, which determines how
effectively and safely a robot can move through and interact with its environment (Rubio et al.
2019). These systems not only enable the robot to maneuver safely but also to adapt to specific
2user preferences and interact within dynamic spaces. For instance, user preferences could include
the robot maintaining a certain speed or going in a direction preferred by the user, which is
particularly crucial for users with physical disabilities who may require wider clearances to be
comfortable. Socially aware navigation, on the other hand, involves the robot recognizing and
respecting human social norms and personal spaces, such as not coming too close to people
or appropriately navigating around groups without causing disruption. A properly implemented
navigationsystemallowsassistiverobotstounderstandandadapttotheuserâ€™spreferences,navigate
efficientlyincrowdedordynamicspaces,andinteractwiththeenvironmentinasociallyacceptable
manner(GaoandHuang2022).
The navigation system can be divided into a Global Planner and a Local Planner. The Global
Planner is responsible for generating an optimal and feasible path from start to destination, taking
into account the userâ€™s specific preferences for the avoidance of crowded areas. This planner
ensures that the overall path aligns with the userâ€™s needs and comfort. On the other hand, The
LocalPlannerhandlesreal-timenavigationbyadaptingtoimmediateobstaclesandenvironmental
changes,incorporatingsocialawarenessto sensitivelynavigatehumanenvironmentsandmaintain
appropriate distances from people. It also allows users to manually adjust the robotâ€™s motion to
meettheirimmediateneedsandpreferences. AsshowninFig.1,theGlobalPlannercombinesthe
userâ€™spreferencestogenerateanoptimalandfeasiblepath,whiletheLocalPlannerintegratessocial
awarenesstoenabletherobottoanticipateandnavigatehumanenvironmentsmoregracefully.
Theintegrationoftheuserâ€™scontrolandpreferenceiscrucialforfosteringtrustbetweentheuser
andtheassistivewheelchair,enhancingtheuserâ€™swillingnesstorelyontheassistivewheelchairfor
daily activities. In the absence of such features, users may experience significant challenges and
reluctance, as the lack of synchronization between user needs and the wheelchairâ€™s operations can
lead to a diminished sense of autonomy and security. Moreover, by integrating social awareness,
anassistivewheelchaircananticipateandnavigatehumanenvironmentsmoregracefully,reducing
the cognitive burden on users and enabling smoother, more natural interactions within social
settings (Avelino et al. 2021). Without this capability, there are inherent risks that users may find
3duringtransit,thusprovidingamoreinteractiveandpersonalizednavigationexperience. Thedirect
involvementcansignificantlyenhanceusertrustandsatisfactionbymakingthenavigationprocess
more transparent and responsive to immediate user needs. Inspired by (Lu et al. 2014), a User
Preference Field (UPF) layer is applied to a multi-layer cost map for global path planning. This
proposedUPFmaplayercansuccessfullyincorporatetheuserâ€™spreferencesintopathselectionand
generatecollision-freepathsthattheuserprefersintheenvironment.
LocalPathPlanning
Sincetheassistivewheelchairisdesignedtoserveusers,sharedcontrolplaysanimportantrole
in gaining peopleâ€™s trust (Oksanen et al. 2020) and adapting itself into society (Yin et al. 2021;
Cubuktepe et al. 2023; Desai et al. 2009). Traditional navigation systems either consider a fixed
degree of humanâ€™s control command velocity as the primary input to operate the robot or make a
mobilerobotnavigateautonomouslywithoutahumanâ€™scontrol. Theseapproachesfailtoconsider
the varying preferences of users, who may desire different levels of involvement in controlling the
robot, thereby affecting their satisfaction and the usability of the technology. Some navigation
methods,suchastheArtificialPotentialField(APF)(Petryetal.2010),allowusersafixeddegree
ofcontroloverthenavigationprocess. Whilethisapproachconsidersuserinput,itdoesnotaccount
forthevaryingdegreestowhichindividualsmaywishtocontrolthenavigation,potentiallylimiting
personalizationandusersatisfaction.
Furthermore, as users often are unfamiliar with the kinematics of a robotic platform (e.g.,
wheelchair), it is challenging for them to manually control the device to avoid all static and
dynamic obstacles in the environment. This unfamiliarity makes it difficult for users to manually
avoid obstacles, leading to potential collisions when mistakes occur in control. The current state
of the art does not adequately address these user-centric concerns, emphasizing the need for more
adaptableandintuitivecontrolsystemsthatcancatertothespecificneedsandskilllevelsofdiverse
users. This adaptability is essential for enhancing user experience and ensuring safe interaction
withtherobotincomplexenvironments.
To address this issue, this paper proposes a Socially-aware Shared control-based Model
5Predictive Control with DynamicControl Barrier Function (SS-MPC-DCBF) that enablesa Local
Planner to let the user adeptly take control over the obstacle avoidance problem. The proposed
method utilizes Dynamic Control Barrier Function (DCBF) to let the robot avoid the obstacles in
advanceandgenerateasafecollision-freetrajectory(Jianetal.2022). Additionally,auservelocity
prediction-based social area detection is integrated into the Local Planner to make the robot avoid
pedestriansâ€™ personal space/area and adapt to the social environment. Finally, a user can make
their choice to take partial or complete control over the navigation process. This Local Planner
not only maintains a socially respectful distance from ambient humans but also facilitates a more
trustful and comfortable interaction for individuals controlling the robot, such as PWD navigating
a wheelchair. The integration of advanced control mechanisms and social awareness presents a
significantadvancementinthedevelopmentofuser-centric,sociallyawareroboticsystems.
ResearchObjectivesandContributions
Drawing upon the insights presented in (Petry et al. 2010; Jian et al. 2022; Wang et al. 2022),
we propose a socially aware shared control-based dynamic navigation system that takes the userâ€™s
preference in path choosing and the userâ€™s desire for control during the navigation process into
consideration. As shown in Fig 2, we divide our navigation system into two parts: Global Planner
used for global path choosing and Local Planner for executing the path plan and avoiding any
collisionswithdynamicobstacles. Generallyspeaking,oursharedcontrol-basednavigationsystem
desirestoaddressfourcategoriesofchallengesinbuiltenvironments.
First, toward the issue that a user cannot directly choose their own preference-based path,
our Global Planner takes the adaptive userâ€™s path preference into consideration in the global path
planningalgorithmandmakesthenavigationsystemgenerateauserdesiredcollision-freepath. For
example, if a user prefers quieter, less trafficked routes, the Global Planner can adapt to prioritize
thesepreferencesinitspathplanning. Thiscapabilitysignificantlyenhancesthenavigationsystemâ€™s
responsivenesstoindividualneeds,improvingusersatisfactionandsafety.
Second, in order to let the robotic platform adapt to the social environment, our approach
integratessocialareas(spaces)intotheobstaclemodelingpipelineintheLocalPlannertoprevent
6the robot from getting too close to any pedestrians or obstacles detected. This integration ensures
the robot maintains a respectful distance from pedestrians and avoids encroaching on personal
spaces,therebypreventingdiscomfortorsafetyissues.
Third,tocreateasafeandefficientpathinadynamicenvironmentandavoidanyfuturecollision
with moving obstacles, we leverage the Dynamic Control Barrier Function (Ames et al. 2019) to
let the robot avoid the obstacles in advance, even when they are beyond a pre-defined proximity
threshold. This ensures a smoother and safer navigation experience, maintaining an efficient path
withoutsuddendeviationsthatcouldconfuseoralarmtheuser. Finally,toaddressthechallengeof
userdistrustinautonomousnavigation,oursystememployssharedcontrol-basedModelPredictive
Control (MPC) as the Local Planner, allowing users to dictate their level of involvement in the
navigationprocess.
Thisfeatureempowersuserstoeithertakedirectcontrolorlettherobotnavigateautonomously
based on their immediate preferences and situations, enhancing their sense of security and control
over the robot. Without these features, users might experience increased anxiety due to close
proximity to other pedestrians, potential collisions with unforeseen obstacles, and a feeling of
disconnection or lack of control over the robotic platform, ultimately leading to diminished trust
andsatisfactionwiththetechnology.
Ourproposednavigationapproachhasthefollowingcontributions:
â€¢ We propose a novel shared control-based navigation framework for assistive mobile robots
integratingauserâ€™sdesireforpathpreferenceandcontrolduringnavigation.
â€¢ A Global Planner, designed based on user preferences, is developed and incorporated into
theglobalplanningpipeline,allowinguserstocustomizetheirpreferredglobalpath.
â€¢ We propose the SS-MPC-DCBF Local Planner to generate safe collision-free trajectories
inadynamicenvironment.
â€¢ We integrate a detection and group space modeling method based on the personal and
group spaces inside the Local Planner, which prevents the robot from intruding into other
pedestriansâ€™socialspaces/areas.
7RELATED WORK
In this paper, our goal is to create a robotic wheelchair that is capable of integrating human
preferences (Shared Control-based Navigation), responding quickly to dynamic objects (Local
PlannerforDynamicObstacleAvoidance),andadaptingtocomplexsocialenvironments(Socially-aware
Navigation),whicharethethreespecificdomainsthisresearchaddresses.
SharedControl-basedNavigation
Considering a wheelchairâ€™s role as an intimately user-integrated robotic system, it becomes
essential to incorporate user preference for global and local planning. Therefore, within our
currentframework,wehaveincorporatedmethodsandconceptsofsharedcontrol. Thisintegration
underscores the critical balance between autonomous robotic function and the adaptation to
individualuserpreferences,acornerstoneinadvancinguser-centricroboticmobilitysolutions.
Mostoftheresearchinmobileassistiveroboticsextensivelyexploredtwoendsofthespectrum
-fullyautonomousandfullymanual. Inthefullyautonomousnavigationfield,asignificantnumber
ofpathplanningandobstacleavoidanceapproachesareproposed. Potentialfieldmethods(Khatib
1986),A*graphsearch(GoyalandNagla2014),D*fordynamicenvironments(Stentz2011),and
Rapidly-exploring Random Tree (RRT) (Karaman and Frazzoli 2011) and others are among those
widelystudied. Recently,studiesconsideringhumanpresenceasaninteractivecomponentrequiring
communicationhavebroughtanewdimensiontothefieldofmobilerobotnavigation.(Changetal.
2017) proposed iterative A* for the user to choose their preferred path and utilize Support Vector
Machine (SVM) to allow the robot to imitate the usersâ€™ preference. Although some autonomous
navigation can generate an optimal path both globally and locally, the desire to feel safe and
comfortable is not taken into consideration, which can cause human-robot trust issues when the
robotnavigatesautonomously.
In the fully manual control field, a lot of work focuses on integrating peopleâ€™s preferences
into the path planning pipeline and allowing the system to generate the user preference-based
path. (Yanco1998)proposedanassistivewheelchairsystemtoprovidedifferentpathandobstacle
informationontheinteractiveuserinterface(UI)tohelptheusermakedecisionsonpathplanning.
9Recently, (Mantha et al. 2020) utilized an indoor attribute-loaded graph network to take human
preferencesorphysicalconstraintsintoaccountduringpathplanning. Althougharoboticassistive
systeminmanualcontrolcanachievehighperformanceinglobalhigh-levelplanning,theyarenot
effectivewithmicro-levellocalplanningandaccuracy(Koontzetal.2015).
Shared control-based navigation lies in the middle-ground that incorporates elements of both
andhasplayedanimportantroleingainingusertrustduringtherobotnavigationphase(Yinetal.
2021;Cubuktepeetal.2023;Desaietal.2009). Someresearchfocusesonapplicationswithinthe
Global Planner, for instance, directly influencing global path planning through user input (Chang
et al. 2017). However, such methods tend to be relatively inefficient in practical operation and
may cause difficulties in human interaction. There are also studies proposing interfaces that allow
users to add obstacles to the global map (Karanam et al. 2022), but this approach might lead
to the problem of being unable to generate effective paths. Additionally, some prior studies have
focusedonapplicationsintheLocalPlanner. Forexample,researchbasedontheArtificialPotential
Field (APF) (Khatib 1986) method maps the userâ€™s joystick operations as a force exerted on the
robot (Petry et al. 2010). However, this method carries the risk of the robot being "frozen" in
certainpositionsduetobalancedforces.
Inourwork,theconceptofsharedcontrolisimplementedthroughenhancementsforbothglobal
andlocalplanners. Wefirstintegratedhumanpreferencesintotheglobalplannerbyimprovingthe
A* algorithm. Subsequently, we incorporated these preferences into the local planner by refining
thecostfunctionoftheModelPredictiveControl(MPC).
LocalPlannerforDynamicObstacleAvoidance
Inroboticsandautonomousvehiclenavigation,a"LocalPlanner"ispartofthemotionplanning
systemthatcalculatesshort-termpathsormaneuversfortherobotorvehicle. RegardingtheLocal
Planner, currently there are many solutions available in the literature. For example, the Dynamic
WindowApproach(DWA)(Fox1997)focusesongeneratingmultiplepathsfromtherobotâ€™scurrent
state and then selecting the optimal one, considering both the direction of the robotâ€™s goal and
obstacleavoidance. TheTimedElasticBand(TEB)(Verlag2012)visualizestheplannedpathasan
10elasticbandthatgetsstretchedorcompressedbasedondynamicconstraints,effectivelymoldingthe
pathaccordingtotheenvironmentâ€™sconstraints. TheArtificialPotentialField(APF)(Khatib1986)
method conceptualizes the robotâ€™s movement as being influenced by artificial forces: attractive
forces pulling it towards the goal and repulsive forces pushing it away from obstacles, navigating
the robot through a balance of these forces. However, their performance can be significantly
impactedincomplexenvironments,suchasthosewithmanypedestrians(Kobayashietal.2021).
MPC (Model Predictive Control) is another widely used method in Local Planners, but most
MPC implementations focus on lane tracking and static obstacle avoidance (RÃ¶smann 2020; Turri
et al. 2013) without further addressing obstacle avoidance for dynamic objects. To address
the dynamic obstacle avoidance and to enhance the robotâ€™s obstacle avoidance capability, some
algorithms that integrate the predicted trajectories of moving objects into the MPCâ€™s cost function
can greatly enhance dynamic obstacle avoidance capabilities (Poddar et al. 2023; Wang et al.
2022). TheseapproachesworkbyincludingthefuturepositionsofpedestriansaspartoftheMPC
costfunction,allowingtherobottoanticipateandmakedecisionsinadvancetoavoidpedestrians.
However,adrawbackofthisapproachisthatMPCwillnotconfinetheoptimizationproblemifthe
distancebetweentherobotandobstaclesislargerthanadefinedsocialdistance.
Consequently, the robot only reacts when it is within a specified distance from obstacles.
However, in complex and dynamic environments, this fixed distance may not be sufficient for the
robottorespondandavoidobstacleseffectively.
To mitigate this, some researchers have added Control Barrier Function (CBF) (Ames et al.
2019) constraints on top of MPC to further improve safety (Zeng et al. 2021a; Zeng et al. 2021b;
Jian et al. 2022). CBF can be considered a constraint that keeps the robot away from obstacles.
By incorporating CBF as a hard constraint into the MPCâ€™s cost function, the robot can make
decisionsaboutobstaclesearlierratherthanbeingsolelyrestrictedbythepredictionhorizon. This
integrationenablesproactiveobstacleavoidance,astheCBFconstraintmathematicallyguarantees
safe distancing from obstacles by dynamically adjusting the robotâ€™s trajectory in anticipation of
future positions, thereby enhancing safety and efficiency in navigation. However, the original
11papers that proposed this approach simply model all obstacles as ellipses. Modeling humans and
allotherobjectsasellipsesoverlooksthecomplexityofhumanbehaviorandpsychology,especially
consideringthatwheelchairs,intheirdailyuse,needtointeractextensivelywithpeopleanduniform
ellipticalshapesmaynotalwaysbethebestprojectionoftheusersâ€™dynamically-changingpersonal
spaces. Therefore, we introduce social space and human motion prediction from social navigation
tofurtheroptimizethenavigationapproach.
Socially-awareNavigation
Social navigation refers to the strategies and methods employed by robots to navigate through
environments that involve interaction with humans or other agents, focusing on maintaining safe,
socially acceptable, and efficient movement. It is introduced in the survey (Mavrogiannis 2023)
that it is a vast field, and there have been many related studies in the past thirty years. These
studies have evolved from initially focusing on simple engineering principles to now integrating
multiple fields, including human-robot interaction, psychology, and sociology. Here, we focus on
onespecificissue: howtointegratesocialcharacteristics,orhumaninformation,intotheplanning
processtoachievebetterresults. Forexample,byincorporatingdatasuchasthepositions,speeds,
and even postures and facial expressions of pedestrians, the robotic platform can more effectively
planitsavoidancepathsandinteractionswithpedestrians.
One of the most common and direct methods to incorporate human information is to predict
human behaviors (mainly motion trajectories) (Alahi 2016; Gupta 2018) and then integrate this
predictive information into planning. Examples of this approach include incorporating pedestrian
trajectory prediction into the cost function of an MPC framework (Wang et al. 2022; Poddar
et al. 2023). Some approaches are modeling human behavior and trajectories from a geometric or
topologicalrepresentationperspectivebeforeintegratingthemintotheplanner(Mavrogiannis2017;
Mavrogiannis 2020). Others, starting from social norms and human behavioral habits, introduce
social and psychological knowledge, such as the concept of social space described in their studies
(Hayduk1994;Poddaretal.2023).
Socialspaceisaconceptthatpertainstotheinvisiblebufferzoneindividualsnaturallymaintain
12around themselves to feel comfortable and unthreatened while moving in their environment.
Discovered through extensive observation and experimentation, it reveals that individuals have
a relatively comfortable personal space while walking (Kirby 2010). Based on social space, the
concept of social groups has been utilized to enable robots to avoid obstacles in dense pedestrian
environments (Gadol 1981; Wang 2020; Wang et al. 2022). The concept of social groups emerges
from substantial observation and experimentation to account for the collective movement and
interaction patterns of these groups, indicating that people often walk in groups. There are also
studiesnotfocusedonintegratingspecifichumanbehavioralinformationbutinsteadconcentrating
on learning the principles behind human behavior to enhance robot decision-making (Yu Fan
Chen;Liu2016).
In this paper, to enhance the navigational performance of robotic wheelchairs in complex
social environments, we have incorporated some concepts from social navigation. These include
the prediction of pedestrian trajectories, modeling of pedestrian social spaces, and ultimately
integrating this information into the MPC-DCBF framework so that our algorithm can achieve
safetyandefficiencyinnavigationwithincomplexenvironments,especiallyinpedestriansettings.
RESEARCH METHODOLOGY
AsdepictedinFig.2,thenavigationframeworkcomprisesthreemaincomponents: socialarea
detection, a user-preference-driven global planner, and an SS-MPC-DCBF local planner. Fig. 3
illustratesthecomprehensivesystemflowchart. TheGlobalPlannerutilizesanA*algorithm(Goyal
and Nagla 2014), tailored to user preferences, which processes the occupancy grid map (OGM)
alongside the userâ€™s preferred direction, thereby generating a user-preference field (UPF) layer.
Here, the constructed OGM and articulated user preferences feed into the global planning module
to generate an initial navigational strategy. This global plan, along with inputs from 3D LiDAR
sensors and user control commands, is further processed through our Local Planner. The Local
Planner employs the MPC-DCBF algorithm that incorporates a shared control mechanism to
output the final command velocities for the robotâ€™s movement. This design enables users to assert
controloverbothglobalandlocalplanningphases,therebyenhancingoverallcontrolaccuracyand
13Algorithm1User-preferencefield
Input: ğ‘¥ ,ğ‘¦ ,ğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘ ,ğ‘ ,ğ‘ ,Î£
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ ğ‘¢ğ‘ ğ‘’ğ‘Ÿ 0 ğ‘¥ ğ‘¦ ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
Output: ğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
1: ğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘ â†ğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘ âŠ²Initialization
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ 0
2: for ğ‘¥=0toğ‘ do
ğ‘¥
3: for ğ‘¦=0toğ‘ do
ğ‘¦
4: ğ‘(ğ‘¥,ğ‘¦) âˆ¼N((ğ‘¥ ,ğ‘¦ )), Î£ ) âŠ²Calculatetheprobabilitydensity
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ ğ‘¢ğ‘ ğ‘’ğ‘Ÿ ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
5: ğ‘(ğ‘¥,ğ‘¦) â†ğ¶ğ‘œğ‘›ğ‘£ğ‘’ğ‘Ÿğ‘¡2ğ‘€ğ‘ğ‘ğ‘‰ğ‘ğ‘™ğ‘¢ğ‘’(ğ‘(ğ‘¥,ğ‘¦))
6: if ğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘ (ğ‘¥,ğ‘¦) < ğ‘(ğ‘¥,ğ‘¦)then âŠ²Whetherisoccupiedbystaticobstacles
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
7: ğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘ (ğ‘¥,ğ‘¦) â†ğ‘(ğ‘¥,ğ‘¦)
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
8: endif
9: endfor
10: endfor
11: returnğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
TABLE1. VariableDefinition.
Variable Definition Variable Definition
ğ‘¥ position of the center ğ‘¦ position of the center
ğ‘¥ ğ‘¦
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
for user preference point for user preference point
The costmap after applying
ğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘ The original costmap ğ‘ğ‘œğ‘ ğ‘¡ğ‘šğ‘ğ‘
0 ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
user-preference field
The total length of the The total width of the
ğ‘ ğ‘
ğ‘¥ ğ‘¦
costmap costmap
Distance between the pixel
The covariance of the
Î£ ğ‘‘ and the user preference
ğ‘¢ğ‘ ğ‘’ğ‘Ÿ
UPF
point
The probability density The cost value
ğ‘(ğ‘¥,ğ‘¦) ğ‘(ğ‘¥,ğ‘¦)
of the pixel of the pixel
map,ğ‘(ğ‘¥,ğ‘¦)representsthecostvalueinthemappixeland ğ‘(ğ‘¥,ğ‘¦)representstheprobabilitydensity
of the Gaussian distribution. The algorithm for calculating the UPF is shown in Algorithm 1 and
TABLE1showsthedefinitionofthevariables.
SS-MPC-DCBFLocalPlanner
Uponderivingaglobalpathplanfromtheuserpreferences-basedpathplanner,ourmethodology
employs the SS-MPC-DCBF for generating the command velocity, which is crucial for robot
navigation and ensuring a collision-free trajectory within dynamic social settings. As shown in
Fig. 6, the 3D LiDAR input is used to detect pedestrians using DBSCAN and generate the social
17SocialAreaDetection
AsshowninFig.7,thehumandetectionandsocialareaconstructionisdividedintothreesteps:
Human Detection, Kalman Filter-based Trajectory Prediction, and Social Area generation. First,
forthehumandetectionpart,sincetheend-pointwillclusteredifitislocatedatanypersonâ€™sbody,
weuseDensity-BasedSpatialClusteringofApplicationswithNoise(DBSCAN)(Jiangetal.2023)
to cluster the endpoints combined set q = ğ‘ from 3D LiDAR data to detect pedestrians and
Ãğ‘–=1:ğ‘› ğ‘–
use the average position of each end-point to represent the location of the people. The equation is
shownbelowin(3):
P â†âˆ’ ğ·ğµğ‘†ğ¶ğ´ğ‘(q|ğœ– )
ğ‘‘
ğ‘› (3)
1
x = x
Ã• ğ‘
ğ‘› ğ‘–
ğ‘–=1
where P represents the set of pedestrians detected and ğœ– represents the distance threshold for
ğ‘‘
pointclustering. qrepresentsthesetofend-pointsthatisusedfordetection. x = (ğ‘¥,ğ‘¦)istheposition
ofthepedestriandetectedfromtheaveragepositionsofeachend-pointx = (ğ‘¥ ,ğ‘¦ ),ğ‘ âˆˆ q.
ğ‘ ğ‘ ğ‘ ğ‘–
ğ‘– ğ‘– ğ‘–
After the detection of pedestrians, we use Kalman Filter (KF) (Kalman 1960) to track each
pedestrian and make velocity prediction based on the previous positions based on the previous
positionsandvelocity. TheequationsforKFpredictionareshownin(4):
xğ‘ ğ‘– = ğ¾ğ¹(xğ‘ ğ‘– ,ğ‘ƒğ‘ ğ‘– )
ğ‘˜+1|ğ‘˜+1 ğ‘˜|ğ‘˜ ğ‘˜|ğ‘˜
ğ‘ ğ‘
x ğ‘– âˆ’x ğ‘–
vğ‘ ğ‘– = ğ‘˜+1|ğ‘˜+1 ğ‘˜|ğ‘˜ (4)
ğ‘˜+1 ğ‘‡
ğ‘ âˆˆ P
ğ‘–
ğ‘ ğ‘
wherex ğ‘– isthefuturestatepredictedfrompeopleâ€™scurrentstatex ğ‘– anderrorcovariance
ğ‘˜+1|ğ‘˜+1 ğ‘˜|ğ‘˜
ğ‘ ğ‘
ğ‘ƒ ğ‘– . Thevelocityv ğ‘– iscalculatedfromthetwoconjointstateswithsampletimeğ‘‡.
ğ‘˜|ğ‘˜ ğ‘˜+1
Inspired by (Kirby 2010), the personal space can be modeled as an Asymmetric Gaussian
function (AGF). This function is used in the literature to define the personal space decided by a
personâ€™s velocity. Since individuals are usually more aware of people in front of them than the
19direction. Theequationforgeneratingthesocialdistanceisshownbelowin(5):
1
ğœ = max( ,2|vğ‘ ğ‘–|)
â„ 2 ğ‘˜
2
ğœ = ğœ
ğ‘  â„
3
1
ğœ = ğœ
ğ‘Ÿ â„
2
(5)
ğ‘
ğœ for 0 < ğ›¿ ğ‘– < ğœ‹
ğœ = ï£± ï£´ â„ ğ‘˜
ï£´ï£²
ğœ for ğ›¿ğ‘ ğ‘– > ğœ‹ ğ‘œğ‘Ÿ ğ›¿ğ‘ ğ‘– 6 0
ï£´ ğ‘Ÿ ğ‘˜ ğ‘˜
ï£´
ï£³ ğ‘
ğ‘™ğ‘ ğ‘– =
ğ‘˜ cos2(ğ›¿ğ‘ğ‘–) sin2(ğ›¿ğ‘ğ‘–)
ğ‘˜ + ğ‘˜
2ğœ2 2ğœ2
ğ‘ 
where ğœ representsthecovarianceinfrontdirectionsamedirectionwhereas ğœ representsthe
â„ ğ‘Ÿ
ğ‘
covariance in opposite direction. ğœ represents the covariance in the side direction. ğ‘™ ğ‘– represent
ğ‘  ğ‘˜
ğ‘
the distance in the direction which has ğ›¿ ğ‘– angle with the moving direction of pedestrians. ğ‘ is a
ğ‘˜
scalefactor.
In summary, our method starts by detecting people and predicting their velocity. With this
information, we create a social area around each person for the robot to recognize. The following
Local Planner treats these social areas as obstacles, which helps the robot avoid bumping into
people, making its movement safe and respectful of personal space in places where people are
movingaround.
SharedcontrolbasedsociallyawareMPC-DCBF
It has been proven that Dynamic Control Barrier Functions (DCBF), which consider the
movementofobstacles,canbeusedforunmannedaerialvehicles(UAVs)andmobilerobots(Zeng
etal.2021b;Glotfelteretal.2019;Singletaryetal.2020;Amesetal.2019). However,thecurrent
MPC-DCBF Local Planner shapes the obstacles as an ellipsoid based on the clustering result of
DBSCAN and does not take the userâ€™s control into the path planning pipeline. This can lead to
two issues: First, since the ellipsoid generated from the clustering result is too close to the body
of the person, the robot will be very likely to generate a local path that intrudes into the personal
areaofotherpedestrians. Second,thecurrentMPC-DCBFmethoddoesnottaketheuserâ€™scontrol
21Oğ‘ = Oğ‘ ğ‘–
Ã˜
ğ‘˜ ğ‘˜
ğ‘–=1,2,...,ğ‘›
(6)
xğ‘ = xğ‘ ğ‘–
Ã˜
ğ‘˜ ğ‘˜
ğ‘–=1,2,...,ğ‘›
We combine all obstacle positions and shapes together and define the state variable as ğ‘‹ =
ğ‘˜
[x ,xğ‘ ,O ,Oğ‘ ] âˆˆ R3Ã—(2ğ‘›+2). Forsafe-criticalcontrol,wedefineasafesetğ¶ asthesupersetofthe
ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜
controlbarrierfunction â„ asshownin(7):
ğ¶ = {ğ‘‹ âˆˆ X : â„(ğ‘‹ ) â‰¥ 0},X âˆˆ R3Ã—(2ğ‘›+2) (7)
ğ‘˜ ğ‘˜
As shown in Fig. 9, we define the Control Barrier Function â„(ğ‘‹ ) from the distance between
ğ‘˜
therobotandpedestriansandtheirsocialareainaquadraticform. Theequationisdescribedbelow
in(8):
â„(ğ‘‹ ) = kx âˆ’xğ‘ ğ‘–k âˆ’ğ‘™ âˆ’ğ‘™ğ‘ ğ‘– ğ‘“ğ‘œğ‘Ÿ ğ‘˜ = 0,1,...,ğ‘ âˆ’1 (8)
ğ‘˜ ğ‘˜ ğ‘˜ 2 ğ‘˜ ğ‘˜
ğ‘ ğ‘
where x and x ğ‘– represent the positions of robot and pedestrians around it. ğ‘™ and ğ‘™ ğ‘– are the
ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜
distancevaluesaccordingtothesocialareagenerationshowninFig.9.
Forourdiscrete-timesystem,wedefinetheDCBFconstraintsasbelowin(9):
Î”â„(ğ‘‹ ,ğ‘¢ ) â‰¥ âˆ’ğ›¾â„(ğ‘‹ ),0 < ğ›¾ â‰¤ 1 (9)
ğ‘˜ ğ‘˜ ğ‘˜
whereÎ”â„(ğ‘‹ ,ğ‘¢ ) := â„(ğ‘‹ )âˆ’â„(ğ‘‹ ). ğ›¾ isascalarfactorcontrollingtheeffectofDCBF.The
ğ‘˜ ğ‘˜ ğ‘˜+1 ğ‘˜
lower bound of â„(ğ‘‹ ) decreases exponentially with the rate 1âˆ’ ğ›¾. After defining the constraints
ğ‘˜
fromtheDCBF,wecanformulateoursharedcontrol-basedMPCproblem. Weemployanon-linear
MPCformulation(Wangetal.2022)fornavigationinanindoorenvironment.
ToformulatetheMPCproblem,wefirstdescribetherobotâ€™sdynamicmodelbyadiscrete-time
equation x = ğ‘“(x ,u ), where x = [ğ‘¥ ,ğ‘¦ ,ğœƒ ]ğ‘‡ âˆˆ X âŠ‚ R3 and u = [ğ‘£ ,ğœ” ]ğ‘‡ âˆˆ U âŠ‚ R2.
ğ‘˜+1 ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜
Accordingto(Filipescuetal.2011),thekinematicequationofthedifferentialrobotisshownbelow:
23cos(ğœƒ ) 0
ï£® ğ‘˜ ï£¹
ï£¯ ï£º
Î”x = ï£¯
ï£¯
sin(ğœƒ ğ‘˜) 0 ï£º
ï£º
u ğ‘˜Î”ğ‘¡
ï£¯ ï£º (10)
ï£¯ ï£º
ï£¯ 0 1 ï£º
ï£¯ ï£º
ï£¯ ï£º
x = xï£° +Î”x ï£»
ğ‘˜+1 ğ‘˜
We then employ a non-linear MPC formulation (Filipescu et al. 2011) for navigation in an
indoorenvironment. Theoptimizationproblemisshownbelowin(11):
ğ‘âˆ’1
uâˆ— = arg min J (x ,xË† ,u ) + J (x )
ğ‘˜ Ã• ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘ ğ‘
u âˆˆU
ğ‘˜ ğ‘˜=0
ğ‘ .ğ‘¡.x = ğ‘“(x ,u )
ğ‘˜+1 ğ‘˜ ğ‘˜
(11)
x âˆˆ X
ğ‘˜
u âˆˆ U
ğ‘˜
Î”â„(ğ‘‹ ,u ) â‰¥ âˆ’ğ›¾â„(ğ‘‹ ),0 < ğ›¾ â‰¤ 1
ğ‘˜ ğ‘˜ ğ‘˜
where J represents the stage cost of each time step and J represents the terminal cost at the
ğ‘˜ ğ‘
last time step. ğ‘“ represents the kinematic dynamic of the differential robot model shown in (10).
X and U are the feasible and reachable set of state and input. x and xË† represent the actual state
ğ‘˜ ğ‘˜
andreferencestateoftherobot.
In order to let the user take partial control over the robotâ€™s motion, we take the predicted state
generatedbytheuserâ€™scontrolsequenceintocostfunction J shownin(12).
ğ‘˜
J (x ,xË† ,u ) = Jğ‘ (x ,xË† ) + Jğ‘¢(u )
ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜
Jğ‘ (x ,xË† ) = (x âˆ’xË† )ğ‘‡Q (x âˆ’xË† )
ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘˜ ğ‘  ğ‘˜ ğ‘˜
(12)
xË† = ğœ‚(ğ‘–)xğ‘¢ğ‘ ğ‘’ğ‘Ÿ + (1âˆ’ğœ‚(ğ‘–))xğ‘”ğ‘™ğ‘œğ‘ğ‘ğ‘™
ğ‘˜ ğ‘˜ ğ‘˜
Jğ‘¢ = uğ‘‡Q u
ğ‘˜ ğ‘˜ ğ‘¢ ğ‘˜
where Jğ‘  is the state cost and Jğ‘¢ is the input cost. xË† is the reference trajectory considering
ğ‘˜ ğ‘˜ ğ‘˜
both the global path reference state xğ‘”ğ‘™ğ‘œğ‘ğ‘ğ‘™ and userâ€™s control sequence xğ‘¢ğ‘ ğ‘’ğ‘Ÿ. ğœ‚(ğ‘–) âˆˆ [0,1] is the
ğ‘˜ ğ‘˜
24weight of the userâ€™s control sequence, which will decide how much human control the robot will
take. ğ‘– is the number of control signals that the user gives within a time frame. To calibrate user
control levels in our system, we developed a weight function based on user control frequency,
reflecting their intent to steer the wheelchair. We use an exponential function to model the userâ€™s
intentshownin(13).
ğœ‚(ğ‘–) = 1âˆ’ğ‘’ğ‘– (13)
As shown in Fig. 9, the reference path combines the userâ€™s control signal and the global path
plan. The SS-MPC-DCBF Local Planner will then allow the robot to follow the combined path
whileavoidingintrusionsintothepresentpedestriansâ€™socialarea.
EXPERIMENTAL RESULTS
Our evaluation is divided into two parts - Global Planner evaluation and Local Planner
evaluation. In this section, we first introduce our experimental setup for the Global Planner
andtheLocalPlanner. Then,fortheGlobalPlannerevaluationpart,weevaluateourproposeduser
preference-based Global Planner by comparing it with the state-of-art user preference-based path
planning method over time, trajectory length, and error to the ground truth user desired path. For
the Local Planner part, we evaluate our SS-MPC-DCBF in both static and dynamic environments
bycomparingouralgorithmwithotherstate-of-the-artLocalPlanners.
ExperimentalSetup
We designed several different environments for testing the robot navigation system. Shown in
Fig. 10, we separate our experiment scenes into dynamic experiments and static experiments. For
the Global Planner evaluation, as shown in the right figure, we created an open area that simulates
a large office environment where the userâ€™s preferences can be applied. In this open environment,
we enable the robot to pass the central obstacle and avoid going from the right side, where most
obstaclesarelocated.
FortheLocalPlanner,weconducttwodifferentexperimentstotestitsperformanceinbothstatic
25LocalPlannerEvaluation
As for the Local Planner evaluation, we separate our algorithm into two different experiments,
the static experiment and the dynamic experiment. For the indoor static experiment, we create a
challengingandnarrowcorridorenvironmenttotesttheperformanceofourSS-MPC-DCBFLocal
Planner. For the dynamic experiment, we designed three different crowded scenes for the robot to
testitsperformanceofobstacleavoidanceandefficiency.
StaticExperiment
AsshowninthemiddlefigureofFig.10,wecreatefourcorridorsceneswhereseveralobstacles
are distributed around. This scene is used to test the performance of our SS-MPC-DCBF Local
Planner compared with fully autonomous navigation and a fully manual control algorithm. After
theexperiment,welettheuserratetheirsatisfactionbasedona1-5scale. Weassessedtheplanner
based on time, success rate, collision rate, user satisfaction, trajectory length, and angle difference
summaryrepresentingsmoothness(GuillÃ©nRuizetal.2020)againstfullymanualandautonomous
controls. TheresultsarepresentedinFig.13.
The findings from our study reveal that the proposed SS-MPC-DCBF framework significantly
surpasses traditional fully manual and autonomous navigation modes in terms of efficiency and
user satisfaction. Although manual control provides the potential for users to have the most direct
routes,theirlackoffamiliaritywiththewheelchairâ€™sdynamicsmakestherobothardtoavoidstatic
obstacles, increasing the risk of collisions and decreasing overall success rates. Furthermore, a
lack of knowledge of the robotâ€™s dynamics often leads users to make excessive adjustments to its
directionwhennavigatingclosetoobstacles,leadingtotrajectoriesthatarenotablylesssmooth.
In contrast, while autonomous navigation is adept at identifying and following the shortest
possible path and generally succeeds in avoiding obstacles, it faces difficulties in more complex
scenarios, such as navigating around centrally located obstacles or dealing with sharp turns. In
these instances, autonomous systems may require extended periods to generate a feasible route or,
incertaincases,mightcausethe"freezingrobot"problem(TrautmanandKrause2010).
Our proposed SS-MPC-DCBF Local Planner merges the strengths of both autonomous and
29moreeffectively. Thishybridapproachenhancesnavigationefficiency,offeringabalancedsolution
thatleveragesthebenefitsofbothcontrolschemes.
DynamicExperiment
According to (Poddar et al. 2023), we create three different dynamic scenarios that the
robotic wheelchair may encounter in a crowded environment to test the performance under social
constraints. ThethreescenesareshowninFig.14andintroducedbelow:
â€¢ Crossing Experiment: Five pedestrians and the robot move between the corners of the
workspace. Pedestrians are instructed to navigate naturally with a normal walking speed.
In this case, the users and robot are reactive to each other and are able to avoid each other.
ThesetupisshowninFig.14a.
â€¢ Aggressive Experiment: One pedestrian and the robot switch each otherâ€™s position. In
this scenario, the robot will ignore the existence of the pedestrian and move to its goal
"aggressively". Therobotwillneedtogenerateacollision-freepathtoavoidcollidingwith
thepedestrian. ThisexperimentsetupisshowninFig.14c.
â€¢ DistractedExperiment: Onepedestrian,startingfromtheleftsideoftherobot,firstmoves
totherightsidebutquicklyshiftsbacktotheirinitialposition. Inthiscase,therobotneeds
to deal with the situation when the pedestrian suddenly changes their walking direction.
ThesetupisshowninFig.14e.
In order to simulate the obstacle avoidance and walking of real pedestrians, we use Reciprocal
Collision Avoidance (RVO2) (Li et al. 2019) as the pedestrian simulator in the created simulation
environment. We set the preferred speed for robots and pedestrians to be 1.2ğ‘š/ğ‘ , which is the
normalwalkingspeedforpeople(Montufaretal.2007).
To evaluate the performance of the proposed method in the dynamic social environment, we
compareourapproachwiththreebaselineapproaches:
â€¢ MPC (Turri et al. 2013): Autonomous linear MPC controller using simplified models and
31consideringdistanceconstraintswithvariousEuclideannorms.
â€¢ MPC-DCBF (Jian et al. 2022): Autonomous MPC tracking controller considering safe
constraintswithdiscretetimeDCBF.
â€¢ Socially-aware MPC (Poddar et al. 2023): Socially aware MPC controller considering
distanceaspedestriansâ€™socialarea.
To evaluate the safety and efficiency of our Local Planner, we use â€œMin Distâ€, â€œTimeâ€, â€œTraj
Lengthâ€,â€œLinearVelVarâ€andâ€œAngularVelVarâ€tocompareouralgorithmwiththethreebaseline
approaches. "Min Dist" represents the minimal distance between the robot and the pedestrians
throughout the whole navigation process. "Time" represents the time spent on the navigation
process. "TrajLength"representsthetrajectorylengththattherobottakestothegoal. "LinearVel
Var"and"AngularVelVar"representthelinearandangularvelocityvarianceduringthenavigation.
Iftherobotgeneratesawindingandlesssmoothpath,thelinearandangularvelocitiestendtohave
abiggervariance.
For each experiment, the trajectory generated by each algorithm is plotted in Fig. 14b, 14d
and14f. FromtheplotsandthequantitativeresultshowninTABLE3a,3band3c,wecanconclude
that our algorithm generates a most effective and smooth path compared to other three baseline
algorithms. The MPC algorithm cannot avoid dynamic obstacles due to the lack of prediction
or inaccurate prediction caused by sensor errors. The MPC-DCBF can successfully avoid the
dynamic obstacles in all three experiments. However, due to the limitation of the MPC-DCBF
in not incorporating the social spaces of both robots and pedestrians, the system, under scenarios
simulating distracted or aggressive behavior, generates paths that result in minimal distances to
pedestrians,causingpotentialsafetyrisks.
Forsocially-awareMPC,althoughitcangenerateapathwiththemaximumdistancebetweenthe
robot and the pedestrians, there are collisions in the aggressive experiment. Another downside for
socially-awareMPCisthatthepathgeneratedincrossingandaggressiveexperimentsislesssmooth
compared to other experiments, which is reflected in the linear and angular velocity variance. In
contrast, our proposed SS-MPC-DCBF Local Planner can smoothly and robustly avoid dynamic
33TABLE3. Quantitativeresultsofthedynamicexperiments
(a)Crossingexperiment.
Method MinDis Time TrajLength LinearVelVar AngularVelVar
MPC 0m(Collision) 57.90s 12.147m 0.0585 0.0852
MPC-DCBF 0.4898m 14.72s 10.171m 0.0627 0.1799
Socially-awareMPC 0.8852m 15.53s 11.023m 0.0557 0.2753
SS-MPC-DCBF(Ours) 0.2411m 16.89s 10.067m 0.0506 0.0741
(b)Aggressiveexperiment.
Method MinDis Time TrajLength LinearVelVar AngularVelVar
MPC 0m(Collision) 32.90s 11.299m 0.0097 0.1770
MPC-DCBF 0.5102m 14.84s 10.730m 0.0309 0.3591
Socially-awareMPC 0m(Collision) 19.76s 12.737m 0.0529 0.9214
SS-MPC-DCBF(Ours) 0.5962m 15.05s 10.673m 0.0260 0.2591
(c)Distractedexperiment.
Method MinDis Time TrajLength LinearVelVar AngularVelVar
MPC 0m(Collision) 29.44s 10.698m 0.0079 0.0752
MPC-DCBF 0.2857m 14.04s 10.122m 0.0298 0.2369
Socially-awareMPC 0.2861m 15.88s 10.112m 0.0383 0.1844
SS-MPC-DCBF(Ours) 0.3284m 13.755s 10.018m 0.0280 0.0513
obstaclesinadvanceinthesethreeextremecrowdconditions,exceedingotherbaselinemethodsin
trajectorylengthandvelocityvariance. Whenthedynamicpedestriansentertheblindpointofthe
LiDARsensor,therobotcansuccessfullyavoidthedynamicobstaclesundertheuserâ€™scontrol.
LimitationsandFutureWork
Our insight is to use shared control to combine the advantages of autonomous navigation and
the userâ€™s experience, yielding better performance than either alone. However, even though the
application of shared control is promising in improving trust and safety, the current input methods
andpreference-takingfromtheuser,whichrelyonclickingandtele-operation,candistracttheuser
during navigation in a crowded indoor environment, increasing collision risks. Another issue is
that although a real-world experiment was conducted in a tight indoor environment, with the lack
34of real-world robot data as well as the gap between simulation and real life, the performance of
the model is lower than the performance in simulation. Therefore, to replicate the success of the
simulation experiments on the real robot, more work on the parameter adjustment of the Local
Plannerwillbeneeded.
Additionally,ournavigationframeworkbuildsontheassumptionthatuserscangathersufficient
informationtodecidetheirpreferredroute. Toenableuserstobetterunderstandtheenvironment,it
iscrucialtobuildatopologicalsemanticmapthatcontainsdetailedenvironmentinformation(Hughes
etal.2022)andcreateauser-friendlyGraphicalUserInterface(GUI)(Bakeretal.2020)fortablets
orVirtualReality(VR)device(Parketal.2023). Theseadditionswillbeimportantconsiderations
whenwedeploythisframeworkforexperimentationwithphysicalroboticwheelchairs.
CONCLUSION
This paper introduced a new shared control-based dynamic navigation system for assistive
mobile robots, enhancing user interaction in indoor navigation scenarios. Drawing upon insights
frompreviousstudies,oursystemuniquelyincorporatesusersâ€™pathpreferencesandcontrolinputs
into the navigation process. By separating the navigation system into a Global Planner for path
selection and a Local Planner for dynamic obstacle avoidance, we address critical limitations in
existing autonomous navigation approaches. Our Global Planner innovatively integrates adaptive
user path preferences into the path planning algorithm, ensuring the generation of a user-desired
collision-free path. This marks a significant step forward in personalizing assistive robotics,
enablinguserstoactivelyparticipateinthenavigationdecision-makingprocess.
Secondly, our system takes a step toward embedding social awareness within the robotic
navigation context. By incorporating social areas/spaces into the obstacle modeling process of
our Local Planner, our system ensures that respectful distances are maintained from pedestrians,
thereby enhancing the robotâ€™s ability to navigate socially complex environments. This feature not
only improves the robotâ€™s operational safety but also its social acceptability, a crucial aspect for
widespreadadoptioninreal-worldsettings.
Thirdly,weproposeSS-MPC-DCBFasourLocalPlanner. Thisapproachenablesthegeneration
35of safe, efficient trajectories that avoid potential collisions with moving obstacles in advance, even
beforetheyenterapredefinedproximitythreshold. Thispredictivecapabilityensuresahigherlevel
of safety and efficiency in the robotâ€™s navigation, addressing one of the key challenges in dynamic
obstacleavoidance.
Finally,ournavigationsystemaddressesthepivotalissueofuserdistrustinautonomoussystems
by implementing a shared control mechanism. This approach allows users to dictate their level of
involvement in the navigation process, thereby fostering a sense of control and enhancing trust in
thesystem. Byempoweringuserstoinfluencethenavigationprocess,oursystemnotonlyimproves
theuserexperiencebutalsoincreasesthepracticalapplicabilityofassistiverobotsinindoorsocial
environments.
Insummary,ourresearchadvancesthefieldofassistiveroboticsbyproposinganovelnavigation
framework that prioritizes user preferences, social awareness, predictive obstacle avoidance, and
user trust. These advancements pave the way for the development of more intuitive, safe, and
user-friendly assistive mobile robots, ultimately enhancing human-robot interaction in navigation
and mobility tasks within the built environment. Our project is open-sourced at: https://
github.com/Shared-Wheelchair/wheelchair_sim.
DATA AVAILABILITY STATEMENT
Some data, models, or code that support the findings of this study are available from the
correspondingauthoruponreasonablerequest,includingthewheelchairsimulationmodelandany
Gazeboworldfilethatisusedforevaluation.
ACKNOWLEDGEMENTS
The work presented in this paper was supported financially by the United States National
Science Foundation (NSF) via Award# SCC-IRG 2124857. The support of the NSF is gratefully
acknowledged. The authors would also like to thank Jordan Lillie from the Michigan Medicine
WheelchairSeatingService(WSS)forassistingusinassemblingallsensorsontotheexperimental
wheelchair platform, and Dennis Gould, also from the WSS, for procuring the experimental
wheelchairplatformfromitsmanufacturer,PrideMobilityProductsforthisresearch.
36REFERENCES
Alahi, Alexandre; Goel, K. R. V. R. A. L. F.-F. S. S. (2016). â€œSocial lstm: Human trajectory
predictionincrowdedspaces.
Ames, A. D., Coogan, S., Egerstedt, M., Notomista, G., Sreenath, K., and Tabuada, P. (2019).
â€œControlbarrierfunctions: Theoryandapplications.â€CoRR,abs/1903.11199.
Avelino, J., Garcia-Marques, L., Ventura, R., and Bernardino, A. (2021). â€œBreak the ice: a survey
onsociallyawareengagementforhumanâ€“robotfirstencounters.â€InternationalJournalofSocial
Robotics,13(8),1851â€“1877.
Baker, G., Bridgwater, T., Bremner, P., and Giuliani, M. (2020). â€œTowards an immersive user
interfaceforwaypointnavigationofamobilerobot.â€CoRR,abs/2003.12772.
Bureau,P.R.(2016).â€œAgingintheunitedstates.â€PopulationBulletin,70.
Chang, Y., Kutbi, M., Agadakos, N., Sun, B., and Mordohai, P. (2017). â€œA shared autonomy
approachforwheelchairnavigationbasedonlearneduserpreferences.â€2017IEEEInternational
ConferenceonComputerVisionWorkshops(ICCVW),1490â€“1499.
Clifford, P. (1994). â€œ5 - monte carlo methods.â€ Statistical Methods for Physical Science, J. L.
Stanford and S. B. Vardeman, eds., Vol. 28 of Methods in Experimental Physics, Academic
Press,125â€“153.
Cubuktepe, M., Jansen, N., and Topcu, U. (2023). â€œShared control with human trust and workload
models.â€Cyber-Physical-HumanSystems: FundamentalsandApplications,125â€“143.
Desai, M., Stubbs, K., Steinfeld, A., and Yanco, H. (2009). â€œCreating trustworthy robots: Lessons
andinspirationsfromautomatedsystems.â€ProceedingsofAISBâ€™09Convention: NewFrontiers
inHuman-RobotInteraction(April).
Fardeau, E., Senghor, A. S., and Racine, E. (2023). â€œThe impact of socially assistive robots on
humanflourishinginthecontextofdementia: Ascopingreview.â€InternationalJournalofSocial
Robotics,15(6),1025â€“1075.
Fehr, L., We, L., and Sb, S. (2000). â€œAdequacy of power wheelchair control interfaces for persons
withseveredisabilities: aclinicalsurvey..â€Journalofrehabilitationresearchanddevelopment,
37373,353â€“60.
Filipescu,A.,MÃ®nzu,V.,Dumitrascu,B.,Filipescu,A.,andMinca,E.(2011).â€œTrajectory-tracking
and discrete-time sliding-mode control of wheeled mobile robots.â€ 2011 IEEE International
ConferenceonInformationandAutomation,ICIA2011.
Flagg,J.(2009).Chapter1: WheeledMobilityDemographics.RehabilitationEngineeringResearch
CenteronTechnologyTransfer,UniversityofNewYorkatBuffalo,Buffalo,NY,7â€“29.
Fox, D.; Burgard, W. T. S. (1997). â€œThe dynamic window approach to collision avoidance.â€ IEEE
robotics automationmagazine.
Gadol, I. (1981). â€œBeyond the hot seat: Gestalt approaches to group.â€ International Journal of
GroupPsychotherapy.
Gao, Y. and Huang, C.-M. (2022). â€œEvaluation of socially-aware robot navigation.â€ Frontiers in
RoboticsandAI,8.
Glotfelter, P., Buckley, I., and Egerstedt, M. (2019). â€œHybrid nonsmooth barrier functions with
applications to provably safe and composable collision avoidance for robotic systems.â€ IEEE
RoboticsandAutomationLetters,4(2),1303â€“1310.
Goyal, J. K. and Nagla, K. (2014). â€œA new approach of path planning for mobile robots.â€
2014 International Conference on Advances in Computing, Communications and Informatics
(ICACCI),863â€“867.
GuillÃ©n Ruiz, S., Calderita, L. V., Hidalgo-Paniagua, A., and Bandera Rubio, J. P. (2020).
â€œMeasuring smoothness as a factor for efficient and socially accepted robot motion.â€ Sensors,
20(23).
Gupta,Agrim;Johnson,J.F.-F.L.S.S.A.-A.(2018).â€œSocialgan: Sociallyacceptabletrajectories
withgenerativeadversarialnetworks.
Hayduk, L. A. (1994). â€œPersonal space: Understanding the simplex model.â€ Journal of Nonverbal
Behavior.
Hughes, N., Chang, Y., and Carlone, L. (2022). â€œHydra: A real-time spatial perception system for
3Dscenegraphconstructionandoptimization.
38Jian, Z., Yan, Z., Lei, X., Lu, Z., Lan, B., Wang, X., and Liang, B. (2022). â€œDynamic control
barrier function-based model predictive control to safety-critical obstacle-avoidance of mobile
robot, <https://arxiv.org/abs/2209.08539>.
Jiang, W., Song, C., Wang, H., Yu, M., and Yan, Y. (2023). â€œObstacle detection by autonomous
vehicles: Anadaptiveneighborhoodsearchradiusclusteringapproach.â€Machines,11(1).
Kalman, R. E. (1960). â€œA new approach to linear filtering and prediction problems.â€ Transactions
oftheASMEâ€“JournalofBasicEngineering,82(SeriesD),35â€“45.
Karaman, S. and Frazzoli, E. (2011). â€œSampling-based algorithms for optimal motion planning.â€
CoRR,abs/1105.1186.
Karanam, S. K., Duhautbout, T., Talj, R., Cherfaoui, V., Aioun, F., and Guillemard, F. (2022).
â€œVirtual obstacle for a safe and comfortable approach to limited visibility situations in urban
autonomousdriving.â€2022IEEEIntelligentVehiclesSymposium(IV),909â€“914.
Khatib,O.(1986).â€œReal-timeobstacleavoidanceformanipulatorsandmobilerobots.â€ICRA.
King, D. E., Matheson, E., Chirina, S., Shankar, A., and Broman-Fulks, J. (2013). â€œThe Status
of Baby Boomersâ€™ Health in the United States: The Healthiest Generation?.â€ JAMA Internal
Medicine,173(5),385â€“386.
Kirby, R. (2010). â€œSocial robot navigation.â€ Ph.D. thesis, Carnegie Mellon University, Pittsburgh,
PA(May).
Kobayashi, Y., Sugimoto, T., Tanaka, K., Shimomura, Y., Arjonilla Garcia, F. J., Kim, C. H.,
Yabushita,H.,andToda,T.(2021).â€œRobotnavigationbasedonpredictingofhumaninteraction
and its reproducible evaluation in a densely crowded environment.â€ International Journal of
SocialRobotics,14(2),373â€“387.
Koontz, A. M., Ding, D., Jan, Y.-K., de Groot, S., and Hansen, A. (2015). â€œWheeled mobility.â€
BiomedRes.Int.,2015,138176.
Lamprianidis,N.(2018).â€œcostmap2drosdescription, <http://wiki.ros.org/costmap ğ‘‘>.
2
Li, H., Weng, B., Gupta, A., Pan, J., and Zhang, W. (2019). â€œReciprocal collision avoidance for
generalnonlinearagentsusingreinforcementlearning.â€CoRR,abs/1910.10887.
39Lu, D. V., Hershberger, D., and Smart, W. D. (2014). â€œLayered costmaps for context-sensitive
navigation.â€2014IEEE/RSJInternationalConferenceonIntelligentRobotsandSystems,709â€“715.
Mantha, B., Menassa, C., Kamat, V., and Dâ€™Souza, C. (2020). â€œEvaluation of preference- and
constraint-sensitivepathplanningforassistednavigationinindoorbuildingenvironments.â€Journal
ofComputinginCivilEngineering,34,04019050.
Mavrogiannis,Christoforos;Baldini,F.W.-A.Z.D.T.P.S.A.O.J.(2023).â€œCorechallengesofsocial
robotnavigation: Asurvey.â€ACMtransactionsonhuman-roboticinteraction.
Mavrogiannis, Christoforos; DeCastro, J. A. S. S. S. (2020). â€œImplicit multiagent coordination at
unsignalizedintersectionsviamultimodalinferenceenabledbytopologicalbraids.â€arXiv.org.
Mavrogiannis, Christoforos I.; Blukis, V. K. R. A. (2017). â€œSocially competent navigation planning
bydeeplearningofmulti-agentpathtopologies.
Mokhtari, A., Pivert, O., and Hadjali, A. (2009). â€œIntegrating complex user preferences into a route
planner: Afuzzy-set-basedapproach..â€501â€“506(01).
Montufar, J., Arango, J., Porter, M., and Nakagawa, S. (2007). â€œPedestriansâ€™ normal walking speed
andspeedwhencrossingastreet.â€TransportationResearchRecord,2002,90â€“97.
Mortenson, W. B., Miller, W. C., Boily, J., Steele, B., Odell, L., Crawford, E. M., and Desharnais,
G. (2005). â€œPerceptions of power mobility use and safety within residential facilities.â€ Canadian
JournalofOccupationalTherapy,72(3),142â€“152.
Oksanen, A., Savela, N., Latikka, R., and Koivula, A. (2020). â€œTrust toward robots and artificial
intelligence: An experimental approach to humanâ€“technology interactions online.â€ Frontiers in
Psychology,11.
Park, S., Yu, H., Menassa, C. C., and Kamat, V. R. (2023). â€œA comprehensive evaluation of factors
influencingacceptanceofroboticassistantsinfieldconstructionwork.â€JournalofManagementin
Engineering,39(3),04023010.
Petry, M. R., Moreira, A. P., Braga, R. A. M., and Reis, L. P. (2010). â€œShared control for
obstacle avoidance in intelligent wheelchairs.â€ 2010 IEEE Conference on Robotics, Automation
andMechatronics,182â€“187.
40Poddar, S., Mavrogiannis, C., and Srinivasa, S. S. (2023). â€œFrom crowd motion prediction to robot
navigationincrowds.
Rubio, F., Valero, F., and Llopis-Albert, C. (2019). â€œA review of mobile robots: Concepts, methods,
theoretical framework, and applications.â€ International Journal of Advanced Robotic Systems,
16(2),172988141983959.
RÃ¶smann, Christoph; Makarow, A. B. T. (2020). â€œOnline motion planning based on nonlinear model
predictivecontrolwithnon-euclideanrotationgroups.
Singletary, A., Klingebiel, K., Bourne, J., Browning, N. A., Tokumaru, P., and Ames, A. D.
(2020).â€œComparativeanalysisofcontrolbarrierfunctionsandartificialpotentialfieldsforobstacle
avoidance.â€CoRR,abs/2010.09819.
Stentz,A.(2011).â€œThed*algorithmforreal-timeplanningofoptimaltraverses.
Trautman,P.andKrause,A.(2010).â€œUnfreezingtherobot: Navigationindense,interactingcrowds.â€
2010IEEE/RSJInternationalConferenceonIntelligentRobotsandSystems,797â€“803.
Turri, V., Carvalho, A., Tseng, H. E., Johansson, K. H., and Borrelli, F. (2013). â€œLinear model
predictive control for lane keeping and obstacle avoidance on low curvature roads.â€ 16th
InternationalIEEEConferenceonIntelligentTransportationSystems(ITSC2013),378â€“383.
Verlag,V.(2012).â€œTrajectorymodificationconsideringdynamicconstraintsofautonomousrobots.
Wang,A.,Mavrogiannis,C.,andSteinfeld,A.(2022).â€œGroup-basedmotionpredictionfornavigation
incrowdedenvironments.
Wang,Allan;Steinfeld,A.(2020).â€œGroupsplitandmergepredictionwith3dconvolutionalnetworks.â€
IEEEroboticsandautomationletters.
Yanco,H.A.(1998).Wheelesley: Aroboticwheelchairsystem: Indoornavigationanduserinterface.
SpringerBerlinHeidelberg,Berlin,Heidelberg,256â€“268.
Yin,W.,Chai,C.,Zhou,Z.,Li,C.,Lu,Y.,andShi,X.(2021).â€œEffectsoftrustinhuman-automation
sharedcontrol: Ahuman-in-the-loopdrivingsimulationstudy.â€2021IEEEInternationalIntelligent
TransportationSystemsConference(ITSC),1147â€“1154.
Yu Fan Chen; Liu, Miao; Everett, M. H. J. P. (2016). â€œDecentralized non-communicating multiagent
41collisionavoidancewithdeepreinforcementlearning.â€arXiv.org.
Zeng, J., Li, Z., and Sreenath, K. (2021a). â€œEnhancing feasibility and safety of nonlinear model
predictivecontrolwithdiscrete-timecontrolbarrierfunctions.
Zeng, J., Zhang, B., and Sreenath, K. (2021b). â€œSafety-critical model predictive control with
discrete-timecontrolbarrierfunction.
Zhang, B., Barbareschi, G., Ramirez Herrera, R., Carlson, T., and Holloway, C. (2022).
â€œUnderstanding interactions for smart wheelchair navigation in crowds.â€ Proceedings of the 2022
CHI Conference on Human Factors in Computing Systems, CHI â€™22, New York, NY, USA,
AssociationforComputingMachinery, <https://doi.org/10.1145/3491102.3502085>.
42