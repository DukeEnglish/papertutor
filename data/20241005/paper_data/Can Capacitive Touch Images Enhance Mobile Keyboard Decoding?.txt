Can Capacitive Touch Images Enhance Mobile Keyboard
Decoding?
PiyawatLertvittayakumjorn ShanqingCai BillyDou
Google Google Google
MountainView,CA,USA MountainView,CA,USA MountainView,CA,USA
piyawat@google.com cais@google.com billydou@google.com
CedricHo ShuminZhai
Google Google
MountainView,CA,USA MountainView,CA,USA
cedricho@google.com zhai@acm.org
ABSTRACT
Capacitivetouchsensorscapturethetwo-dimensionalspatialpro-
file(referredtoasatouchheatmap)ofafingerâ€™scontactwitha
mobiletouchscreen.However,theresearchanddesignoftouch-
screenmobilekeyboardsâ€“oneofthemostspeedandaccuracy
demandingtouchinterfacesâ€“hasfocusedonthelocationofthe
touchcentroidderivedfromthetouchimageheatmapasthein-
put,discardingtherestoftherawspatialsignals.Inthispaper,we
investigatewhethertouchheatmapscanbeleveragedtofurtherim-
provethetapdecodingaccuracyformobiletouchscreenkeyboards.
Specifically,wedevelopedandevaluatedmachine-learningmodels
thatinterpretusertapsbyusingthecentroidsand/ortheheatmaps
astheirinputandstudiedthecontributionoftheheatmapstomodel
performance.Theresultsshowthataddingtheheatmapintothein-
putfeaturesetledto21.4%relativereductionofcharactererrorrates
onaverage,comparedtousingthecentroidalone.Furthermore,we Figure1:Anexampleofthetouchheatmap(the16Ã—18col-
conductedaliveuserstudywiththecentroid-basedandheatmap- oredgrid layingonthekeyboardlayout)andthe derived
baseddecodersbuiltintoPixel6Prodevicesandobservedlower touchcentroid(thereddot).Inthisexample,theuseraimed
errorrate,fastertypingspeed,andhigherself-reportedsatisfaction to type "c"; however, the derived touch centroid is on the
scorebasedontheheatmap-baseddecoderthanthecentroid-based key"x".Applyingsimplebaselines(i.e.,theOn-keyandthe
decoder.Thesefindingsunderlinethepromiseofutilizingtouch Distancebaselines)wouldleadtoanincorrectkeyprediction.
heatmapsforimprovingtypingexperienceinmobilekeyboards. Resolutionscale:1pixelâ‰ˆ0.05mm.
CCSCONCEPTS
â€¢Human-centeredcomputingâ†’Ubiquitousandmobilecom- Technology(UISTâ€™24),October13â€“16,2024,Pittsburgh,PA,USA.ACM,New
York,NY,USA,17pages.https://doi.org/10.1145/3654777.3676420
puting;â€¢Computingmethodologiesâ†’Machinelearning.
1 INTRODUCTION
KEYWORDS
Taptypingisthemostwidelyusedmethodoftextentryonmobile
mobiletextentry,touchinterface,keydecoding,machinelearning
touchscreens.Assmartphonekeyboardsarerelativelysmalland
ACMReferenceFormat: donothavephysicalboundariesbetweenkeys,thesystemmight
PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShumin interpretausertap(representedasatouchpoint onthedevice)
Zhai.2024.CanCapacitiveTouchImagesEnhanceMobileKeyboardDecod- differently from what the user intends to type. This leads to a
ing?.InThe37thAnnualACMSymposiumonUserInterfaceSoftwareand specificcategoryoftypingerrors,calledspatialerrors,e.g.,shock
â†’ sjock (h misinterpreted as j) and breathing â†’ beeathing
Permissiontomakedigitalorhardcopiesofpartorallofthisworkforpersonalor (rmisinterpretedase)intheQWERTYkeyboardlayout.These
classroomuseisgrantedwithoutfeeprovidedthatcopiesarenotmadeordistributed errorsreducetheuserâ€™seffectivetypingspeedandhencenegatively
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
impactuserexperience.Spatialerrorsareoftennicknamedthefat
onthefirstpage.Copyrightsforthird-partycomponentsofthisworkmustbehonored.
Forallotheruses,contacttheowner/author(s). fingerproblem,meaningthatusersstruggletotappreciselyona
UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA touchscreenbecausehumanfingersarerelativelylargeandcovered
Â©2024Copyrightheldbytheowner/author(s).
withsoftskin,producinghard-to-controlcontactareasonobscured
ACMISBN979-8-4007-0628-8/24/10.
https://doi.org/10.1145/3654777.3676420 targetkeys[45].Analternativeexplanationtothisphenomenonis
4202
tcO
3
]CH.sc[
1v46220.0142:viXraUISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShuminZhai
theperceivedinputpointmodel,statingthatthecenterofthetouch bothshowadvantagesoftheheatmapsoverthecentroids
area,asreportedbythedevice,usuallylocatesatanoffsetbelowthe forkeydecoding.
userâ€™saimedpositionandthisoffsetvariesdependingonvarious â€¢ Wediscussimportantconsiderationsfordeployingthistouch
factorssuchastheuserâ€™shandpostureandtheirtypingmental heatmap-basedapproachinproductionincludinggeneraliz-
model[25].AccordingtotheFinger-FittsLawmodel(FFittsLaw) abilityandalternativemodelarchitectures.
[6],thevariabilityofthetouchcentroidpositionscouldoriginate Therestofthispaperisorganizedasfollows.Section2provides
fromnotonlythespeed-accuracytradeoffbutalsotheabsolute thebackgroundandrelatedworkonmitigatingspatialerrorsand
precisionuncertaintyofthefingertapactionperse. exploitingheatmapimagesinuserinterfaceresearch.Section3
Todealwiththisproblem,previousstudiesemployedinforma- describesthespatialmodelswedesignedfordecodingkeytaps
tionbeyondthetouchcentroidwiththegoalofachievingmore fromcentroidsandheatmapsaswellassupportingtechniquesfor
accuratekeydecoding.Suchinformationincludespropertiesofthe ensuringsmoothusertypingexperience.Theseformedthebasis
usertap(e.g.,thetapsize[13]andthetouchpressure[47])aswell ofaseriesofthreestudiesinwhichwesystematicallyevaluated
ascontextualinformationofthetyping(e.g.,thedevicemotion[12], theheatmap-basedkeyboarddecodingmodelsagainstcentroid-
thepreviouslytypedtext[14,17],thetimeelapsedbetweentaps onlybaselines.Study1(Section4)focusedonthecollectionofan
[13],andtheuseridentity[43]).Toourknowledge,apieceofinfor- initialdatasetthatenabledustotrainandpreliminarilyevaluate
mationthathasnotbeenusedforkeydecodingintheliteratureis heatmap-based decoding models. Study 2 (Section 5) evaluated
thecapacitiveimageoftheusertap,i.e.,atwo-dimensionalspatial thegeneralizabilityofthemodelsfromStudy1onnewdatasets
datacapturedbythecapacitivetouchscreenâ€™scontactsensors.We collectedbasedondifferentsetsoftextandfromnewusers.In
alsorefertoitasatouchheatmap,orsimplyaheatmapinthispaper. Study3(Section6),anonlineuserstudywasconductedtodeploy
Fig.1showsanexampleofthetouchheatmaptogetherwiththe andevaluatethetrainedspatialmodelsduringreal-timetaptyping.
touchcentroidonaQWERTYkeyboardlayout.Inpractice,the Section7discussesconsiderations,limitations,andfuturework,
centroidisderivedfromtheheatmapandusedasasummaryof beforeweconcludethepaperinSection8.
thetouchpattern,discardingsomespatialinformationthatmaybe
usefulindecodingtypingtouches. 2 RELATEDWORK
Inthispaper,weaimtoanswerwhetherthetap-typingdecoding
2.1 MitigatingSpatialErrorsforSmartphone
accuracycanbeimprovedbyleveragingtheinformationcarried
TextEntry
bytouchheatmapsbeyondtouchcentroids.Wetrainedlogistic-
regressionmodels1ondatacollectedfromuserscopy-typingtexts Researchershavebeenstudyingandaddressingthespatialerrors
onasmartphonewithheatmapslogged.Thetrainedmodelswere formobilekeyboardsformanyyears.Forexample,Azenkotand
evaluatedintwostages,thefirstbasedonofflinedatasetsthattested Zhai[4]collectedusertouchdatafordifferenthandposturesand
themodelsâ€™generalizabilitytounseenusersandphrasesandthe discoveredthatthetouchcentroidsforeachuserandkeycanbe
secondbasedononlinedeploymentofthemodelstomeasuretheir modeledasabivariateGaussiandistributionofwhichthemeanhas
thepracticaleffectivenessduringreal-timemobiletextentry. acertainoffsetfromthekeycenter.Suchoffsetsaredifferentacross
Themaincontributionsofthispaperinclude keys,postures,andparticipants,sotheyrecommendedconduct-
ingverticalandhorizontalcorrections(basedonthehandposture
â€¢ Byconductingamodelingstudy,wedemonstratethatthe
used)andpersonalizationforeachuser.Thisisinlinewithseveral
capacitivetouchimages(i.e.,thetouchheatmaps)containin-
worksthatemphasizethedifferencesoftouchpointdistributions
formationusefulfortap-typingdecodingandnotpresentin
amongusers,devices,postures,anddirectionsoffingermovement
thetraditionally-usedcentroids.Theincorporationoftouch
[11,22,25,28,31].ContextType[13]triedtoinfertheposturefirst
heatmapsresultedina21.4%relativereductionincharac-
(usingtapsizesandtimeelapsedbetweentaps)andthenemployed
tererrorrate(CER)comparedtothecentroid-onlybaseline
aposture-specificspatialmodeltopredicttheintendedkey.Walk-
CERof4.22%.Withtheassistanceoflanguagemodelsand
Type[12]incorporatesfeaturesderivedfromtheaccelerometer
additionaltechniques,therelativeCERreductionwas29.7%
inthedevicetocompensateforimpreciseinputwhentheuseris
fromthecentroid-onlybaselineCERof2.87%.
walking.PalmBoard[50]decodedfive-fingertypingonatouch-
â€¢ Weproposeanovelrepresentationoftouchheatmaps,called
padbyextractingfeaturesfromtouchimagesbeyondthecentroid
heatmapoverlapvector,whichenhancesgeneralizabilityof
coordinates(includingduration,area,andpressure).Tothebest
thetrainedspatialmodel,allowingittoworkeffectivelyfor
ofourknowledge,thereisnoexistingworkleveragingthefull
inputtingunseentext.
informationintouchheatmapstocreatebetterspatialmodelsina
â€¢ Webuiltaheatmap-basedspatialmodelonPixel6Prode-
data-drivenfashion.
vicesandmeasuredusersâ€™livetypingperformanceinalab
Anothercommonapproachtoimprovethetextentryperfor-
study.Objectivetypingmetricsandsubjectivesurveyresults
manceistoleverageacharacter-levellanguagemodel,inaddition
tothespatialmodel.Alanguagemodelofthissortestimatesthe
probabilityofthenextcharacterbasedonthepreviouslycommitted
1Afterexperimentingwithseveralmachinelearningtechniques(e.g.,logisticregres-
sion,neuralnetworks,gradientboosting,andrandomforest),wechosetoconduct text.Forinstance,iftheuserstartswiththeletters,thelanguage
experimentsonlogisticregressionbecause(1)itcameoutasoneofthemostaccurate modelcanpredictthatthenextletterismorelikelytobehthan
modelsamongthemachinelearningtechniquestested(2)itisasimpleandlightweight j,helpingtopreventspatialerrorsliketheshockâ†’sjockexam-
modelthatcanbeeasilydeployedondeviceand(3)itssimplicityallowsustofirmly
attributetheperformancegaintothedifferentinputfeaturesets. ple.SomepreviousworksusethelanguagemodelscorestoadjustCanCapacitiveTouchImagesEnhanceMobileKeyboardDecoding? UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA
thekeyboardlayoutortoaddvisualclues,highlightingthekeys 135 135 135 135 135 135 135 135 135 135 = w
mostlikelytobetappednext[2,33],whereasotherworkscombine
thelanguagemodelscoreswiththespatialmodelscorestobetter
206 = h
predicttheuserâ€™sintendedkey[13,14,43].Inthiswork,weopt
forthelatterapproachanddemonstratethat,aftercombiningwith
206
languagemodelscores,touchheatmapsstillprovideaccuracygains H = 854
overtouchcentroids(seeSection4). (42.4 mm)
206
2.2 CapacitiveTouchscreen 208
Acapacitivetouchscreenisadeviceâ€™sdisplayscreenthatcancap-
135
tureanimageofthefingerâ€™scontactareaatspecificpointsintime. 675
Inparticular,ProjectiveCapacitiveTouch(PCT)[5]isatypeofit W = 1440
(71.0 mm)
widelyusedinportabledevicessuchassmartphonesandtablets.
EachPCTsensorisapairofelectrodesseparatedbyadielectric Figure2:Thedistributionoftouchcentroidsinthedataset
layer.Thisstructurecanactasacapacitor,holdingacertainamount fromStudy1pooledacrossall24participants.Itisplottedon
ofcharge,anditscapacitancewillchangewhenanotherconductive theQWERTYkeyboardlayoutusedinthisstudy,whichisthe
object(e.g.,afingeroraconductivestylus)approachesit.Inade- samelayoutasintheothertwostudies.Thekeyboardwidth
vice,PCTsensorsareusuallyarrangedasagridunderthescreenâ€™s (ğ‘Š),thekeyboardheight(ğ»),themostcommonkeywidth
coverglass,producingtwo-dimensional(matrix-like)heatmapim- (ğ‘¤),andthemostcommonkeyheight(â„)inpixelsofthe
ages(socalledcapacitiveimages).However,theheatmapimage keyboardlayoutarealsoannotatedinthisfigure.Resolution
resolutionismuchlowerthanthedeviceâ€™sdisplayscreenresolution scale:1pixelâ‰ˆ0.05mm.
(e.g.,39Ã—18versus3120Ã—1440forGooglePixel6Proweusedin
theexperiments).ToeffectivelyusesignalsfromPCTsensors,a
touchcontrollerisneededfordatapre-processingsuchasremoving indecodingarehardtoachievewithoutleveragingnewmodalities
noisesandderivingtouchcentroids[46].Formoredetailsabout ofsignalsintheuserinput.Thisleadstotheinterestingquestion
PCT,wereferthereaderstoQuinnetal.[39].Researchershavetried posedinourpaperâ€™stitle:â€œCancapacitivetouchimagesenhance
toenhancethecommercialtouchsensingtechnologywith,forex- mobilekeyboarddecoding?â€.Therationaleforusingtouchimages
ample,frequencyvariation[42]andacousticsensing[20]fornovel isthattraditionalcentroid-baseddecodingassumespoint-liketaps,
interactions.Mass-producedlowresolutionPCTsensing,however, butinreality,finger-screencontactareasarenotpoints.Ignoring
hasthebenefitofyear-over-yearqualityandpowerrefinement touchshapesandpressuresmayleadtoincompleteinformation
andintegrationtoenabletheusabilityofbasictouchscreeninput fordecodingambiguoustaps.Therefore,inthispaper,weprepro-
(e.g.,iconleveltap,swipegestures,andmulti-fingerzoom).Sensing cessthecapacitiveimagesandfeedthemintologisticregression
subtlegesturaldifferencesfromtodayâ€™slowresolutionPCTsensors modelsforkeyboarddecodingwhich,toourknowledge,hasnot
ishard,butwehaveseenrecentprogressinresearchandpractice beenstudiedinpreviouswork.
duetotheadvancementofMLtechnologiesandinteractiondesign
3 DECODERANDSUPPORTINGTECHNIQUES
(e.g.,[39]).
ResearchersinHCIhaveinvestigatedheatmapimagesfromca- ThedevicesusedinourstudieswerePixel6Prowiththekeyboard
pacitivesensorsforseveralUIinnovations.Forexample,somehave layoutshowninFig.2.Thefigurealsohasthekeyboardlayout
exploredwaystoextractusefulinformationfromthesesensorar- dimensionsannotated,includingthekeyboardwidth(ğ‘Š =1,440
rays, e.g., obtaining super-resolution images of the touch areas pixels),thekeyboardheight(ğ»=854pixels),themostcommonkey
[41,44]andestimatinghandpostures[1,8],toenablenovelinter- width(ğ‘¤ =135pixels),andthemostcommonkeyheight(â„=206
actionsontouchscreendevices.Guarnerietal.[16]developeda pixels),whichwillbeusednext.Toassessthecontributionoftouch
pipeline(usingPrincipalComponentAnalysis[49]andthedecision heatmapstokeydecoding,wetrainedlogisticregression-based
treemethod)fordifferentiatingonefinger,twofingers,andpalm, spatialmodelsthattakeacentroidand/oraheatmapasinputand
basedonthecapacitiveimages.Similarly,Leetal.[29]proposed predicttheprobabilitiesofthecandidatekeys.Inthispaper,we
PalmTouch,usingaConvolutionNeuralNetwork(CNN)toclassify focuson28candidatekeys(ğ¾ =28)includingthe26Englishletters,
ifatouchiscausedbyafingerorapalm.Mayeretal.[34],Boceck SPACE,andPERIOD.Anyaccuracydifferenceobservedbetween
etal.[7],andQuinnetal.[39]usedneuralnetworkstoprocess themodelsshouldreflectthecontributionaddedbytheheatmaps.
capacitiveimagesforpredictingfingerorientation,touchpressure,
andtouchgestures(e.g.,tap,press,orscroll),respectively. 3.1 FeatureEngineering
Overall, these recent papers shed light on the benefits of ca- Ourstudiesconcerntwotypesoffeaturesâ€“thetouchcentroid
pacitiveimagesviamachinelearningformanyHCIapplications. andthetouchheatmap.Forthetouchcentroid(ğ¶)attheposition
Togetherwiththegrowingon-devicecomputationalpower,they (ğ‘¥,ğ‘¦),werepresentitwith28Ã—2numberswhichare[Î”ğ‘¥ 1,Î”ğ‘¦ 1,Î”ğ‘¥ 2,
motivateustoexploretheuseofcapacitiveimagesfortouchscreen Î”ğ‘¦ 2,...,Î”ğ‘¥ 28,Î”ğ‘¦ 28]where
k me ey nb to oa frd tod ue cc ho sd ci rn eg e. nD ku ee ybto oath rde se ox vte en rs ti hv ee po ap st tim deiz ca at di eo sn ,fa un rd thim erp gr ao iv ne s-
Î”ğ‘¥ ğ‘˜ =
ğ‘¥âˆ’ ğ‘¤ğ‘¥
ğ‘˜ and Î”ğ‘¦ ğ‘˜ =
ğ‘¦âˆ’ â„ğ‘¦
ğ‘˜. (1)UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShuminZhai
v v v v
11 12 13 14 The heatmap overlap feature for the red key =
0.125v + 0.5v + 0.125v + 0v +
v v v v 11 12 13 14
21 22 23 24 0.250v + 1v + 0.250v + 0v +
21 22 23 24
0.125v + 0.5v + 0.125v + 0v
v v v v 31 32 33 34
31 32 33 34
Figure3:An illustration ofhowtocomputetheheatmap
overlapfeatureforagivenkey.Thekeyboundaryisrep-
resentedbytheredbox,whiletheheatmapsensorarrayis
representedbythegridtheredboxison.ğ‘£ ğ‘–ğ‘— representsthe
intensityvalueoftheheatmapcellatrowğ‘– andcolumn ğ‘—.
Theheatmapinthisfigureismadesmaller(3Ã—4)thanits
actualsizeforclarityofillustration.
Î”ğ‘¥ ğ‘˜ andÎ”ğ‘¦ ğ‘˜ arethenormalizedsigneddistancesfromthetouch Figure4:The(ğ¶ğ» ğ‘œ)logisticregressionmodeltakesthecen-
centroid (ğ‘¥,ğ‘¦) to the center oftheğ‘˜ğ‘¡â„ key (ğ‘¥ ğ‘˜,ğ‘¦ ğ‘˜) along theğ‘¥ troidandtheheatmapoverlapvectorasinputandpredicts
andtheğ‘¦axes,respectively.AsdisplayedinFig.2,ğ‘¤ isthemost probabilitiesofthecandidatekeys.Notethatğ‘Š andğ‘ are
commonkeywidthinthekeyboardlayout(135pixels),whileâ„is
trainedparametersofthemodel.
themostcommonkeyheight(206pixels).Finally,weperformmin-
maxnormalizationonalltheÎ”ğ‘¥ ğ‘˜ andÎ”ğ‘¦ ğ‘˜ sothefeaturevalues
stayintherangeof[âˆ’1,1]. boththecentroidandtheheatmapasinput,weconcatenatethetwo
Fortouchheatmaps,eachframeisasingle-channelimageof featurevectorsintoonebeforefeedingittothelogisticregression
size39Ã—18fromthePCTsensors.However,weuseonlythelower model.Figure4illustratesthisprocessforthemodelthattakesthe
partoftheimage(i.e.,thelast16rows)thatcoversthekeyboard centroidandtheheatmapoverlapvectorasinput.
area,asdisplayedinFig.1forexample,forefficientcomputing. Withthescikit-learnlibrary1.0.2[38],wetrainthemodelsusing
Afterexploringanumberofalternatives,wechosethefollowing thecategoricalcross-entropylossğ¿ ğ¶ğ¸ andtheğ¿ 2 regularization
twoheatmapfeaturerepresentationsinourempiricalexperiments loss:
presented in this paper: the flattened heatmap (ğ» ğ‘“) and the ğ‘ ğ¾
heatmapoverlapvector(ğ» ğ‘œ).Theflattenedheatmap(ğ» ğ‘“)isob- ğ¿ ğ¶ğ¸ =âˆ’ ğ‘1 âˆ‘ï¸âˆ‘ï¸ ğ‘¦ ğ‘–,ğ‘˜log(ğ‘ ğ‘–ğ‘† ,ğ‘˜ğ‘€ ) (4)
tainedbyflatteningthetwo-dimensional(16Ã—18)heatmapintensity ğ‘–=1ğ‘˜=1
arrayintoavectorofsize288inrow-majororder.Incontrast,the ğ¾ ğ‘‘
1 1âˆ‘ï¸âˆ‘ï¸
heatmapoverlapvector(ğ» ğ‘œ)representstheheatmapasavectorğ‘“ ğ¿ 2= âˆ¥ğ‘Šâˆ¥2 ğ¹ = ğ‘Š ğ‘˜2 ,ğ‘— (5)
2 2
ofsize28correspondingtothe28candidatekeys.Eachvalueisthe ğ‘˜=1ğ‘—=1
weightedsumoftheintensitiesoftheheatmapcellsthatoverlap whereğ‘ isthenumberoftrainingexamples,ğ‘ğ‘†ğ‘€ isthepredicted
withtheareaofthecorrespondingkey.Mathematically, ğ‘–,ğ‘˜
probability of the candidate keyğ‘˜ for theğ‘–ğ‘¡â„ example, andğ‘¦ ğ‘–,ğ‘˜
ğ‘“ ğ‘˜ =âˆ‘ï¸16 âˆ‘ï¸18 ğ‘‚(ğ‘˜ ğ´,ğ‘–,ğ‘—) ğ‘£ ğ‘–ğ‘—. (2) equals1ifandonlyifthelabeloftheğ‘–ğ‘¡â„ exampleisthekeyğ‘˜
ğ‘–=1 ğ‘—=1 ğ‘˜ (otherwise,0).Together,thefinallossis
w toh te hr ee ğ‘˜ğ‘“ ğ‘˜ ğ‘¡â„is ct ah ne dv ia dl au te ein keth ye (whe ha it cm ha hp ao sv te hr ela ap rv ee ac ğ´to ğ‘˜rt ih na tt hc eor kr ee ysp bo on ard ds ğ¿=ğ¿ ğ¶ğ¸+ ğ¶1 ğ¿ 2 (6)
layout),ğ‘£
ğ‘–ğ‘—
istheintensityoftheheatmapcellatrowğ‘–andcolumn whereğ¶isahyperparametercalledtheinverseofregularization
ğ‘—,andğ‘‚(ğ‘˜,ğ‘–,ğ‘—)istheoverlappingareabetweentheğ‘˜ğ‘¡â„ candidate strength.TheLBFGSsolver[53]wasusedtooptimizethemodels,
keyandtheheatmapcellatrowğ‘–andcolumnğ‘—.Anillustrationof whileweselectedğ¶ from{0.5,1,1.5,2.0}thatledtothebestval-
thecalculationisshowninFig.3.Aswiththecentroid,weperform idationaccuracy.Trainingstoppeduponparameterconvergence
min-max normalization on both the flattened heatmap and the orafter1000iterations.Moredetailsaboutthedatasplitsandthe
heatmapoverlapvectorsothefeaturevaluesstayintherangeof featuresetswillbeexplainedinSection4.
[âˆ’1,1].
3.3 AdditionalTechniques
3.2 ModelandTraining Inadditiontothestudyofthespatialmodelsthemselves,wetested
Weusemulti-classlogisticregressionmodelsasspatialmodelsfor theirinteractioneffectwithasetofthreeadditionaltechniques
predictingprobabilities(ğ‘ğ‘†ğ‘€ )oftheğ¾ candidatekeys.Mathemati- usedduringdecodingforfurtheroptimizingthetypingexperience.
cally,
3.3.1 LanguageModel(LM). Combiningthespatialmodelwith
ğ‘ğ‘†ğ‘€ =softmax(ğ‘Šğ‘“ +ğ‘) (3)
aLMusuallyleadstobetterkeydecodingaccuracy[13,14,43].
whereğ‘ğ‘†ğ‘€ âˆˆ [0,1]ğ¾ , ğ‘“ âˆˆ Rğ‘‘ isthefeaturevectorofsizeğ‘‘,and Here,weusedafinite-statetransducer(FST)LM,describedin[36],
ğ‘Š âˆˆ Rğ¾Ã—ğ‘‘ andğ‘ âˆˆ Rğ¾ aremodelparameters.Ifthemodeluses whichhasbeenemployedinseveralmobiletextentrysituationsCanCapacitiveTouchImagesEnhanceMobileKeyboardDecoding? UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA
(e.g.,[21,30,43]).Thismodelpredictstheprobabilityofthenext â€¢ Distance:Alwayspredictthecandidatekeywiththemini-
charactergivenapreviouscontextofatmostfivewords.However, mumnormalizeddistancebetweenthekeycenterandthe
thisLMhastwolimitations.First,itstrainingdatadidnotinclude touch centroid,no matterwhich key thecentroid ison. We
the PERIOD key. Second, its accuracy for the first character of
calculatethenormalizeddistancetotheğ‘˜ğ‘¡â„
keyasfollows.
e ea xc ph law ino er dd ic no Su eld ctb ioe nlo 4w .1,s cin oc ne tath ine sp pr ho rm ap set sse wt iw the uc no cn os mtru mc ote nd w,t oo rb de
s ğ‘‘ ğ‘˜
=âˆšï¸‚ (cid:16)ğ‘¥ ğ‘Šâˆ’ğ‘¥ ğ‘˜(cid:17)2 +(cid:16)ğ‘¦âˆ’ ğ»ğ‘¦ ğ‘˜(cid:17)2
(7)
tobalancethecharacterunigramdistribution.Hence,wedecided
nottorelyonthisLMforthesetwocases.Inotherwords,thelogic where(ğ‘¥,ğ‘¦)isthetouchcentroid,(ğ‘¥ ğ‘˜,ğ‘¦ ğ‘˜)isthecenterof
weusedforcombiningspatialmodelscoreswithlanguagemodel theğ‘˜ğ‘¡â„ key,ğ‘Š isthekeyboardwidth(1,440pixels),andğ» is
scoresisasfollows. thekeyboardheight(854pixels).Moreover,wecanderive
â€¢ IfthespatialmodelpredictsPERIODorthekeytopredict thepredictedprobabilitiesofthecandidatekeys(i.e.,the
istheleadingcharacterofaword: ğ‘ ğ‘˜ğ‘†ğ‘€ inSection3.3)basedonthedistances.Specifically,each
â€“ Answerargmaxğ‘˜{ğ‘ ğ‘˜ğ‘†ğ‘€} distanceğ‘‘ ğ‘˜ isusedasaninputtoa1DGaussiandistribution
â€¢ Else: tocomputeaprobabilitydensityfunction(pdf)scoreğ‘  ğ‘˜.
whereâ€“ ğ‘ ğ‘˜ğ‘†A ğ‘€n as nw de ğ‘r ğ‘˜ğ¿a ğ‘€rg am ra ex tğ‘˜ h{ eğ‘ sğ‘˜ğ‘† pğ‘€ atÃ— ialğ‘ sğ‘˜ğ¿ cğ‘€ or} eandtheLMscoreofthe ğ‘  ğ‘˜ = âˆš 2ğœ‹1 ğœ2exp(cid:32) âˆ’ 2ğœğ‘‘ ğ‘˜ 22(cid:33) (8)
candidatekeyğ‘˜,respectively.Inourexperiments,theğ‘ğ‘†ğ‘€
was
Thenğ‘  ğ‘˜ isnormalizedbythesumofthescoresfromallthe
t Sh ee ctk ioe ny 3p .r 2o ,b wab hi eli rt ey tp hr ee ğ‘d ğ¿ic ğ‘€ted cab my eth fre ol mog ti hst eic FSre Tgr mes os di eo ln em xpo ld ae inl ein
d
candidatekeystobethekeyprobabilityğ‘ ğ‘˜ğ‘†ğ‘€ .
ğ‘ 
above. ğ‘ğ‘†ğ‘€
=
ğ‘˜
(9)
ğ‘˜ (cid:205) ğ‘ 
ğ‘— ğ‘—
3.3.2 SkippingUnambiguousCases(SUC). Eventhoughtheuser
accuratelytapsonthetargetkey,thefinalpredictedkeycouldbe
Thevalueofğœ isobtainedempirically.Weusedğœ = 0.03
anotherkeyifthelanguagemodelsignalissostrongthatitdomi- whichoptimizedthecategoricalcrossentropylossonall
natesthespatialsignal.Thismightcausesurprisesandadversely validationsplits.
affecttheuserexperience.Toaddressthis,weavoidusingthespa- BecausetheDistancebaseline(andtheOn-keybaselinesome-
tialmodeltodecodetapsofwhichthetouchcentroidstayscloseto times)simplyusethedistancefromkeycenterstomakeprediction,
thecenterofacandidatekey.Insuchcases,weconsiderthetapsun- werequireaspecialwaytotreattheSPACEkeywhichhasawider
ambiguousandpredicttheclosestcandidatekeysdirectlyinstead. keywidththanotherkeys.Inourkeyboardlayout,thewidthof
Formallyspeaking,weconsideratapwiththetouchcentroid(ğ‘¥,ğ‘¦) theSPACEkeyis675pixels,whereasthecommonkeywidthis135
unambiguousifthereisağ‘˜ğ‘¡â„
candidatekey,withthekeycenter pixels(asdisplayedinFig.2).TotreattheSPACEkeysimilarlyto
(ğ‘¥ ğ‘˜,ğ‘¦ ğ‘˜),suchthat|ğ‘¥âˆ’ğ‘¥ ğ‘˜| <0.25ğ‘¤ ğ‘˜ and|ğ‘¦âˆ’ğ‘¦ ğ‘˜| <0.25â„ ğ‘˜ where otherkeys,weconsiderthedistancefromtheSPACEkeyalongthe
ğ‘¤ ğ‘˜ andâ„ ğ‘˜ arethewidthandtheheightofthekeyğ‘˜,respectively. x-axistobezeroifthex-coordinateofthetouchcentroidstaysin
Notethatthisissimilartotheconceptofanchoringin[17]. therangeof[135,675âˆ’135]-thpixelfromtheleftedgeoftheSPACE
2 2
key.Inotherwords,westartmeasuringtheÎ”ğ‘¥ fromtheSPACE
3.3.3 NeighborKeyFiltering. Inordertoincreasethedecoding
keyfromtheinner-leftandtheinner-rightboundariesinsteadof
accuracyandreducesurprisesduringdecoding,wecanlimitthe
fromthekeycenter.
set of candidate keys to only the keys of which the touch cen-
troidisnotfartherawayfromthekeycenterthantheirimmediate 4 STUDY1-DATACOLLECTIONANDMODEL
neighborkeysorintheequivalentdistance.Forexample,theset
TRAINING
offilteredcandidatekeysforthetouchpointinFig.1isonly{s,d,
f,z,x,c,SPACE}.Inthiscase,thefilteringtechniquecanreduce Inthefirststudy,ourgoalwastocollecttouchheatmaps(along
thenumberofcandidateanswersfrom28toonly7,mitigating withtouchcentroidsforcomparison)whenuserstap-typedphrase
thesituationwheretheastrongsignalfromthelanguagemodel withknowngroundtruths.Thisnoveldatasetwasthenusedto
sharplycontradictsthespatiallocationofthetouchpoint. trainandcomparemachine-learningmodelsthatpredictkeysbased
oninputheatmapsand/orcentroids.Thesemodelsformthebasis
3.4 Baselines oftheofflineandonlineevaluationintheStudies2and3tobe
describedinfollowingsections.
Forevaluation,wecomparethelogisticregressionmodelstotwo
baselinesforkeydecoding.
4.1 TouchDataCollection
â€¢ On-key:Predictthekeyboundingboxwhichthetouchcen-
Wesetupacopy-typingtasktocollecttouchdatafrom24partici-
troidfallsinto(ifany).Ifthetouchcentroiddoesnotfall
pants.
intoanykeyboundingboxes,however,predicttheclosest
key."Closest"hereisdeterminedbytheEuclideandistance Participantinclusioncriteria. Thisstudyrecruitedparticipants
betweenthetouchcentroidandthekeycenter.Thismethod fromthepublicwhoarefamiliarwithtypingonamobilephone.
returnsonlyacategoricaloutputwithoutcalculatingthekey Additionalinclusioncriteriaare:(i)usingEnglishastheprimary
probabilities. languageformobiletypingand(ii)havingnosignificantmotororUISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShuminZhai
visualimpairmentsthatmayaffecttheperformanceonthetyping
task.
Taskdetails. Thetaskwasdividedintothreeblockseachofwhich
contains30prompts.Apromptisareference/targetsentenceor
a phrase of length 3-6 words that a user is asked to type. The
participantswereaskedtocopy-typethepromptsusingtwo-thumb
typingwhileholdingthesmartphonewithbothhandsinaseated
posture.Inthefirsttwoblocks,weaskedthemtousetheirusual
fasttypingspeedwhiletryingtomaintainaccuracy.Inthelast
block,weaskedthemtotypewithanextremelyfastspeedwithout
caringmuchaboutaccuracysowecouldobtainmorechallenging
tapinput.Throughoutthestudy,theparticipantsmayedittyping
errorsbeforesubmittingthetextbutthiswasnotrequiredunless
theeditdistancebetweenthesubmittedtextandthepromptwas
toohigh(i.e.,greaterthan60%ofthepromptlength).Theymight
alsotakeabreakfortwominutesbetweenconsecutiveblocks.
Deviceandkeyboardsetup. Forconsistencyandtime-efficiency, Figure5:Characterdistributions(fromAtoZandSPACE,
weusedtwoPixel6Prodevicesfordatacollection.Eachparticipant PERIODonthex-axis)intheMacKenzieandSoukoreffcor-
usedoneofthephonesprovidedbytheexperimenter.Thesephones pus[32](topleft),thefinalpromptpoolforgreedyselection
wereheldinthedefaultportraitorientationandconfiguredtolog (topright),the90selectedpromptsusedfordatacollection
touchheatmapsduringthestudy.WeusedanAndroidapplication (bottomleft),andtheprocessedmaindatasetusedfortrain-
forshowingpromptsandcollectingsubmittedtextsandtouchdata. ingandevaluation(bottomright).
AcustombuildofGboardwasusedinthisapp.Themedianofthe
timebetweentwoconsecutiveheatmapframesloggedwasaround
4.22ms.Thistranslatestoaheatmapcapturerateofâˆ¼237frames
Soukoreffphrases,weconsideraphrasesimpleifithasatmost6
persecond.Tocollectasmanytouchpointsaspossible,wedisabled wordsandallofthewordsarenotrare.Foreachofthe30phrases
intelligentkeyboardfeaturessuchasnext-wordprediction,double- wemanuallyadded,weensuredthatthetotalnumberofwords+
spaceperiod,andgrammarcheck.Wealsodisabledtheper-key thenumberofrarewordsinthephraseisatmost6.Hence,ifa
visualandhapticfeedbackinthekeyboardinordernottodistract phrasecontainsrarewords,themaximumnumberofwordsmust
theparticipants.However,toallowfasttyping,autocorrection bemorelimited.Afterfilteringoutoverlycomplexphrases,we
wasenabled,andthesuggestionbarwasshownsotheusercould obtainedthefinalpromptpoolofwhichthecharacterdistribution
expecttheresultafterauto-correction.Nonetheless,westrongly isshowninFig.5(topright).
discouragedtheuserfromtappingthesuggestions;otherwise,we Finally,weconstructedasetofselectedpromptsusinggreedy
wouldgetfewertouchpointsthandesired. selection.Inotherwords,westartedfromanemptyset.Foreachit-
eration,weselectedapromptfromthepoolthat,ifaddedtotheset,
Promptsetconstruction. Wecreatedapoolofpromptsfromthe
wouldmaximizethecharacter-levelentropyofthewholeset.Once
MacKenzieandSoukoreffphraseset[32],whichiswidelyused
90promptswasreached(seethecharacterdistributioninFig.5
inthetext-entryliteratureprimarilyfortheireasetomemorize
(bottomleft)),werandomlydividedthemintothreesubsetswhich
incopytypingexperiments(e.g.,[23,24,51]).However,thechar-
werethenusedforthethreetaskblocksofeachparticipant.The
acterdistributioninthisphrasesetisextremelyimbalanced,as
threesubsetswererotatedusingtheLatinsquaredesignacrossall
showninFig.5(topleft).Samplingonlyfromthisphrasesetwould
the24participants.Basedontheprompts,eachparticipantshould
yieldfewtouchpointsforrarecharacters(suchasj,q,x,andz),
contribute 2,379 taps. However, the actual number of examples
insufficientfortrainingourmachinelearningmodels.Toalleviate
wecanusecouldbedifferentfromthissincewemaygainaddi-
thisproblem,weaddedtothepool30newphraseswhichcontain
tionaltapsfromdeletedtouchpointsbutalsolosesomedueto
morerarecharactersthannormalphrases.Inaddition,toallowfast
unsuccessfulalignment(seeSection4.2).
typing,weexcludedthesentenceswithnumbers,punctuation,and
apostrophes,astheyrequireswitchingtothesecondarykeyboard
Datacollected. Thetouchcentroid(xandycoordinatesonthe
layout,long-pressingkeys,orutilizingwordsuggestionswhichwe
keyboard),thetouchheatmap(ofsize39Ã—18),andthetimestamp
discourage.Yetperiods(.),whichcanbetypedwiththePERIOD
ofeveryrawtoucheventwerecollectedalongwiththecommitted
key,wereallowedandappendedtopromptsthataresentences.
string.Asonetapmaygenerateasequenceoftouchheatmapevents,
Also,wetriedtouseonlypromptsthatarenottoocomplexby
dependingonhowlongthefingercontactsthescreen,weusedthe
specifyingthemaximumnumbersofwordsandrarewordsineach
datafromthefirstframeofthesequencefortrainingandevaluation.
prompt.Specifically,awordisconsideredrareifitisnotinthelist
Practically,thekeyboardneedstorespondvisuallytotheusertaps
of50kmostcommonEnglishwords2.ForgeneralMacKenzieand
byhighlightingthepressedkeysonfinger-down.Therefore,using
2accordingtothelistmostcommonEnglishwords,inorderoffrequency,in the first frame data allows the keyboard to provide the earliest
https://github.com/arstgit/high-frequency-vocabulary. possibleresponsetoagivenusertap.CanCapacitiveTouchImagesEnhanceMobileKeyboardDecoding? UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA
4.2 TouchPoint-KeyAlignment points,whiletherest(877examples)aredeletedtouchpoints.On
Afterobtainingthetouchpoints,wealignedthemtothecharac- average,aparticipantcontributed2,390.38examples(standardde-
tersintheprompttocreateinput-outputpairsfortrainingand viation:23.33examples).Thesmallestandthelargestnumbersof
evaluation.Wecoulddividethealignmentsintotwocases. examplesaparticipantcontributedwere2,333and2,440examples,
respectively.Thedistributionofthereferencekeylabels,aggre-
Committedtouchpoints. Here,wealignedtouchpointsinthe gatedfromallparticipants,isdisplayedinFig.5(bottomright),
committedstringtothereferenceprompt.Sincethecommitted whilethedistributionofthetouchcentroidsonthekeyboardlayout
stringmaycontainerrors,weusedtheNeedlemanâ€“Wunschalgo- isdisplayedinFig.2.Overall,wecallthisdatasetâ€œMainâ€inTable1.
rithmthatsupportsinsertion,omission,substitution,andtranspo-
sitionerrorsforalignment[35].Forwordsinthecommittedstring 4.4 ModelTrainingandEvaluation
thataretheresultsofautocorrection,wealignedthepromptto
4.4.1 Models. Toinvestigatethecontributionofthetouchheatmap,
thecorrectedformfirstandthenalignedthecorrectedformtothe
wecomparedthelogisticregression-basedspatialmodelsoffive
originalformofwhichwehavetouchdata.Usingthischainof
inputfeaturesetsincluding
alignment,wecouldgetpairsoftouchdataandreferencekeys.
â€¢ (ğ¶)usingonlythetouchcentroidasinput
Deletedtouchpoints. Deletedtouchpointsareveryimportant â€¢ (ğ» ğ‘“)usingonlytheflattenedheatmapasinput
inthisworkbecausetheyarethecasesforwhichthekeyboard â€¢ (ğ¶ğ» ğ‘“)usingboththetouchcentroidandtheflattened
weusedduringdatacollectionfailedtogeneratedecodingresults heatmapasinput
expectedbytheuser,showingroomforimprovement.Toinferthe â€¢ (ğ» ğ‘œ)usingonlytheheatmapoverlapvectorasinput
intendedkeysofthedeletedtouchpoints,wereplayedthetyping â€¢ (ğ¶ğ» ğ‘œ)usingboththetouchcentroidandtheheatmap
sequence(includingbackspaces)stepbystepanddidthealignment, overlapvectorasinput.
usingtheNeedlemanâ€“Wunschalgorithm,everytimebeforeatouch Ifthemodelusesboththecentroidandtheheatmapfeatures,we
pointwasdeleted.Thereferencetextforalignmentwasaprefix concatenate their feature vectors to be the input of the logistic
oftheprompt(with1characterlongerthanthecurrenttextsofar regressionmodel.Forexample,the(ğ¶ğ» ğ‘œ)modelhas56(fromğ¶)+
toallowanomissionerror).Weonlykeptalignmentsofthosenot 28(fromğ» ğ‘œ)=84featuresintotal.Additionally,wecomparedthese
beingalignedduringcommittedtouchpointalignment. modelstothetwobaselines,On-keyandDistance,whichrequire
Aligningdeletedtouchpointsissometimesimperfectsincewe notraining.
cannotknowexactlywhytheuserdeletedthetouchpoints.This
resultsinambiguouscaseswherewehavemorethanonealign- 4.4.2 Setup. Weperformedtheleave-one-outcrossvalidationon
menthypothesis.Forexample,giventheprompt"Breathing is the24participantsinourmaindataset.Specifically,foreachfold,
difficult",ausertyped"Be"andthendeletede.Itcouldbear- weusedexamplesfromoneparticipanttobethetestset.Forthe
guedthattheuserintentionallytypedeandforgotr,sothisis remaining23participants,weusedtheexamplesfrom20partici-
aspellingerror(omission),whichisnotthefocusofthisstudy. pantstobethetrainingsetandtheother3participantstobethe
Otherwise,theusermightinfactwanttotyperbutslightlymissed validationset.Thisvalidationsetwasusedtochoosethebesthy-
ittotheleftandthekeyboardinterpretedtheusertouchase,a perparameterforthelogisticregressionmodel,i.e.,choosingthe
neighboringkeyof r,instead.Thisis,incontrast,aspatialerror bestinverseofregularizationstrengthfromthesearchspaceof{0.5,
weareinterestedin.Anotherexampleis,forthepromptedword 1.0,1.5,2.0}.Thecross-entropylossesfortrainingandvalidation
"missed",theusertyped"missd"andthendeletedd.Thedeleted arereportedinAppendixC.
dcouldbealignedtobotheandd.Aswedonotknowwhichalign- Wetestedallthemodelsundertwosettingsâ€“withoutandwith
mentisindeedthecase,wedetectedexamplesofthiscategory,i.e., theadditionaltechniquesinSection3.3.Themainmetricusedwas
spelling(omission)errorvsspatialerror,andexcludedthemfrom thecharactererrorrateaveragedfromthe24testparticipants.We
ourdataset. definecharactererrorrate(CER)asthepercentageofkeypresses
Lastly,thekeyfromthealignmentmightbetoofarfromthe thatarewronglydecodedbythemodelaccordingtothealigneddata.
touchcentroidontheQWERTYkeyboard.Forexample,giventhe LowerCERindicatesfewermisinterpretationsofusertaps,leading
prompt"Buffer zones near Iraq",ausermaytypeandsubmit tofewertypingerrorsandtendingtoimprovedspeedanduser
"Buffer zones near Iran"becausetheydidnotpayattentionto experience.Significancetestsbetweentwomethodswereconducted
thepromptcarefully.Thealgorithmalignstheuserâ€™stapofntothe usingpairedsampletests(i.e.,consideringthedifferenceforeach
referencecharacterq.However,weknowthatthisisnotaspatial participant).Specifically,forthedifferencesthatwerenormally
errorweareinterestedinsincethetouchcentroid(nearn)andthe distributedaccordingtothenormalitytest[10],weusedpaired
keyqaretoofaronthekeyboard.So,weexcludedthiscasefrom t-testforthesignificancetest;otherwise,weusedtheWilcoxon
ourdataset.Generallyspeaking,wekeptonlyexampleswherethe signed-rank test [48], which better supports the non-normality
touchcentroidstaysnofartherthantheimmediateclosestkeysof distribution.Thesignificancelevelğ›¼ usedwas0.05forallthetests.
thereferencekeyorintheequivalentdistance.
4.4.3 ResultsoftheSpatial-OnlyModels. Table2reportsthechar-
actererrorrates(CERs)averagedfromthe24participants.Looking
4.3 StatisticsofTouchData
attheâ€œSMonlyâ€columnwhereweconsidertherawprediction
AfterprocessingthecollecteddataasexplainedinSection4.2,we fromthespatialmodels,wenoticethat,first,theOn-keyandthe
obtained 57,369 examples. 56,492 of them are committed touch DistancebaselinesperformedworsethantheothermethodsthatUISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShuminZhai
Table1:Asummaryofthedatasetsusedinourmodeling,offlineevaluation,andonlineevaluationstudies.M&Sdenotes
promptsfromtheMacKenzieandSoukoreffcorpus[32]withperiodsappendedtopromptsthataresentences.
No.of No.oftap Usedfor
Dataset Promptstyles No.oftrials
participants examples evaluationin
Main M&S+Phraseswithmore 30prompts/block 24 57,369 Section4.4
rarecharacters Ã—3blocks
OfflineTest-Subset Asubsetofpromptsusedin 15prompts/block 10 4,096 Section5.3
Main Ã—1block
OfflineTest-Unseen M&S(notoverlappingwith 15prompts/block 10 4,571 Section5.4
Main) Ã—1block
OnlineTest M&S(notoverlappingwith 30prompts/block 16 43,735 Section6.2
Main)+OOVstrings Ã—4blocks
Table2:Charactererrorrates(CERs)onthemaindataset
whenusingthespatialmodel(SM)onlyandwhentheaddi- 800
tionaltechniqueswereincorporated.ğ¶,ğ» ğ‘“,andğ» ğ‘œ denote 700 Q W E R T Y U I O P
thetouchcentroid,theflattenedheatmap,andtheheatmap
600
overlapvectorinputfeatures,respectively,whileğ¶ğ»
ğ‘“
isğ¶
A S D F G H J K L
andğ» ğ‘“ concatenatedandğ¶ğ» ğ‘œ isğ¶andğ» ğ‘œ concatenated.Bold 500
numbersindicatetheleasterrorrateachievedineachsetting. 400
Underlinednumbersareforthewinnermethodandthose 300 SHIFT Z X C V B N M
thatarenotsignificantlydifferentfromthewinnerineach
200
setting.
100 ?123 , SPACE .
0
Leave-one-outCV CERâ†“Â±standarddeviation(%) 0 200 400 600 800 1000 1200 1400
(Section4.4) SMonly +Add.techniques
Figure6:Touchcentroidsofmisclassifiedexamplesofthe
Baselines
On-key 5.67Â±2.13 -
(ğ¶ğ» ğ‘“)modeland/ortheDistancebaselinewhenusingthe
spatialmodelsonly.Reddotsaretouchcentroidsofexam-
Distance 5.59Â±2.16 2.50Â±1.01
plesmisclassifiedbyboththe(ğ¶ğ» ğ‘“)modelandtheDistance
LogisticRegression baseline.Greendotsareofexamplesclassifiedcorrectlyby
(ğ¶) 56features 4.22Â±1.79 2.87Â±0.95 the(ğ¶ğ» ğ‘“)modelbutmisclassifiedbytheDistancebaseline.
(ğ» ğ‘“) 288features 3.31Â±1.29 2.02Â±0.88 BluedotsareofexamplesclassifiedcorrectlybytheDistance
(ğ¶ğ» ğ‘“) 344features 3.32Â±1.26 2.04Â±0.88 baselinebutmisclassifiedbymethodthe(ğ¶ğ» ğ‘“)model.
(ğ» ğ‘œ) 28features 3.77Â±1.61 2.27Â±0.97
(ğ¶ğ» ğ‘œ) 84features 3.64Â±1.52 2.23Â±0.94
Tobetterunderstandthestrengthsandtheweaknessesofthe
leveragetrainingdata.Next,the(ğ¶ğ» ğ‘“)modelfurtherreducedthe spatialmodels,weplottouchcentroidsofmisclassifiedexamples
charactererrorratefromthe(ğ¶)modelby0.90%absoluteor21.4% ofsomemodelsinFigs.6-7.Specifically,Fig.6comparesthe(ğ¶ğ» ğ‘“)
relative,whilethe(ğ¶ğ» ğ‘œ)modelcouldreduceitby0.58%absolute modeltotheDistancebaseline.Thereddotsaretheexampleswhich
bothmethodsmisclassified.Thegreendotswerecorrectlyclassified
or 13.7% relative. These highlight that the information from
touchheatmapcanenhancetheperformanceofthespatial
onlybythe(ğ¶ğ» ğ‘“)modelbutnottheDistancebaseline,whereas
modelforkeydecoding.Moreover,since(ğ» ğ‘“)wasbetterthan thebluedotsshowtheoppositecases.Asexpected,mostofthese
(ğ» ğ‘œ)and(ğ¶ğ» ğ‘“)wasbetterthan(ğ¶ğ» ğ‘œ),wecanconcludethatusing misclassifiedcasesstayneartheboundariesofthekeys.Also,we
canseemanygreendotsabovetheSPACEkey(insidethekeys
theflattenedheatmapyieldedlowererrorratesthantheheatmap
o uv sie nr gla tp heve hc et ao tr mf ao pri an lo-d ni est wri ab su sti lo ign htd la yta b. eL tta es rt tb hu antn uo st inl gea is tt t, of go er tğ» heğ‘“ r, B toua cn hd cN en) ta rn od idu sn std re ar yeth de awke ay ys frI oa mnd thO e. inT th ee ns de ea dr ke ec ya ss be us tw thh eer (ğ¶e ğ»th ğ‘“e
)
withthecentroid(pairedt-test:ğ‘¡(23) = 0.3399,ğ‘ = 0.74).Mean- modelcanrescuethem.Examplesthatarechallengingforboth
while, forğ» ğ‘œ, using the heatmap alone was significantly better methodsarethoseaimedtotypeAbutthecentroidwasonthe
keySaswellasthemisclassificationsbetweentwoconsecutive
thanusingittogetherwiththecentroid(Wilcoxonsigned-ranktest:
ğ‘Š =30,ğ‘ =2.39Ã—10âˆ’4).3 keysonthefirstrowofthekeyboardlayout(especiallyW-E,E-
R,U-I,andI-O).Inaddition,wenoticesomereddotsinsidethe
3TheeffectsizesoftheresultsofallthethreestudiesarereportedinAppendixA. SPACEkey,buttheintendedkeywasactuallythePERIODkey.CanCapacitiveTouchImagesEnhanceMobileKeyboardDecoding? UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA
Interestingly,however,whilethebesterrorratebelongedtothe
800 (ğ» ğ‘“)model,theDistancebaselinegotthelargestabsoluteCERre-
Q W E R T Y U I O P
700 duction(â‰ˆ3%)duetotheadditionaltechniques,whilethelogistic
600 regressionmodelsgotaround1.25%-1.50%absoluteCERreduction.
500
A S D F G H J K L Wehypothesizethatthemultiplicationbetweenğ‘ ğ‘˜ğ‘†ğ‘€ andğ‘ ğ‘˜ğ¿ğ‘€ in
Section 3.3.1 suits the Distance baseline more than the logistic
400 regressionmodels.Actually,fortheDistancebaseline,thismultipli-
300 SHIFT Z X C V B N M cationisinlinewiththenoisychannelmodelforspeechrecognition
200 [27],thecoreideaofwhichisapplicabletotapdecodingaswell.
Meanwhile,wemayneedaco-optimizationofthespatialmodeland
100 ?123 , SPACE .
thelanguagemodeltobestintegratebothinformationsourcesvia
0 machinelearning.Besidesthat,otherscorecombinationstrategies
0 200 400 600 800 1000 1200 1400
aswellasmodelcalibration[18]areworthexploringforfurtherre-
Figure7:Touchcentroidsofmisclassifiedexamplesofthe ducingtheerrorrates.Weconsidertheseresearchdirectionsfuture
(ğ¶ğ» ğ‘“) model and/or the (ğ¶) model when using the spatial workas,inthispaper,wefocusmainlyonthespatialmodelaspect
modelsonly.Reddotsaretouchcentroidsofexamplesmis- inordertoarriveatclearconclusionsconcerningtouchheatmap
classifiedbyboththe(ğ¶ğ» ğ‘“)modelandthe(ğ¶)model.Green effects.
dotsareofexamplesclassifiedcorrectlybythe(ğ¶ğ» ğ‘“)model
butmisclassifiedbythe(ğ¶)model.Bluedotsareofexam-
5 STUDY2-ANOFFLINEMODEL
plesclassifiedcorrectlybythe(ğ¶)modelbutmisclassifiedby
EVALUATION
methodthe(ğ¶ğ» ğ‘“)model.
ThegoalofStudy2wastoevaluatetheperformanceofthemodels
wedevelopedinStudy1(Section4)ontheirgeneralizabilitytonew
usersandunseenphrases.
Wehypothesizethatsomeparticipantsmightgetusedtotapping
5.1 TestSetsforOfflineEvaluation
theSPACEkeytwicetoaddaperiod.However,thisfeaturewas
disabled during data collection, resulting in the red dots. Fig. 7 Wecollectedthetestdatafromtennewparticipantswhomwe
comparesthe(ğ¶ğ» ğ‘“)modeltothe(ğ¶)model.Wecannoticethat
askedtocompletethreetypingtaskblocks.Weusedoneofthe
somegreendotsshownonFig.6disappearasthe(ğ¶)modelcan
blockstocollecttesttouchpointsforthisstudyandreservedthe
alsopredictthemcorrectly.Still,the(ğ¶ğ» ğ‘“)modelcanoutperform otherblocksforfuturestudies.Theblockforthisstudyconsists
the(ğ¶)modelbecauseofitsstrengthstohandleambiguouscases
of30prompts.Halfofthemwereselectedfromtheprevious90
betweenseveralkeypairssuchasE-R,O-P,H-J,K-L,andB-N,as promptsinawaythatmaximizesthecharacter-levelentropyof
wellastheclusterN-M-SPACE-PERIOD. eachpromptsubset,whiletheotherhalfwererandomlyselected
fromthephrasesintheMacKenzieandSoukoreffcorpusdifferent
4.4.4 ResultswithAdditionalTechniques. Thecolumnâ€œ+Add.tech- fromtheprevious90prompts.Thisledtotwosetsofdata,called
niquesâ€ofTable2showsthedecodingresultsafterthethreead- OfflineTest-Subset(foritcontainedasubsetofphrasesusedduring
ditionaltechniquesinSection3.3(LMintegration,skippingun- modeltraining)andOfflineTest-Unseen(foritconsistedofphrases
ambiguouscases,andneighborkeyfiltering)wereapplied.This unseenduringmodeltraining),respectively.Thisdatacollection
settingismoresimilartokeyboarddecodinginproductionwhere usedthesamedeviceandkeyboardsetupasinSection4.1andthe
thespatialmodelisnotinusealone.Notethatwehavenoresult sametouchpoint-keyalignmentalgorithmasinSection4.2.We
fortheOn-keybaselineunderthissettingsinceitcannotpredict summarizedthedetailsandthenumberofexamplesofthesetwo
thekeyprobabilitiestobecombinedwiththeLMscores. offlinetestsetsinTable1.
Accordingtotheresulttable,thethreeadditionaltechniques
helpedreducethecharactererrorratesforallthespatialmodels.
5.2 ModelsandSetup
Thetrendswefoundintheprevioussubsectionmostlyheldbut
theabsolutedifferencesbecamesmaller.Forexample,the(ğ¶ğ» ğ‘“) Duetotheleave-one-outcrossvalidationinStudy1(Section4.4),
modelwasstillsignificantlybetterthanthe(ğ¶)modelwith0.85% wehad24logisticregressionmodelsforeachinputfeatureset.To
absoluteCERdifferencecomparedto0.90%absolutewhenusingSM calculatetheaverageCERsforeachtestdataset,weappliedeachof
only.Also,the(ğ» ğ‘“)modelwasstillbetterthanthe(ğ» ğ‘œ)modelwith the24modelstothetouchpointsfromeachtestuserandaveraged
the0.25%absoluteCERgap,comparedto0.46%absoluteCERgap theCERsfromthe24modelstorepresentthemodelperformance
whenusingSMonly.Theexplanationforthesesmallerdifferences forthisuser.Afterthat,wecalculatedthemeanacrosstenusers
couldbethatthethreeadditionaltechniques(includingtheLM, tobethemodelperformanceforthedataset.AswithSection4.4,
skipping unambiguous cases, and neighbor key filtering) could weevaluatedthemodelsunderboththespatialmodelonlysetting
rescuemanymisclassificationsoftheweakerspatialmodel,but andthesettingwiththethreeadditionaltechniquesapplied,and
theywerealreadycorrectlyclassifiedbythestrongerspatialmodel, weusedeitherthepairedt-testortheWilcoxontestforcomparing
leadingtothesmallerperformancegapsbetweenthetwo. twomodelsdependingonthenormalityofthedata.UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShuminZhai
Table 3: Character error rates (CERs) on the OfflineTest- (ğ» ğ‘“)model,sowemaysaythattheheatmapoverlapvectoris
Subsetdataset(Top)andtheOfflineTest-Unseendataset(Bot- moregeneralizablethantheflattenedheatmapforunseen
tom)whenusingthespatialmodel(SM)onlyandwhenthe prompts.Aftertheadditionaltechniqueswereapplied,theper-
additionaltechniquesareincorporated.Boldnumbersindi- formance gap between these two heatmap representations was
catetheleasterrorrateachievedineachsetting.Underlined narroweddown.Still,themodelsthatusedheatmapfeatureswere
numbersareforthewinnermethodandthosethatarenot significantlybetterthanthe(ğ¶)modelandhadarelativelylarge
significantlydifferentfromthewinnerineachsetting. performancegapcomparedtotheDistancebaseline.
OfflineTest-Subset CERâ†“Â±standarddeviation(%) 6 STUDY3-CLOSINGTHELOOP:ANONLINE
(Section5.3) SMonly +Add.techniques INTERACTIVEMODELEVALUATION
Baselines Toassessthepracticaleffectivenessofheatmap-basedkeyboard
On-key 6.96Â±4.48 - decodingandhowitcompareswiththemachine-learningmodel
Distance 6.84Â±4.38 3.85Â±1.55 basedoncentroids,wedeployedthe(ğ» ğ‘œ)modelandthe(ğ¶)modelto
smartphonesandmeasuredhumanusersâ€™livetypingperformances
LogisticRegression
inStudy3.Thiswas,toourknowledge,thefirst-eversystematic
(ğ¶) 56features 6.68Â±3.68 4.74Â±1.69
investigationoflivetypingbehaviorsupportedbytouchheatmaps.4
(ğ» ğ‘“) 288features 6.44Â±3.80 3.78Â±1.74
(ğ¶ğ» ğ‘“) 344features 6.38Â±3.80 3.86Â±1.79
6.1 SetupforOnlineEvaluation
(ğ» ğ‘œ) 28features 6.43Â±3.56 3.83Â±1.48
(ğ¶ğ» ğ‘œ) 84features 6.32Â±3.74 3.78Â±1.53 Toensuretheconsistencybetweenthetrainingandinferenceofthe
models,weusedthesamemodelofsmartphonehardware(Pixel
6Pro),keyboardsizeandlayout(default),andscreenorientation
OfflineTest-Unseen CERâ†“Â±standarddeviation(%) (defaultportrait)asthemodelingstudy.Weimplementedtwomod-
(Section5.4) SMonly +Add.techniques elsonPixel6Protocompareintheuserstudy:the(ğ» ğ‘œ)modeland
Baselines the(ğ¶)model.Amongthefeaturesetswithğ» ğ‘“ orğ» ğ‘œ,wechosethe
On-key 8.21Â±4.92 - (ğ» ğ‘œ)modelbecauseofitshighestaverageaccuracywhendecoding
Distance 8.25Â±4.91 4.11Â±1.94 unseenprompts,accordingtoTable3(bottom),suggestingthatit
likelyworkswellinarealisticsetting.5 Duetothesmallsizeof
LogisticRegression
thelogisticregressionmodels,theiron-deviceinference,supported
(ğ¶) 56features 6.92Â±4.27 4.52Â±2.39
byTensorFlowLite,achievednegligiblelatenciesonthePixel6
(ğ» ğ‘“) 288features 6.75Â±4.20 3.72Â±2.13
Prodevices.Whentrainingthemodels,werandomlyselected20
(ğ¶ğ» ğ‘“) 344features 6.65Â±4.13 3.74Â±2.16
participantsand4participantsfromStudy1tobethetrainingand
(ğ» ğ‘œ) 28features 6.09Â±3.76 3.63Â±2.17
thevalidationsets,respectively.Thetrainingandvalidationlosses
(ğ¶ğ» ğ‘œ) 84features 6.22Â±3.76 3.68Â±2.28
arereportedinAppendixC.Also,weappliedthethreeadditional
techniquesinSection3.3(i.e.,theLM,skippingunambiguouscases,
andneighborkeyfiltering)forsmootheruserexperience,making
5.3 ResultsfromOfflineTest-Subset
thesettingmoresimilartodecodinginproduction.
Table3(top)showstheresultsfromtheOfflineTest-Subsetdataset.
UndertheSMonlysetting,the(ğ¶ğ» ğ‘œ)modelperformedthebest, Participantinclusioncriteria. Atotalof16participants(8male,
7 female, 1 non-binary) were recruited for this user study. The
butthedifferenceswerenotstatisticallysignificantfromtheother
inclusioncriteriaincluded:1)regularlyusestypingonasmartphone,
methods,possiblyduetothesmallsamplesize(i.e.,onlytenpartic-
ipants).Withtheadditionaltechniques,the(ğ» ğ‘“)modelperformed 2)usesEnglishastheprimarylanguageformobiletyping,and3)
thebest,comparablytothe(ğ» ğ‘œ)model,the(ğ¶ğ» ğ‘œ)model,andthe novisionormotorimpairmentthatmayaffectthecopytypingtask
intheuserstudy.
Distancebaseline.However,westillseetheclearbenefitofusing
theheatmapfeaturesoverthe(ğ¶)model.
Taskdetails. Eachuser-studyparticipantwasaskedtoperform
fourseparatetypingtaskblocks,eachconsistingof30textprompts
5.4 ResultsfromOfflineTest-Unseen tobecopy-typed.Intwooftheblocks,thekeyboardusedthe(ğ» ğ‘œ)
Table3(bottom)showstheresultsfromtheOfflineTest-Unseen modelforkeydecoding,whileintheremainingtwoblocks,thekey-
set.Consideringthebaselineresults,wecouldsaythatOfflineTest-
boardusedthe(ğ¶)model.Theorderofthe(ğ» ğ‘œ)andthe(ğ¶)blocks
UnseenismorechallengingtodecodethanOfflineTest-Subset.This werecounterbalancedacrossandblindedfromalltheparticipants.
islikelybecauseOfflineTest-Unseendoesnotcontaintheprompts Here,theuserswereinstructedtotypeasquicklyandasaccurately
withrarecharactersweaddedtobalancethecharacterdistribution aspossible(withtheirusualfastspeed).AswithSection4.1,they
(see Section 4.1). Therefore, for OfflineTest-Unseen, the partici- wereallowedtocorrecttypingerrorsbeforeeachsubmission,but
pantscouldincreasetheirspeedmore,leadingtomorechallenging
touchpoints.However,undertheSMonlysetting,thebestmethod 4Wepubliclyreleasethedataofthisstudyathttps://github.com/google-research-
forOfflineTest-Unseenwasthe(ğ» ğ‘œ)model,followedbythe(ğ¶ğ» ğ‘œ) d 5Wata es pe ets r/ ft oa rp m-t ey dp ain sg i- mw uit lah t- it oo nuc oh f- ts he in ss si tn ug d- yim foa rge ts h.
eotherheatmap-basedmodelsand
model.Moreover,the(ğ» ğ‘œ)modelwassignificantlybetterthanthe presentedtheresultsinAppendixB.CanCapacitiveTouchImagesEnhanceMobileKeyboardDecoding? UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA
Table4:Typingmetricsbyprompttypesofbothmodelcon- Table5:Charactererrorrates(CERs)â†“Â±standarddeviation
ditionsaveragedacross16participantsintheuserstudy. (%)ofbothmodelsforeachprompttypeandLMsetting.
Model WPMâ†‘Â±std. WERâ†“Â±std.(%) Model Englishphrases OOVstrings
Phrase OOV Phrase OOV LMoff LMon LMoff LMon
(ğ¶) 34.32Â±8.14 13.35Â±1.89 5.28Â±6.98 15.57Â±12.68 Onlytouchpointsprocessedbythemodel
(ğ» ğ‘œ) 36.13Â±8.70 13.60Â±2.23 3.60Â±4.44 12.40Â±11.79 (ğ¶) 10.69Â±4.98 4.76Â±2.29 11.76Â±7.23 28.89Â±5.48
(ğ» ğ‘œ) 9.81Â±5.33 3.66Â±2.55 7.85Â±5.70 22.84Â±7.56
Alltouchpoints
thiswasnotmandatoryunlessthedifferencebetweentheirsub-
(ğ¶) 6.04Â±4.35 3.02Â±2.05 3.55Â±3.03 7.78Â±3.23
mittedtextandtheoriginalpromptexceeded60%ofthepromptâ€™s
length.ThesamedatacollectionappasSection4.1wasusedin
(ğ» ğ‘œ) 5.72Â±4.13 2.59Â±2.08 2.91Â±2.69 6.81Â±4.34
thisonlineuserstudy.Followingeachblock,theuserscompleteda
shortsurveyformandansweredquestionsregardingtheintended
Specifically,therelativegainofthetypingspeed(inWPM)due
andachievedtypingspeedandtheirsatisfactionwiththetyping
tothe(ğ» ğ‘œ)modelrelativetothe(ğ¶)modelwas5.27%andreached
experienceinthejust-completedblock.Theywerealsogivena
significanceunderthepairedt-test(ğ‘¡(15)=2.4790,ğ‘ =0.026,two-
1-2minutebreakbeforeproceedingtothenextblock.Thetotal
tailed,samebelow)fortheEnglishphrases.FortheOOVstrings,
durationoftheentireuser-studysessionvariedbetween30and50
thisrelativegainwassmaller(1.87%)anddidnotreachstatistical
minutesamongthe16participants.
significance(ğ‘¡(15)=0.7099,ğ‘ =0.489).Similarly,intermsoftyping
Promptsetconstruction. The30promptspresentedasthetext accuracy,theworderrorrate(WER)showeda31.82%reduction
forcopy-typingineachblockweredividedintotwosubsets: (3.60%vs5.28%)duetothe(ğ» ğ‘œ)modelrelativetothe(ğ¶)model
(1) UnseenEnglishphrases:20phrasesfromtheMacKen- (Wilcoxonsigned-ranktest:ğ‘Š = 17,ğ‘ = 0.026)fortheEnglish
zieandSoukoreffsentences[32],noneofwhichwasused phrases.A(ğ» ğ‘œ)-inducedWERreductionwassimilarlyseenforthe
totrainorvalidatethetwomodels.Theselectionofthese
OOVstringsaswell(12.40%vs.15.57%),butthedifferencewasnot
phrases tested generalizability of the models for general statisticallysignificant(Wilcoxonsigned-ranktest:ğ‘Š =43.5,ğ‘ =
Englishtyping.
0.349).
(2) Randomstrings:10stringsofrandomcharacterschosen
6.2.2 Survey Results. The post-block surveys asked the partici-
fromthe26Englishletters,SPACE,andPERIOD.Eachran-
pants to rate their satisfaction on a five-point Likert scale. The
domstringwasexactly8-characterlonganddoesnothave
resultsfromthissurveyquestionshowedthatthestudypartici-
SPACEatthebeginningorattheendtoavoidvisualambi-
pants,blindedfromtheconditions,assignedasignificantly
guity.Thesestringsareconsideredout-of-vocabulary(OOV) highersatisfactionscoretothe(ğ» ğ‘œ)typingconditionthan
unliketheunseenEnglishphrases. the(ğ¶)typingcondition(mean4.0000Â±0.4830vs.3.6250Â±0.6455,
TheEnglishphrasesandrandomstringsweremixedandshuffled pairedt-test:ğ‘¡(15)=3.223,ğ‘ =0.006).Moreover,thesurveysasked
randomlyinorderineachblock.Thefourblocksconsistedofnon- howdifficultitwastotypeEnglishphrasesandOOVstringsinthe
overlappingprompts.Inaddition,thepromptswererandomizedin block.Usingafive-pointLikertscalewhere1meansâ€œverydifficultâ€
orderamongtheparticipants.Duringthelabstudy,theauto-correct and5meansâ€œveryeasyâ€,theaveragescoresof(ğ» ğ‘œ)and(ğ¶)were
featureofthekeyboardwasdisabledinordertopreventthetyping 3.875and3.375,respectively,forEnglishphrases,and2.875and
ofrandomstringsfromtriggeringunwantedcorrections. 2.813,respectively,forOOVstrings.Thedifferencewassignificant
Datacollected. Thedatacollectedincludedthetouchheatmaps
forEnglishphrases(pairedt-test:ğ‘¡(15) =4.899,ğ‘ =1.93Ã—10âˆ’4)
andcentroids,theirassociatedtimestamps,aswellastheLMscores
butnotforOOVstrings(pairedt-test:ğ‘¡(15) = 0.333,ğ‘ = 0.744).
associatedwitheachtapevent(ifavailable),andtheresultofthe Thesewereconsistentwiththesignificancetestresultsofthetyping
onlinedecoding.Basedonthesedata,wecomputedthecharacter- metrics(WPMandWER)reportedearlier.
and word-level error rates and the typing speed (in words per
6.2.3 PostHocAnalysis. Theresultssofarindicatethatforthe
minute,WPM)6andcomparedtheirvaluesbetweentheconditions.
English phrases used in this lab study, objective and subjective
measurementsbothsupportthatthetouchheatmap-baseddecoding
6.2 ResultsofOnlineEvaluation
algorithmisnotonlycapableofsupportingeffectivemobiletap
6.2.1 TypingMetrics. AsshowninTable4,asexpected,thepar- typingbutalsosignificantlyexceedstheconventionalcentroid-
ticipantsexhibitedloweraveragetypingspeed(WPM)andhigher basedalgorithminaccuracy,speed,anduserexperience.Asfor
word error rate (WER) when typing the random (OOV) strings theOOVstrings,increasesinaccuracy,speed,anduserexperience
thantypingtheunseenEnglishphrases.Inthemeantime,their werealsoobservedonaveragewhentypingwithheatmapsupport
observedtypingbehaviorshowedbothhigherspeed(WPM) thanwithout.Butthesedifferencesweresmallercomparedtothe
andlowerWERundertheblockssupportedbythe(ğ» ğ‘œ)model Englishphrasesanddidnotreachstatisticalsignificanceunderour
thantheonessupportedbythe(ğ¶)model. samplesize(ğ‘ =16).Tounderstandthereasonforthisdifference,
weanalyzedthecompositionoftapsacrossthetwoprompttypes.
6WefollowthedefinitionofWPMin[3]wherefivecharactersareconsideredone
wordsothatwecancompareWPMsofEnglishphrasesandrandom(OOV)strings. Theresult,asFig.8shows,indicatesthattheuserslandedtheirtapUISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShuminZhai
Deployed prediction type distribution for each prompt type theLMandbenefitoverallaccuracy,evenwhentheLMusedisfaced
withOOVwords.Thisalsomotivatestheuseoftouchheatmapsin
1.0
othertouch-basedapplications,suchaspinpadsandcalculators,
whereLMisinapplicable.
0.8
0.6 7 DISCUSSIONSANDFUTUREWORK
Ourmodelingstudyanduserstudyresultsdemonstratedthat,rela-
0.4 tivetothetraditionaltouchcentroiddata,touchheatmapscarry
additionalspatialinformationthatcanbeusedtoreducetheerror
0.2 Model with LM rateofdecodingtappedkeysduringtextentryonasmartphone.
Model without LM
Overall,ourfindingsilluminateadirectionoffutureresearchand
Not Ambiguous
0.0 engineeringeffortsaimedatenhancingthepracticalaccuracyand
usabilityofmobiletyping.
Prompt Type
7.1 HeatmapsforKeyDecoding
Figure8:Predictiontypedistributionoftouchpointsduring Comparedtotouchcentroids,touchheatmapsareatalowerlevel
deploymentforeachprompttype.â€œNotambiguousâ€touch closertotherawcapacitivesensorinput.Whentraditionalmobile
points landed close enough to a key center and were not firmware postprocesses the touch sensor data into centroids, it
processedbythelogistic-regressionspatialmodels.â€œModel approximatestouchesaspoint-likeevents,anassumptionthatis
withoutLMâ€meansthespatialmodelswereusedbuttheLM furtherjustifiedbytheeconomyandsimplicityofthedataformat.
scoreswerenotavailableorwerenotinformative(e.g.,being Prior to this study, it was unclear whether this postprocessing
equalforallthecandidatekeys).â€œModelwithLMâ€meansthe discardsinformationintouchimagesthathassignificantvaluefor
spatialmodelscoreswerecombinedwiththeinformative decodingtoucheventsduringtyping,despitetheknowledgethat
LMscorestomakethefinalprediction. thisinformationisusefulforotherpurposesinmobileUIs[7,16,
29,34,39].Theresultsofthepresentstudyprovideanaffirmative
answertothisquestion.Thenatureofsuchadditionalinformation
centroidsinunambiguouson-keyregionsofthekeyboardmore originatesfromthefactthatthecontactbetweenauserâ€™styping
oftenwhenenteringtheOOVstringsthantheEnglishphrases digit(thumborfinger)andthetouchscreenisneitherpoint-like
(73.2%vs51.8%),whichlikelyresultedfromtheusersâ€™effortto norrigid,butinsteadreflectsthegeometricandelasticproperties
accuratelyentertheseunfamiliarprompts.Ifcomparisonswere oftheskinandunderlyingtissue.
limitedtotheportionofthetapsthatwereambiguous(i.e.,the AsFigs.6-7show,theheatmapsareparticularlyinformative
greenandorangepartsofthebarsinFig.8),though,significant whentouchcentroidslandneartheborderbetweenkeysonthe
reductionsinCERwereindeedseenundertheheatmap(ğ» ğ‘œ)model softkeyboard.Insuchcases,therelativecapacitiveinputsfromthe
thanthe(ğ¶)model(22.84Â±7.32vs28.89Â±5.30,pairedt-test:ğ‘¡(15)= nearbytouchsensorsprovidesignificantdisambiguatingpower,
3.588,ğ‘ =0.003),againindicatingtheefficacyoftheheatmapsinput especiallyinthelackofanaccuratelanguagemodel.Asaconcrete
inimprovingtheaccuracyofkeyboarddecoding. example,Table6showsapairoftapsfromStudy3thecentroidsof
Additionally,weinvestigatedtheeffectoftheLMonthesetwo whichareveryclosetoeachother,i.e.,(x,y)=(457,152)vs(456,151)
prompttypes.Duringthelivestudy,theLMwasturnedontogether atthepixellevel.Thesetapsareconsideredambiguousbecausetheir
withtheotheradditionaltechniques(i.e.,skippingunambiguous centroidsstayneartheboundarybetweenthekeyseandr.Dueto
casesandneighborkeyfiltering).Here,wetriedswitchingtheLM theproximityofthetwocentroids,the(ğ¶)modelpredictedthesame
on and off for the post hoc analysis (while always keeping the key(e)forbothcaseswiththepredictedprobabilitiesapproaching
otheradditionaltechniqueson)andobservingtheCERdifferences. 0.5(fortheyarenearthekeyboundary).However,basedonthe
AccordingtoTable5,asexpected,enablingtheLMreducedtheCER alignmentwiththeprompts,onlythefirsttapwasinfactewhilethe
forEnglishphrasesbymorethanahalf.Incontrast,itincreasedthe truelabelofthesecondtapwasr.Lookingattheirheatmapimages,
CERforOOVstringsformorethan100%.Theresultsuggeststhat wenoticedaninterestingdifferencethatistheheatmapcellson
ifthekeyboard"knows"thattheuseristypinganOOVstring,it thekeyrwereactivatedmoreinthesecondtapthanthefirsttap.
shoulddisabletheLM.Thisisastandardpracticeforpasswordfields, Beingawareofthisinformation,theheatmapmodels,e.g.,(ğ» ğ‘œ)
forexample.However,generally,theusermaytypeanOOVstring and(ğ¶ğ» ğ‘œ),thereforepredictedbothcasescorrectlywithrelatively
(e.g.,aforeignnameoranovelacronym)amongstin-distribution higherpredictedprobabilities.Inotherwords,theresultsinthis
Englishtexts.Inthiscase,theuserenterstheOOVstringwhilethe paperdemonstratethatthetouchheatmapisabetterrepresentation
LMison,andthatiswhenwecanclearlyseethebenefitofthe(ğ» ğ‘œ) andtreatmentofthefatfingererrors[26,43],aprominenttypeof
modeloverthe(ğ¶)model(CERs:6.81Â±4.20vs7.78Â±3.13considering errorsinmobiletyping.Wefurtherbelievethat,forsmallerscreens
alltouchpointsor22.84Â±7.32vs28.89Â±5.30,consideringonly (e.g.,smartwatches[15]),keyboardswithsmallerscreenrealestates,
touchpointsprocessedbythemodel).NotethatwhileLMishelpful andthosewithsmallerkeysizes,theheatmapsmayprovetobe
forkeydecoding,ourspatialmodelingimprovementscomplement evenmoreusefulandmeritfurtherstudies.
egatnecreP
esarhP VOOCanCapacitiveTouchImagesEnhanceMobileKeyboardDecoding? UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA
Table6:ExamplesofusertapsfromStudy3andthemodelpredictionswithoutusingthelanguagemodel.Eachtapisaligned
withtheunderlinedcharacterintheprompt.Despitetheveryclosecentroids,thegroundtruthlabelsofthetwocasesare
different(evsr).Onlythemodelsleveragingtouchheatmappredictedbothofthemcorrectly.
Prompt Presidents drive expensive cars. One hour is allotted for questions.
Touchcentroid
andheatmap
Centroid
(457,152) (456,151)
position(x,y)
Predictions
On-key r âœ— r âœ“
(ğ¶) e (Prob.=0.5197) âœ“ e (Prob.=0.5302) âœ—
(ğ» ğ‘œ) e (Prob.=0.6259) âœ“ r (Prob.=0.7474) âœ“
(ğ¶ğ» ğ‘œ) e (Prob.=0.5915) âœ“ r (Prob.=0.7322) âœ“
Asanoutlook,anotherfactorthatmayaffecttheshapeofthe incaseswherethetextwastotallyrandomandOOV,withdecod-
contactarea,andhencethetouchheatmap,isthepositionwhere ingaccuraciesthatconsistentlyexceedthecentroid-onlybaselines.
thetypingfingerwasatbeforemovingtodothecurrenttap.For Thesefindings,whileinformative,didnotcoverotheraspectsof
example,withtheQWERTYkeyboardlayout,thetouchheatmaps generalizabilitythatarealsopracticallyimportantformobiletext
of sincatsandhascouldbedifferent.Intheformercase,the entry.Thecurrentstudywaslimitedtotwo-thumbtyping,which
userneedstomovetheirfingerfromttos(â†™)whichcancausea tendstobethemostcommonandfastest[4,37,40],butnotthe
differentheatmapshapefromthemovefromatos(â†’)inthelatter only,postureusedformobiletouchscreentyping.Thedecoding
case.Thecurrentmodelstreateachtouchpointindividually,so algorithmsandmodelsdevelopedinthisstudywillneedtobefur-
theybecomeagnosticonthisinformation.Oneinterestingfuture theradaptedforusewithmultiplehandpostures.However,this
workis,therefore,modifyingthemodelstotakeinformationfrom wouldalsocreatebothchallengesandopportunitiesformoreac-
theprevioustouchpoint(s)asadditionalinputfeatures.Another curatedecoding,startingwitheffectiveandscalableheatmapdata
potentialfutureworkistoleverageheatmapframesbeyondthefirst collectionwithdifferenthandpostures.
frame.Forexample,usingthefirstğ‘ framesofthetargettapmight Apartfromtypingposture,inthispaper,themodelsthatutilized
furtherenhancetheaccuracy(duetothedynamicbiomechanical heatmaps are trained and evaluated for the same device model
informationcontainedinthesequence).Theoptimalvalueofğ‘ (GooglePixel6Pro),onthesamekeyboardsize,andusingthesame
needstobedeterminedtobestbalancethetrade-offbetweenaccu- screensizewiththedefaultorientation(portrait).Inaddition,all
racyimprovementandincreasesinlatencyandcomputationalcost. the28candidatekeysareontheprimarykeyboardlayoutonly
Tosupportthesestudies,thebigramcharacterdistributionshould (i.e., no number or punctuation except periods). Therefore, the
beconsideredwhenconstructingthepromptsetfordatacollection, generalizabilityofthelearnedmodelstoothercombinationsof
inadditiontotheunigramcharacterdistributionasinspectedin thesefactorsisanunansweredquestion.Sincetheusersâ€™touch
Fig.5.Inaddition,acomprehensivestudyofalternativemachine locationsfollowthesize,location,anddetailedkeylayoutofthesoft
learningmethods(apartfromlogisticregression)mayleadtomore keyboard,itisunlikelythatthelearnedMLmodelscangeneralize
optimizedkeydecodingaccuracy. perfectlywithoutadaptationifthosefactorsarealtered.Effective
generalizationmaycallforremappingofthetouchheatmapontoa
differentkeyboardlayoutthroughimageinterpolationorwarping,
7.2 Generalization
theefficacyofwhichisanopenquestionforfuturestudies.However,
Theresultsfromourofflinetest(Section5)andonlinetest(Sec- basedonoursmallsurvey(ğ‘ =46)conductedtolearnhowpeople
tion6)showedthattheMLmodeltrainedtodecodetouchheatmaps changethekeyboardlayoutontheirpersonalsmartphones,we
generalizedsatisfactorilytounseenusersandunseentext,evenUISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShuminZhai
foundthat30people(65.2%)haveneverchangedthelayoutsince systems(CHIâ€™13).AssociationforComputingMachinery,NewYork,NY,USA,
theystartedusingthephonewhereas13people(28.3%)saidthey 1363â€“1372. https://doi.org/10.1145/2470654.2466180
[7] TobiasBoceck,SaschaSprott,HuyVietLe,andSvenMayer.2019.ForceTouch
havechangeditonlyonce.Only3people(6.5%)havechangedthe
DetectiononCapacitiveSensorsusingDeepNeuralNetworks.InProceedings
layoutsmultipletimes.Thissurveyresultshowsthatthedefault ofthe21stInternationalConferenceonHuman-ComputerInteractionwithMobile
keyboardlayoutandsizeprobablyaccountforamajorityoftheuser DevicesandServices(MobileHCIâ€™19).AssociationforComputingMachinery,New
York,NY,USA,Article42,6pages. https://doi.org/10.1145/3338286.3344389
base,whichamelioratestheconcernabouttheburdenofcollecting [8] FrederickChoi,SvenMayer,andChrisHarrison.2021.3DHandPoseEstimation
heatmapdatafornumerouskeyboardlayouts.Furthermore,models onConventionalCapacitiveTouchscreens.InProceedingsofthe23rdInternational
ConferenceonMobileHuman-ComputerInteraction(MobileHCIâ€™21).Association
tailoredtospecifickeyboardlayoutsandtypingconditionscan
forComputingMachinery,NewYork,NY,USA,Article3,13pages. https:
betrainedatscaleusingfederatedlearning.Thisallowsmultiple //doi.org/10.1145/3447526.3472045
devicestocollaborativelytrainthemodelswithoutsharinguser [9] JacobCohen.2013.Statisticalpoweranalysisforthebehavioralsciences.routledge.
typingdata,therebypreservinguserprivacy[19,52].
[10] RALPHDâ€™agostinoandEgonSPearson.1973.Testsâˆšfordeparturefromnormality.
Empiricalresultsforthedistributionsofğ‘2and ğ‘. Biometrika60,3(1973),
613â€“622.
8 CONCLUSION [11] LeahFindlater,JacobO.Wobbrock,andDanielWigdor.2011.Typingonflatglass:
examiningten-fingerexperttypingpatternsontouchsurfaces.InProceedings
Thispaperstudieswhethercapacitivetouchimagesfrommobile oftheSIGCHIConferenceonHumanFactorsinComputingSystems(CHIâ€™11).
touchscreenscanenhancetheaccuracyofspatialmodelsforde- AssociationforComputingMachinery,NewYork,NY,USA,2453â€“2462. https:
//doi.org/10.1145/1978942.1979301
coding tap typing. To do so, we trained and compared logistic [12] MayankGoel,LeahFindlater,andJacobWobbrock.2012. WalkType:using
regression-basedspatialmodelswithandwithouttouchheatmaps accelerometerdatatoaccomodatesituationalimpairmentsinmobiletouchscreen
textentry.InProceedingsoftheSIGCHIConferenceonHumanFactorsinComputing
as input features under three settings â€“ a leave-one-out cross-
Systems(CHIâ€™12).AssociationforComputingMachinery,NewYork,NY,USA,
validation,anofflinetest,andanonlinetest(i.e.,auserstudywith 2687â€“2696. https://doi.org/10.1145/2207676.2208662
theheatmap-basedmodeldeployed).Theresultsshowthatusing [13] MayankGoel,AlexJansen,TravisMandel,ShwetakN.Patel,andJacobO.Wob-
brock.2013.ContextType:usinghandpostureinformationtoimprovemobile
orincorporatingthetouchheatmapindeedimprovedthedecoding
touchscreentextentry.InProceedingsoftheSIGCHIConferenceonHumanFactors
accuracyoverusingsolelythetouchcentroid.Withtheheatmap inComputingSystems(CHIâ€™13).AssociationforComputingMachinery,New
overlapvectorrepresentation,theuser-studyparticipantsgavea York,NY,USA,2795â€“2798. https://doi.org/10.1145/2470654.2481386
[14] JoshuaGoodman,GinaVenolia,KeithSteury,andChaunceyParker.2002.Lan-
significantlyhighersatisfactionscoretotheheatmapmodelcom- guagemodelingforsoftkeyboards.InProceedingsofthe7thInternationalConfer-
paredtothecentroidmodelonaverage,indicatingthatthebenefit enceonIntelligentUserInterfaces(IUIâ€™02).AssociationforComputingMachinery,
NewYork,NY,USA,194â€“195. https://doi.org/10.1145/502716.502753
oftouchheatmapsisperceivabletotheusers.Whilethispaperhas
[15] MitchellGordon,TomOuyang,andShuminZhai.2016.WatchWriter:Tapand
shownthattouchheatmapscontainrichandusefulinformation GestureTypingonaSmartwatchMiniatureKeyboardwithStatisticalDecoding.
forkeydecoding,theintegrationofheatmapstotheproduction InProceedingsofthe2016CHIConferenceonHumanFactorsinComputingSystems
(CHIâ€™16).AssociationforComputingMachinery,NewYork,NY,USA,3817â€“3821.
keyboardsystem,whichneedstosupportvariouskeyboardlayouts
https://doi.org/10.1145/2858036.2858242
andtypingenvironments,remainstobestudiedinthefuture. [16] IvanaGuarneri,AlessandroCapra,AlfioCastorina,SebastianoBattiato,and
GiovanniMariaFarinella.2013. PCAbasedshaperecognitionforcapacitive
touchdisplay.In2013IEEEInternationalConferenceonConsumerElectronics
ACKNOWLEDGMENTS
(ICCE).IEEE,596â€“597. https://doi.org/10.1109/ICCE.2013.6487033
[17] AselaGunawardana,TimPaek,andChristopherMeek.2010.Usabilityguided
WewouldliketothankYuanboZhang,GarySivek,PhilipQuinn,
key-targetresizingforsoftkeyboards.InProceedingsofthe15thInternational
MichaelXuelinHuang,CutterCoryell,LaurentDenoue,Fuxiao ConferenceonIntelligentUserInterfaces(IUIâ€™10).AssociationforComputingMa-
Xin, Jingtao Wang, and many other Gboard team members for chinery,NewYork,NY,USA,111â€“118. https://doi.org/10.1145/1719970.1719986
[18] ChuanGuo,GeoffPleiss,YuSun,andKilianQ.Weinberger.2017.OnCalibration
theirhelpfulinput,comments,anddiscussions.Wealsoextendour ofModernNeuralNetworks.InProceedingsofthe34thInternationalConference
thankstoSarikaAmteandtheGoogleUXresearchcolleaguesfor onMachineLearning(ProceedingsofMachineLearningResearch),DoinaPrecup
andYeeWhyeTeh(Eds.),Vol.70.PMLR,1321â€“1330. https://proceedings.mlr.
theirassistanceincoordinatingtheuserstudies.
press/v70/guo17a.html
[19] AndrewHard,KanishkaRao,RajivMathews,SwaroopRamaswamy,FranÃ§oise
REFERENCES Beaufays,SeanAugenstein,HubertEichner,ChloÃ©Kiddon,andDanielRamage.
2019.FederatedLearningforMobileKeyboardPrediction.arXiv:cs.CL/1811.03604
[1] KaranAhuja,PaulStreli,andChristianHolz.2021. TouchPose:HandPose https://arxiv.org/abs/1811.03604
Prediction,DepthEstimation,andTouchClassificationfromCapacitiveImages. [20] ChrisHarrison,JuliaSchwarz,andScottE.Hudson.2011.TapSense:enhancing
InThe34thAnnualACMSymposiumonUserInterfaceSoftwareandTechnology fingerinteractionontouchsurfaces.InProceedingsofthe24thAnnualACM
(UISTâ€™21).AssociationforComputingMachinery,NewYork,NY,USA,997â€“1009. SymposiumonUserInterfaceSoftwareandTechnology(UISTâ€™11).Associationfor
https://doi.org/10.1145/3472749.3474801 ComputingMachinery,NewYork,NY,USA,627â€“636. https://doi.org/10.1145/
[2] KhaldounAlFaraj,MustaphaMojahid,andNadineVigouroux.2009. BigKey: 2047196.2047279
AVirtualKeyboardforMobileDevices.InHuman-ComputerInteraction.Ambi- [21] LarsHellsten,BrianRoark,PrasoonGoyal,CyrilAllauzen,FranÃ§oiseBeaufays,
ent,UbiquitousandIntelligentInteraction,JulieA.Jacko(Ed.).SpringerBerlin TomOuyang,MichaelRiley,andDavidRybach.2017. TransliteratedMobile
Heidelberg,Berlin,Heidelberg,3â€“10. KeyboardInputviaWeightedFinite-StateTransducers.InProceedingsofthe13th
[3] AhmedSabbirArifandWolfgangStuerzlinger.2009. Analysisoftextentry InternationalConferenceonFiniteStateMethodsandNaturalLanguageProcessing
performancemetrics.In2009IEEETorontoInternationalConferenceScienceand (FSMNLP2017),FrankDrewes(Ed.).AssociationforComputationalLinguistics,
TechnologyforHumanity(TIC-STH).IEEE,100â€“105. https://doi.org/10.1109/TIC- UmeÃ¥,Sweden,10â€“19. https://doi.org/10.18653/v1/W17-4002
STH.2009.5444533 [22] NielsHenze,EnricoRukzio,andSusanneBoll.2011.100,000,000taps:analysis
[4] ShiriAzenkotandShuminZhai.2012.Touchbehaviorwithdifferentpostureson andimprovementoftouchperformanceinthelarge.InProceedingsofthe13th
softsmartphonekeyboards.InProceedingsofthe14thInternationalConferenceon InternationalConferenceonHumanComputerInteractionwithMobileDevicesand
Human-ComputerInteractionwithMobileDevicesandServices(MobileHCIâ€™12). Services(MobileHCIâ€™11).AssociationforComputingMachinery,NewYork,NY,
AssociationforComputingMachinery,NewYork,NY,USA,251â€“260. https: USA,133â€“142. https://doi.org/10.1145/2037373.2037395
//doi.org/10.1145/2371574.2371612 [23] JuanDavidHincapiÃ©-Ramos,XiangGuo,PaymahnMoghadasian,andPourang
[5] GaryBarrettandRyomeiOmote.2010.Projected-capacitivetouchtechnology. Irani.2014. Consumedendurance:ametrictoquantifyarmfatigueofmid-
InformationDisplay26,3(2010),16â€“21. airinteractions.InProceedingsoftheSIGCHIConferenceonHumanFactorsin
[6] XiaojunBi,YangLi,andShuminZhai.2013.FFittslaw:modelingfingertouchwith ComputingSystems(CHIâ€™14).AssociationforComputingMachinery,NewYork,
fittsâ€™law.InProceedingsoftheSIGCHIconferenceonhumanfactorsincomputingCanCapacitiveTouchImagesEnhanceMobileKeyboardDecoding? UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA
NY,USA,1063â€“1072. https://doi.org/10.1145/2556288.2557130 [42] MunehikoSato,IvanPoupyrev,andChrisHarrison.2012. TouchÃ©:enhanc-
[24] EveHoggan,StephenA.Brewster,andJodyJohnston.2008.Investigatingthe ingtouchinteractiononhumans,screens,liquids,andeverydayobjects.In
effectivenessoftactilefeedbackformobiletouchscreens.InProceedingsofthe ProceedingsoftheSIGCHIConferenceonHumanFactorsinComputingSystems
SIGCHIConferenceonHumanFactorsinComputingSystems(CHIâ€™08).Association (CHIâ€™12).AssociationforComputingMachinery,NewYork,NY,USA,483â€“492.
forComputingMachinery,NewYork,NY,USA,1573â€“1582. https://doi.org/10. https://doi.org/10.1145/2207676.2207743
1145/1357054.1357300 [43] GarySivekandMichaelRiley.2022. SpatialmodelpersonalizationinGboard.
[25] ChristianHolzandPatrickBaudisch.2010. Thegeneralizedperceivedinput ProceedingsoftheACMonHuman-ComputerInteraction6,MHCI(2022),1â€“17.
pointmodelandhowtodoubletouchaccuracybyextractingfingerprints.In [44] PaulStreliandChristianHolz.2021. CapContact:Super-resolutionContact
ProceedingsoftheSIGCHIConferenceonHumanFactorsinComputingSystems AreasfromCapacitiveTouchscreens.InProceedingsofthe2021CHIConference
(CHIâ€™10).AssociationforComputingMachinery,NewYork,NY,USA,581â€“590. onHumanFactorsinComputingSystems(CHIâ€™21).AssociationforComputing
https://doi.org/10.1145/1753326.1753413 Machinery,NewYork,NY,USA,Article289,14pages. https://doi.org/10.1145/
[26] ChristianHolzandPatrickBaudisch.2011.Understandingtouch.InProceedings 3411764.3445621
oftheSIGCHIConferenceonHumanFactorsinComputingSystems(CHIâ€™11). [45] DanielVogelandPatrickBaudisch.2007.Shift:atechniqueforoperatingpen-
AssociationforComputingMachinery,NewYork,NY,USA,2501â€“2510. https: basedinterfacesusingtouch.InProceedingsoftheSIGCHIConferenceonHuman
//doi.org/10.1145/1978942.1979308 FactorsinComputingSystems(CHIâ€™07).AssociationforComputingMachinery,
[27] FrederickJelinek.1998. Statisticalmethodsforspeechrecognition. MITpress, NewYork,NY,USA,657â€“666. https://doi.org/10.1145/1240624.1240727
Cambridge,MA,USA. [46] TimWangandTimBlankenship.2011. Projected-CapacitiveTouchSystems
[28] SarahMartinaKolly,RogerWattenhofer,andSamuelWelten.2012.Apersonal fromtheControllerPointofView.InformationDisplay27,3(2011),8â€“11.
touch:recognizingusersbasedontouchscreenbehavior.InProceedingsofthe [47] DarylWeir,HenningPohl,SimonRogers,KeithVertanen,andPerOlaKristensson.
ThirdInternationalWorkshoponSensingApplicationsonMobilePhones(Phone- 2014. Uncertaintextentryonmobiledevices.InProceedingsoftheSIGCHI
Senseâ€™12).AssociationforComputingMachinery,NewYork,NY,USA,Article1, ConferenceonHumanFactorsinComputingSystems(CHIâ€™14).Associationfor
5pages. https://doi.org/10.1145/2389148.2389149 ComputingMachinery,NewYork,NY,USA,2307â€“2316. https://doi.org/10.1145/
[29] HuyVietLe,ThomasKosch,PatrickBader,SvenMayer,andNielsHenze.2018. 2556288.2557412
PalmTouch:UsingthePalmasanAdditionalInputModalityonCommodity [48] FrankWilcoxon.1945.IndividualComparisonsbyRankingMethods.Biometrics
Smartphones.InProceedingsofthe2018CHIConferenceonHumanFactorsin Bulletin1,6(1945),80â€“83. http://www.jstor.org/stable/3001968
ComputingSystems(CHIâ€™18).AssociationforComputingMachinery,NewYork, [49] SvanteWold,KimEsbensen,andPaulGeladi.1987.Principalcomponentanalysis.
NY,USA,1â€“13. https://doi.org/10.1145/3173574.3173934 Chemometricsandintelligentlaboratorysystems2,1-3(1987),37â€“52.
[30] TianshiLi,PhilipQuinn,andShuminZhai.2023.C-PAK:CorrectingandCom- [50] XinYi,ChenWang,XiaojunBi,andYuanchunShi.2020.PalmBoard:Leverag-
pletingVariable-lengthPrefix-basedAbbreviatedKeystrokes.ACMTransactions ingImplicitTouchPressureinStatisticalDecodingforIndirectTextEntry.In
onComputer-HumanInteraction30,1(2023),1â€“35. Proceedingsofthe2020CHIConferenceonHumanFactorsinComputingSystems
[31] YanMa,ShuminZhai,IVRamakrishnan,andXiaojunBi.2021.ModelingTouch (CHIâ€™20).AssociationforComputingMachinery,NewYork,NY,USA,1â€“13.
PointDistributionwithRotationalDualGaussianModel.InThe34thAnnualACM https://doi.org/10.1145/3313831.3376441
SymposiumonUserInterfaceSoftwareandTechnology(UISTâ€™21).Associationfor [51] ChunYu,YizhengGu,ZhicanYang,XinYi,HengliangLuo,andYuanchunShi.
ComputingMachinery,NewYork,NY,USA,1197â€“1209. https://doi.org/10.1145/ 2017.Tap,DwellorGesture?ExploringHead-BasedTextEntryTechniquesfor
3472749.3474816 HMDs.InProceedingsofthe2017CHIConferenceonHumanFactorsinComputing
[32] I.ScottMacKenzieandR.WilliamSoukoreff.2003.Phrasesetsforevaluatingtext Systems(CHIâ€™17).AssociationforComputingMachinery,NewYork,NY,USA,
entrytechniques.InCHIâ€™03ExtendedAbstractsonHumanFactorsinComputing 4479â€“4488. https://doi.org/10.1145/3025453.3025964
Systems(CHIEAâ€™03).AssociationforComputingMachinery,NewYork,NY,USA, [52] YuanboZhang,DanielRamage,ZhengXu,YanxiangZhang,ShuminZhai,andPe-
754â€“755. https://doi.org/10.1145/765891.765971 terKairouz.2023.PrivateFederatedLearninginGboard.arXiv:cs.CR/2306.14793
[33] LaurentMagnien,JeanLÃ©onBouraoui,andNadineVigouroux.2004. Mobile https://arxiv.org/abs/2306.14793
TextInputwithSoftKeyboards:OptimizationbyMeansofVisualClues.In [53] CiyouZhu,RichardHByrd,PeihuangLu,andJorgeNocedal.1997.Algorithm778:
MobileHuman-ComputerInteraction-MobileHCI2004,StephenBrewsterand L-BFGS-B:Fortransubroutinesforlarge-scalebound-constrainedoptimization.
MarkDunlop(Eds.).SpringerBerlinHeidelberg,Berlin,Heidelberg,337â€“341. ACMTransactionsonmathematicalsoftware(TOMS)23,4(1997),550â€“560.
[34] SvenMayer,HuyVietLe,andNielsHenze.2017.EstimatingtheFingerOrien-
tationonCapacitiveTouchscreensUsingConvolutionalNeuralNetworks.In
Proceedingsofthe2017ACMInternationalConferenceonInteractiveSurfacesand
Spaces(ISSâ€™17).AssociationforComputingMachinery,NewYork,NY,USA,
220â€“229. https://doi.org/10.1145/3132272.3134130
[35] SaulBNeedlemanandChristianDWunsch.1970.Ageneralmethodapplicable
tothesearchforsimilaritiesintheaminoacidsequenceoftwoproteins.Journal
ofmolecularbiology48,3(1970),443â€“453.
[36] TomOuyang,DavidRybach,FranÃ§oiseBeaufays,andMichaelRiley.2017.Mobile
KeyboardInputDecodingwithFinite-StateTransducers. arXiv:cs.CL/1704.03987
[37] KseniiaPalin,AnnaMariaFeit,SunjunKim,PerOlaKristensson,andAntti
Oulasvirta.2019.HowdoPeopleTypeonMobileDevices?Observationsfroma
Studywith37,000Volunteers.InProceedingsofthe21stInternationalConference
onHuman-ComputerInteractionwithMobileDevicesandServices(MobileHCIâ€™19).
AssociationforComputingMachinery,NewYork,NY,USA,Article9,12pages.
https://doi.org/10.1145/3338286.3340120
[38] F.Pedregosa,G.Varoquaux,A.Gramfort,V.Michel,B.Thirion,O.Grisel,M.
Blondel,P.Prettenhofer,R.Weiss,V.Dubourg,J.Vanderplas,A.Passos,D.Cour-
napeau,M.Brucher,M.Perrot,andE.Duchesnay.2011.Scikit-learn:Machine
LearninginPython.JournalofMachineLearningResearch12(2011),2825â€“2830.
[39] PhilipQuinn,WenxinFeng,andShuminZhai.2021.DeepTouch:SensingPress
GesturesfromTouchImageSequences.ArtificialIntelligenceforHumanComputer
Interaction:AModernApproach(2021),169â€“192. https://doi.org/10.1007/978-3-
030-82681-9_6
[40] ShyamReyal,ShuminZhai,andPerOlaKristensson.2015. Performanceand
UserExperienceofTouchscreenandGestureKeyboardsinaLabSettingandin
theWild.InProceedingsofthe33rdAnnualACMConferenceonHumanFactorsin
ComputingSystems(CHIâ€™15).AssociationforComputingMachinery,NewYork,
NY,USA,679â€“688. https://doi.org/10.1145/2702123.2702597
[41] MariusRusuandSvenMayer.2023.DeepLearningSuper-ResolutionNetwork
FacilitatingFiducialTangiblesonCapacitiveTouchscreens.InProceedingsofthe
2023CHIConferenceonHumanFactorsinComputingSystems(CHIâ€™23).Asso-
ciationforComputingMachinery,NewYork,NY,USA,Article199,16pages.
https://doi.org/10.1145/3544548.3580987UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA PiyawatLertvittayakumjorn,ShanqingCai,BillyDou,CedricHo,andShuminZhai
A EFFECTSIZES Table9:Cohenâ€™sğ‘‘effectsizeofmethodpairsinTable3(Bot-
tom)(Study2:OfflineTest-Unseen)whenusingthespatial
Tables 7-11 report the Cohenâ€™sğ‘‘ effect sizes [9] of each result
model(SM)onlyandwhentheadditionaltechniqueswere
tableinSections4-6inordertohelpinterprethowimpactfulthe
incorporated.
differentconditionswere.Inthefollowingtables,ğ¶,ğ» ğ‘“,andğ»
ğ‘œ
denotethetouchcentroid,theflattenedheatmap,andtheheatmap
overlapvectorinputfeatures,respectively,whileğ¶ğ» ğ‘“ isğ¶andğ» ğ‘“ Method Cohenâ€™sğ‘‘effectsizeâ†‘
concatenatedandğ¶ğ» ğ‘œ isğ¶andğ» ğ‘œ concatenated. On-key Dist. (ğ¶) (ğ» ğ‘“) (ğ¶ğ» ğ‘“) (ğ» ğ‘œ) (ğ¶ğ» ğ‘œ)
Table7:Cohenâ€™sğ‘‘effectsizeofmethodpairsinTable2(Study SMonly
On-key N/A 0.15 -0.51 -0.68 -0.70 -1.00 -0.86
1) when using the spatial model (SM) only and when the
Distance -0.15 N/A -0.56 -0.74 -0.77 -1.05 -0.92
additionaltechniqueswereincorporated.
(ğ¶) 0.51 0.56 N/A -0.22 -0.35 -0.72 -0.68
(ğ» ğ‘“) 0.68 0.74 0.22 N/A -0.56 -0.90 -0.84
Method Cohenâ€™sğ‘‘effectsizeâ†‘ (ğ¶ğ» ğ‘“) 0.70 0.77 0.35 0.56 N/A -0.75 -0.71
On-key Dist. (ğ¶) (ğ» ğ‘“) (ğ¶ğ» ğ‘“) (ğ» ğ‘œ) (ğ¶ğ» ğ‘œ) (ğ» ğ‘œ) 1.00 1.05 0.72 0.90 0.75 N/A 0.44
SMonly (ğ¶ğ» ğ‘œ) 0.86 0.92 0.68 0.84 0.71 -0.44 N/A
On-key N/A -1.04 -1.73 -2.30 -2.25 -2.22 -2.43
+Additionaltechniques
Distance 1.04 N/A -1.62 -2.16 -2.11 -2.09 -2.28
Distance N/A N/A 0.42 -0.55 -0.54 -0.58 -0.48
(ğ¶) 1.73 1.62 N/A -1.38 -1.32 -1.25 -1.52 (ğ¶) N/A -0.42 N/A -1.25 -1.27 -1.89 -1.58
(ğ» ğ‘“) 2.30 2.16 1.38 N/A 0.07 0.92 0.85 (ğ» ğ‘“) N/A 0.55 1.25 N/A 0.21 -0.36 -0.15
(ğ¶ğ» ğ‘“) 2.25 2.11 1.32 -0.07 N/A 0.85 0.78 (ğ¶ğ» ğ‘“) N/A 0.54 1.27 -0.21 N/A -0.42 -0.21
(ğ» ğ‘œ) 2.22 2.09 1.25 -0.92 -0.85 N/A -0.76 (ğ» ğ‘œ) N/A 0.58 1.89 0.36 0.42 N/A 0.24
(ğ¶ğ» ğ‘œ) 2.43 2.28 1.52 -0.85 -0.78 0.76 N/A (ğ¶ğ» ğ‘œ) N/A 0.48 1.58 0.15 0.21 -0.24 N/A
+Additionaltechniques
Distance N/A N/A 1.13 -1.54 -1.49 -0.84 -1.06
(ğ¶) N/A -1.13 N/A -3.25 -3.07 -2.53 -2.79
Table10:AbsoluteCohenâ€™sğ‘‘effectsizebetween(ğ¶)and(ğ» ğ‘œ)
(ğ» ğ‘“) N/A 1.54 3.25 N/A 0.32 1.41 1.42 o fof rt myp ei dn (g ğ¶m )ie ntr bi ocs thin mT ea tb ril ce s4 a( nS dtu bd oy th3) p. rN oo mte pt th ta yt p( eğ» sğ‘œ .)outper-
(ğ¶ğ» ğ‘“) N/A 1.49 3.07 -0.32 N/A 1.21 1.23
(ğ» ğ‘œ) N/A 0.84 2.53 -1.41 -1.21 N/A -0.38
(ğ¶ğ» ğ‘œ) N/A 1.06 2.79 -1.42 -1.23 0.38 N/A AbsoluteCohenâ€™sğ‘‘effectsize
WPM-Phrase WPM-OOV WER-Phrase WER-OOV
0.6197 0.1775 0.5129 0.2942
Table8:Cohenâ€™sğ‘‘effectsizeofmethodpairsinTable3(Top)
(Study2:OfflineTest-Subset)whenusingthespatialmodel
(SM)onlyandwhentheadditionaltechniqueswereincorpo- Table11:AbsoluteCohenâ€™sğ‘‘effectsizebetween(ğ¶)and(ğ» ğ‘œ)
rated. of character error rates (CERs) in Table 5 (Study 3). Note
that(ğ» ğ‘œ)outperformed(ğ¶)inbothEnglishphrasesandOOV
Method Cohenâ€™sğ‘‘effectsizeâ†‘ stringsregardlessofwhethertheLMison.
On-key Dist. (ğ¶) (ğ» ğ‘“) (ğ¶ğ» ğ‘“) (ğ» ğ‘œ) (ğ¶ğ» ğ‘œ)
AbsoluteCohenâ€™sğ‘‘effectsize
SMonly
Phrase-LMoff Phrase-LMon OOV-LMoff OOV-LMon
On-key N/A -0.71 -0.18 -0.36 -0.41 -0.42 -0.57
Distance 0.71 N/A -0.10 -0.27 -0.32 -0.33 -0.47 Onlytouchpointsprocessedbythemodel
(ğ¶) 0.18 0.10 N/A -0.49 -0.68 -0.32 -0.58 0.2819 1.0725 0.4785 0.8970
(ğ» ğ‘“) 0.36 0.27 0.49 N/A -0.39 -0.01 -0.21
Alltouchpoints
(ğ¶ğ» ğ‘“) 0.41 0.32 0.68 0.39 N/A 0.08 -0.11
0.1598 0.7319 0.2527 0.4009
(ğ» ğ‘œ) 0.42 0.33 0.32 0.01 -0.08 N/A -0.25
(ğ¶ğ» ğ‘œ) 0.57 0.47 0.58 0.21 0.11 0.25 N/A
+Additionaltechniques B ADDITIONALSIMULATIONFORSTUDY3
Distance N/A N/A 1.10 -0.08 0.01 -0.03 -0.09 In Study 3, we used the (ğ» ğ‘œ) model as a representative of the
(ğ¶) N/A -1.10 N/A -1.62 -1.53 -1.66 -2.34
heatmap-basedmodelsduetoitsbestperformancewhendecoding
(ğ» ğ‘“) N/A 0.08 1.62 N/A 0.94 0.10 0.01
unseenpromptsinStudy2.Inthissection,wesimulatedStudy3
(ğ¶ğ» ğ‘“) N/A -0.01 1.53 -0.94 N/A -0.06 -0.17 fortheotherthreeheatmapmodels,(ğ» ğ‘“),(ğ¶ğ» ğ‘“),and(ğ¶ğ» ğ‘œ),on
(ğ» ğ‘œ) N/A 0.03 1.66 -0.10 0.06 N/A -0.21 thesamesetoftaps(ğ» ğ‘œ)processed.TheCERsaveragedacrossall
(ğ¶ğ» ğ‘œ) N/A 0.09 2.34 -0.01 0.17 0.21 N/A participantsareshowninTable12.Overall,the(ğ» ğ‘œ)modelwas
stillthebestmodelamongthesefeaturesets.CanCapacitiveTouchImagesEnhanceMobileKeyboardDecoding? UISTâ€™24,October13â€“16,2024,Pittsburgh,PA,USA
Table12:Charactererrorrates(CERs)â†“ Â±standarddeviation(%)whenapplyingthemodelsonthesamesetoftaps(ğ» ğ‘œ)
processedinStudy3.TheresultsarereportedforeachprompttypeandLMsetting.
Model Englishphrases OOVstrings Overall
LMoff LMon LMoff LMon LMoff LMon
Onlytouchpointsprocessedbythemodel
(ğ¶) 11.55Â±5.47 5.00Â±2.67 12.39Â±6.51 27.79Â±6.81 11.64Â±5.42 6.63Â±2.99
(ğ» ğ‘“) 10.86Â±5.70 4.27Â±2.94 7.22Â±6.23 22.20Â±7.35 10.63Â±5.39 5.54Â±3.06
(ğ¶ğ» ğ‘“) 10.73Â±5.82 4.19Â±3.03 7.22Â±6.23 22.61Â±7.61 10.51Â±5.48 5.49Â±3.18
(ğ» ğ‘œ) 9.80Â±5.32 3.65Â±2.53 7.85Â±5.70 22.84Â±7.56 9.68Â±5.13 5.00Â±2.87
(ğ¶ğ» ğ‘œ) 9.81Â±5.30 3.76Â±2.62 8.06Â±5.31 22.94Â±7.23 9.70Â±5.07 5.11Â±2.90
Alltouchpoints
(ğ¶) 6.55Â±4.41 3.21Â±2.24 4.22Â±3.90 8.25Â±5.28 6.28Â±4.23 3.84Â±2.46
(ğ» ğ‘“) 6.27Â±4.46 2.92Â±2.39 2.68Â±2.73 6.55Â±4.12 5.83Â±4.05 3.37Â±2.39
(ğ¶ğ» ğ‘“) 6.21Â±4.57 2.89Â±2.47 2.68Â±2.73 6.69Â±4.26 5.79Â±4.14 3.36Â±2.49
(ğ» ğ‘œ) 5.72Â±4.12 2.58Â±2.07 2.91Â±2.69 6.81Â±4.34 5.38Â±3.81 3.11Â±2.21
(ğ¶ğ» ğ‘œ) 5.74Â±4.15 2.65Â±2.12 2.91Â±2.63 6.81Â±4.32 5.40Â±3.82 3.17Â±2.24
C TRAININGANDVALIDATIONLOSSES Table13:Trainingandvalidationcross-entropylossesofthe
models.ForStudy1,wereportboththeaveragelossesand
Todemonstratereliabilityofthemodels,wereportthetraining
thestandarddeviationcomputedacrossthe24foldsofthe
andvalidationcross-entropylossesinTable13.ForStudy1,the
leave-one-outcrossvalidation.
losseswereaveragedacrossthe24foldsoftheleave-one-outcross
validation.Meanwhile,forStudy3,thelosseswerereportedforthe
singleparticipantsplitusedtotrainthemodelsinthestudy.We Model Study1 Study3
donotreportthelossesforStudy2sinceitusedthesamesetof Training Validation Training Validation
modelsasStudy1. (ğ¶) 0.226Â±0.004 0.229Â±0.018 0.246 0.255
(ğ» ğ‘“) 0.102Â±0.005 0.116Â±0.024 0.100 0.120
(ğ¶ğ» ğ‘“) 0.098Â±0.004 0.110Â±0.023 0.095 0.114
(ğ» ğ‘œ) 0.141Â±0.007 0.146Â±0.027 0.135 0.157
(ğ¶ğ» ğ‘œ) 0.124Â±0.006 0.128Â±0.025 0.118 0.136